30-31 January 2010 Macao, Macao 
CICC-ITOE 
Innovative Computing and Communication Information Technology and Ocean Engineering 
Published by the IEEE Computer Society 10662 Los Vaqueros Circle P.O. Box 3014 Los Alamitos, CA 90720-1314 
Innovative Computing and Communication Information Technology and Ocean Engineering CICC-ITOE 
2010 
IEEE Computer Society Order Number P3942 ISBN 978-0-7695-3942-3 Library of Congress Number 2009939220 BMS Part Number CFP1080I-PRT 
2010 International Conference on 2010 Asia-Paci\037c Conference on 2010 
2010 International Conference on 2010 Asia-Paci\037c Conference on 
Co-sponsored by 


two non-overlapping subsets of I  X and Y be two sets of transactions containing items x and y respectively The goal of association analysis is to sear ch for interesting association or correlation relationships between X and Y  That is if the items in x appear in a transaction it is likely that the items in y will also appear i.e it is not an implication in the formal logical sense There are two useful measures for the association analysis support and condence The support of a rule is the fraction of transactions in which both X and Y appear and the condence of a rule is an estimate based on the samples of the conditional probability of Y given X  The mathematical denitions are given below Supp  X  Y  X  Y T  1 Conf  X  Y  X  Y X  2 Typically association rule mining algorithms discover all item associations or rules in the data that satisfy the userspecied minimum support minsup and minimum conﬁdence minconf constraints Minsup controls the minimum number of data cases that a rule must cover Minconf controls the predictive strength of the rule A association rule is correct if it satises these two parameters Fuzzy association analysis has been intensively studied in recent years 21 22    23  18   T he s t andard e x tens ion to the fuzzy case is to treat the multi sets X  Y as fuzzy and nd the intersection and cardinality using a t norm and sigma-count respectively The condence Equation 2 is transformed into Conf  X  Y   i I  XY  i   i I  X  i  3 where  refers to the monadic fuzzy membership function Using min and the sigma count for cardinality can be unsatisfactory 22 b ecaus e it does not distinguish between several tuples with low memberships and few tuples with high memberships In the granule setting we allow partial membership For example instead of looking for an association between potato crisps and beer  we might look for an association between snack foods and alcoholic drinks  It is important to note that we are dealing with conjunctive fuzzy sets monadic fuzzy relations here Mass assignment theory is normally applied to fuzzy sets representing possibility distributions and the operation of nding the conditional probability of one fuzzy set given another is known as semantic unication 24  T hi s r es t s on t h e underl yi ng as s u mpt i o n o f a s i ngl e valued attribute A different approach is required to nd the conditional probability when we are dealing with set-valued attributes In the rest of the section we briey discuss mass assignment based fuzzy associ ation rule mining algorithm Detailed theoretical study can be found at 25  A Granule Association Analysis Mass-based Approach When working with large datasets a natural approach is to group similar items/transactions into categories or sets and summarise the data in term of such categories which is a key feature of human intelligence to discover knowledge Granules provide a convenie nt way to describe a nite set of objects by specifying certain selection criteria Once the granules are constructed one may be interested in developing computational methods to study the relationships among these granules The core of information granulation 26 i s t hat i nformation can be processed on different levels of abstraction in which data objects are organised into meaningful granules 1 so as to convey a perception of information itself Thus it is necessary to study the criteria for deciding how a clump of points objects are d rawn together by indistinguishability similarity proximity or functionality 2 In th is p a p e r  we assume that the entities instances that are being categorised are known unambiguously We consider two granules represented as monadic fuzzy relations X and Y on the same domain and wish to calculate the degree of associa tion between them For example consider a search transaction database of Web search engine containing activity time and number of queries gures We can categorise transactions according to whether their activity time are long  medium or short and also according to whether their click through rate gures are high  moderate or low  A mining task might be nding out whether the high click through rate gures are associated with long activity time GivenTableI TABLE I A CTIVITY T IME V  S C LICK T HROUGH R AT E ID Activity Time\(s Click Through Rate a 4,000 10 b 3,200 4 c 2,000 8 d 800 7 suppose we have source granule as long activity time  X  and target granule as high click through rate  Y  by dening the monadic fuzzy relations X  a 1 b 0  8 c 0  5 d 0  2 and Y  a 1 b 0  4 c 0  8 d 0  7 It is important to note that these represent sets of values that all satisfy the related granule to a degree Unless explicitly mentioned all the sets in the rest of the section shall be interpreted as conjunctive relations The condence in an association rule in such setting can be calculated as follows 1 A fuzzy subset of the uni verse corresponds to a granule in this paper 


Without loss of generality w e explain the operations on the source granule For a source granule we have X  x 1  X  x 1  x 2  X  x 2    x X   X  x X   we can dene the corresponding mass assignment 24 for the source granule as follows Let the set of distinct memberships in X be   1 X  2 X     n X  X  where  1 X  2 X      n X  X and n X X  Let X 1    x   X  x   1 X   and X i    x   X  x     i  X    1 i  n X then the mass assignment corresponding to X is X i  m X  X i    1  i  n X where m X  X k    k  X    k 1 X    i  X 0 if i  n X  For example given source granule X  a 1 b 0  8 c 0  5 d 0  2 it has the corresponding mass assignment M X    a 0  2   a b  0  3   a b c  0  3   a b c d  0  2  We can now calculate the condence in the association between the granules X and Y using mass assignment theory In general this will be an in terval as we are free to move mass consistently between elements of each X i and Y j  For two mass assignments M X  X i  m X  X i    1  i  n X and M Y  Y j  m Y  Y i    1  j  n Y the composite mass assignment is M C  M X  M Y   S  m C  S   where m C is the composite mass allocation function subject to n Y  j 1 M C  ij  m X  X i  n X  i 1 M C  ij  m Y  Y i  We can get Conf  X  Y  n X  i 1 n Y  j 1 M C  ij  X i Y j  n X  i 1 n Y  j 1 M C  ij  X i  4 We can calculate the condence in the Table II This enables us to calculate a ssociation condences with O  cn  complexity rather than O n 4 here c is a constant and n is the number of focal elements in the source granule X  For the given example we get the condence value 0.744 through Table II Minimum and maximum condence are not considered in this paper Further details can be found at 25  T he t h eoret i cal compari s on s t udy bet w een t h e p ropos ed association algorithm and other methods can be found at 27  TABLE II M ASS T ABLE  2 a,c 1 a,c,d  0  3 a,c,d,b  0  4  2 a a a a a,b 3 a a a ab a,b,c  0  3 a ac ac abc a,b,c,d  0  2 a ac acd abcd Conf  S T 0  2  0  2+0  1+0  3+0  4  1 0  3  0  2+0  1+0  3  1+0  3  0  4  2 0  3  0  2  1+0  3  0  1+0  3  2 0  3  0  4  3 0  2  0  2  1+0  2  0  1  2 0  2  0  3  3+0  2  0  4  4  2  5 0  744 III E XPERIMENTS We divide our experiments into two parts The rst part is conducted on part of a Web search click data set with 65,516 unique users and 3,558,412 lines of web search log from a commercial search engine This part of the experiments shows the potentials of the proposed fuzzy association rules mining algorithm in intelligent user behaviour proling The second part is conducted on the Web search click data set with 197,476 unique users and 10,853,833 lines of web search log from the same commercial search engine This part of the experiments studies whether enlarged number of unique users affects the results of user behaviour we discovered It also demonstrates the scalability of the proposed method to process large scale data sets A Variables Relating to User Behaviour The data set contains three months Web search click data collected from a commercial web search engine in 2006 To safeguard user privacy all user identiable data were anonymised and are further encrypted when analysing data The data set has ve elds Anonymous ID Query String Query Time Item Rank and Clicked URL They are summarised in the Table III In this section we propose and 


TABLE III W EB S EARCH C LICK D ATA S ET Filed name Description Anonymous ID User identiable data is anonymised with non-reconstructable crypto function Query String User queries consist of words separated by a space and have punctuation removed Query time The time stamp when user submitting the query in format of dd-mm-yyyy ss:mm:hh Item Rank The rank of the item on which a user clicked empty if user didnít click Clicked URL The URL clicked by a user in the returned search results            012      015\015    015     012 012               Fig 1 Fuzzy membership function associated user categories   015          012\015      012 Fig 2 Fuzzy membership function associated query length categories discuss several variables relating to user search behaviour study from a service providerís perspective These variables are explained below 1 Overall Access Times OAT   It refers to the number of times that a user visits a search engine during the observation time This variable intuitively indicates a userís likability of reusing the search engine 2 Average Query Length AQL   It refers to the average number of words in the user queries during the observation time This variable indicates a userís regular searching tendency when submitting queries Note that we donít study the actual semantic meaning of query terms in the user queries as such topic will be discussed in a different paper 3 Average Page Rank APR   It refers to the average page rank of the URLs that users clicked in the returned search results This variable indicates that how positive a user thinks the ranking of the returned search results that match his/her expectation 4 Cumulative Activity Time CAT   It refers to the length of the period that a user uses a search engine This variable indicates a userís persistence of using a search engine Note that we use the xed 20 minutes as the maximum difference between two activities in the same session as suggested by 28  5 Click Through Rate CTR   It refers to the ratio of user click times to overall visit times during the observation time This variable indicates a user satisfaction to the quality of the returned results 6 Negative Impactor Factor NIF   It refers to the ratio of the number of a userís failed not-clicked unique queries to the number of clicked unique queries This variable indicates the p sychological impactor to a userís searching behaviour Intuitively the more times a user failed to nd answers after submitting queries the more negative impression a user would get from a search engine consequently the less likely a user might reuse the search engine B Experiment Part I This part of experiment is conducted on a Web search click data set with 65,516 unique users and 3,558,412 lines of search transactions We focus on studying user behaviour with regard to the variables proposed above Note that fuzzy membership functions dened in this section are based on the priori knowledge and experience and can be modied accordingly 1 User Behaviour Knowledge I Users v.s Length of Query We aim to study the behavioural relationship between users and query length in the rst study We dene seven user categories with regard to overall access times OAT as one off of infrequent inf occasional occ intermittent int frequent freq very frequent vf and loyal loy Fuzzy membership function associated with user categories is shown in Fig 1 Similarly we dene three query length categories as short\(s  medium\(m and long\(l with regard to the number of words in a query Fuzzy membership function associated query length categories is shown in Fig 2 


    012       012 015        a      012            012 015    b Fig 3 User behaviour study I  015      012  015\015      015       012\012    015     Fig 5 Fuzzy membership function associated ranking categories                        012\015  012          012 Fig 4 Fuzzy membership function associated activity time categories The results are shown in Fig 3 Note that we donít produce the normal format of association rules for sake of better illustration For example the value in Fig 3\(a is 62.3 It represents that the condence value of rule loyal user  short length queries is 0.623 or 62.3 IF a user falls into loyal user category THEN it is 62.3 condent that the user will submit short length queries We can observe that  Overwhelmingly the users in all categories submit short length queries to the search engine This behaviour is supported by Fig 3\(a as all the condence values are greater than 0.6 Long length queries are rarely used and are not discussed in the rest of the paper It would be interesting to study the reasons behind this user behaviour e.g short queries leading to better search results which may be further exemplied by higher click through rate We leave this question to be answered in the next section  The more the users use the search engine the more likely they are to use varied length of queries to search This behaviour is exemplied by the Fig 3\(a as the association values between users and short length queries decrease while those with medium length queries increase We note that very frequent and loyal users are especially like to use varied length of queries while frequent users are more likely to submit short length queries It would be interesting to see how such query behaviour of very frequent  loyal users is formed since such behaviour is not related to their activity time see Fuzzy membership functions in Fig 4 and associated results in Fig 3\(b 2 User Behaviour Knowledge II Users with Varied Query Length v.s Average Page Ranking Negative Impact Factor We study how search behaviour of frequent  very frequent  loyal users is associated with the ranking of returned search results We donít study their behaviour with regard to long queries as we conclude in Section III-B.1 that such queries have no signicant association with the users We dene the page ranking categories as To p  High  Medium  Low and Ve r y L o w  Fuzzy membership function is shown in Fig 5 The results are shown in Fig 6 We can observe that  Overwhelmingly the users in all categories click top and high ranking results as shown in Fig 6  When submitting short length queries frequent and very frequent users are more likely to click top ranking results while loyal users are more interested in high ranking results When submitting medium length 


       012  015     012 015       Fig 6 User behaviour study IIA           012 015  015   012  015     012    012    015     Fig 7 Fuzzy membership function a ssociated with negative impact factor categories queries it is interesting to note that loyal users are most likely to click high ranking results than top ranking results as we can see in Fig 6 that there is signicant difference between the association values This result is especially interesting to service providers as our results show that loyal users have different opinions with regard to their ranking algorithm It would be helpful for service providers personalise/optimise their ranking algorithm or page layouts for specic users that are identied as loyal and submitting medium length queries The above results motivate us to ask another question would users be impacted negatively if the returned results donít match their expectation In tuitively the more occasions a user failed to nd an answer through a query the more negative impression a user would get from a search engine Thus by investigating such behaviour it is helpful for the search engine to have a better understanding of users satisfaction with the quality of the returned results in order to further improve their search experience We dene negative impact factor categories as Low  Medium and High  Fuzzy membership function is shown in Fig 7 The results are shown in Fig 8 We can observe that the more frequently the users use the search engine the less likely they are affected by negative impact factor the higher ranking results the users usually click the more likely they are affected by negative impact factor It is thus important for service providers to ensure that top and high ranking results maximumly match users expectation  012\015      012 012\015	\012             012  015 Fig 8 User Behaviour Study IIB             012  015       012\015                 Fig 9 Fuzzy membership function associated with click through rate categories 3 User Behaviour Knowledge III Users with Varied Query Length v.s Click Through Rate We move on to study how search behaviour of frequent  very frequent  loyal users is associated with the click through rate which is a good way of measuring the success of search engines We dene click through rate categories as Low  Medium and High  Fuzzy membership function is shown in Fig 9 The results are shown in Fig 10 We can observe that Fig 10 shows that loyal users when submitting medium length queries are very likely to achieve high click through rate with condence value 0.74 by clicking high ranking results They are also less likely to be affected when medium length queries failed to return satisfactory answers The benet of this result is that it would enable service pr oviders to accordingly adjust their advertisement strategy t o allow medium length keyword 


       012   012     015      015        015    015\015 015          012 012\015  012      012    012     015    Fig 10 User behaviour study III strings for advertisers in order to maximise potential click through rate of online advertisements displayed in the search results pages C Experiment Part II This part of experiment is conducted on a Web search click data set with 197,476 unique users and 10,853,833 lines of search transactions This dat a set contains all the data we used in the Section III-B We study whether enlarged number of unique users affects the results of user behaviour proling stated in previous section It also demonstrates the scalability of the proposed method to process large scale data sets We re-use all the fuzzy membership functions dened in the previous section The results are shown in Table IV It is safe to conclude that enlarged number of unique users does not affect the results of user behaviour in Section III-B which is strong evidence that the proposed method can be used to predict peopleís behaviour due to the stability of the results To study the scalability we compare the actual time of computing V and the results are shown in Table VI The experiments are carried out on a Macbook 2.0GHZ with 4GB memory running Mac OS X 10.5.8 and Java 1.6.0 13 As the number of users in the second part of the experiment is increased by 3 times it is noti ceable that the actual computing time increases by around 10 times while theoretically it should be around 3 c times where c is a constant factor as mentioned in Section II-A This would give c a value of 3.5 It is reasonable to conclude that the complexity of our fuzzy association algorithm is O\(3.5n in practice IV C ONCLUSION AND F UTURE W ORK In this paper we propose to use mass assignment based fuzzy association rule mining algorithm to personalise analysis of user behaviour from web search log for search engine providers We demonstrate that the proposed method can automatically discover user behaviour knowledge and is scalable to process large scale dataset In our future work we will conduct more studies on several directions affecting user search behaviour in the search engine such as visual layout of returned results semantic intention of user queries psychological impact of failed queries It would be desirable to assess the proposed method in different web search logs and comparativ ely study the possible user behaviour variability in different search engines R EFERENCES  E  A gichtein E  B rill and S  D um ais Improving web search ranking by incorporating user behavior information in SIGIR 06 Proceedings of the 29th annual international ACM SIGIR conference on Research and development in information retrieval NewYork,NY USA ACM 2006 pp 19ñ26  Y  L iu M  Z hang S Ma a nd L  Ru  User beha vior oriented web spam detection in WWW 08 Proceeding of the 17th international conference on World Wide Web  New York NY USA ACM 2008 pp 1039ñ1040  J  Y an N  L iu G  W ang W  Z h ang Y  Jiang and Z  C hen Ho w much can behavioral targeting help online advertising in WWW 09 Proceedings of the 18th international conference on World wide web  New York NY USA ACM 2009 pp 261ñ270  S  H an A  G ok er  a nd D  H e   W e b u s e r s earch pattern a nalys i s f or modeling query topic changes in Workshop on User Modelling for Context-Aware Applications  Sonthofen Germany 2001  P  S ingla a nd M  Richards on Y es  t here is a c orrelation from s ocial networks to personal behavior on the web in 17th International World Wide Web Conference WWW2008  New York NY USA ACM April 2008 pp 655ñ664  T  K aragiannis a nd M  V o jno v ic Beha v ioral p ro les for a dv anced email features in WWW 09 Proceedings of the 18th international conference on World wide web  New York NY USA ACM 2009 pp 711ñ720  R  W  W hite and S  M  D ruck er   Investigating behavioral variability in web search in WWW 07 Proceedings of the 16th international conference on World Wide Web  New York NY USA ACM 2007 pp 21ñ30  B  P iw o w ars k i G  D upret and R  J ones  M ining u s e r w eb s earch activity with layered bayesian netw orks or how to capture a click in its context in WSDM 09 Proceedings of the Second ACM International Conference on Web Search and Data Mining  New York NY USA ACM 2009 pp 162ñ171  D  J  B renes a nd D  G a yo-A v ello  S t rati ed analys i s o f a ol query log Information Sciences  vol 179 no 12 pp 1844ñ1858 May 2009 O A v ailable http://dx doi o r g 10 1016/j ins  2009  01 027  L  A Z a deh From c om puting w ith num bers to com puting w ith w o rds from manipulation of measuremen ts to manipulation of perceptions in Intelligent Systems and Soft Computing  2000 pp 3ñ40  S  M itra S  M e m b er  F ello w  S  K  P al and P  M itra D ata m i ning in soft computing framework A survey IEEE Transactions on Neural Networks  vol 13 pp 3ñ14 2001  D  A r otaritei and S  M itra W eb m i ning a s urv e y i n t he fuzzy framework Fuzzy Sets and Systems  vol 148 no 1 pp 5ñ19 November 2004  A Joshi a nd R Krishnapuram   Rob u st fuzzy clustering m ethods to support web mining in Proc Workshop in Data Mining and knowledge Discovery SIGMOD  1998 pp 15ñ1 


TABLE IV U SER B EHAVIOUR I-U SERS V  S Q UERY L ENGTH 65,516 U SERS V  S  197,476 U SERS  AQL\(s 65,516 AQL\(s 197,476 AQL\(m 65,516 AQL\(m 197,476 freq 0.749 0.753 0.247 0.244 vf 0.697 0.695 0.301 0.302 loy 0.621 0.616 0.373 0.378 TABLE V U SER B EHAVIOUR II U SERS WITH V ARIED Q UERY L ENGTH V  S A VERAGE P AGE R ANK 197,476 U SERS  Ranking To p 65,516 To p 197,476 High 65,516 High 197,476 Medium 65,516 Medium 197,476 loy  AQL\(s 0.353 0.348 0.388 0.395 0.155 0.160 loy  AQL\(m 0.199 0.195 0.473 0.485 0.211 0.207 vf  AQL\(s 0.435 0.437 0.371 0.365 0.132 0.129 vf  AQL\(m 0.286 0.285 0.477 0.475 0.161 0.157 freq  AQL\(s 0.514 0.507 0.330 0.339 0.101 0.097 freq  AQL\(m 0.347 0.345 0.444 0.452 0.140 0.133 TABLE VI S CALALBILITY 65,516 U SERS V  S  197,476 U SERS U SER B EHAVIOUR II Ranking To p 65,516 To p 197,476 High 65,516 High 197,476 Medium 65,516 Medium 197,476 loy  AQL\(s 1,836ms 13,546ms 951ms 7,297ms 184ms 2,756ms loy  AQL\(m 1,368ms 11,898ms 685ms 6,593ms 175ms 2,645ms vf  AQL\(s 1,323ms 10,295ms 640ms 5,362ms 92ms 875ms vf  AQL\(m 1,329ms 10,325ms 660ms 5,050ms 91ms 882ms freq  AQL\(s 1,748ms 17,348ms 1,017ms 11,748ms 516ms 7,620ms freq  AQL\(m 1,649ms 15,453ms 934ms 10,061ms 408ms 5,767ms  O  N a s r aoui H  F rigui R  K ris hnapuram  a nd A  J o s h i E xtracting web user proles using relational competitive fuzzy clustering International Journal on Artiﬁcial Intelligence Tools  vol 9 no 4 pp 509ñ526 2000  T  A  Runkler and J  C  B ezdek  W e b m ining w ith relational clustering International Journal of A pproximate Reasoning  vol 32 no 2-3 pp 217ñ236 February 2003 O A v ailable http://dx.doi.org/10.1016/S0888-613X\(02\084-1  P  Cors ini a nd F  M a rcelloni  A f uzzy s y s tem for p ro ling w eb portal users from web access log Journal of Intelligent and Fuzzy Systems  vol 17 no 5 pp 503ñ516 2006  O  N a s r aoui  O  N a s r aoui a nd C P etenes   Com b ining w eb us age mining and fuzzy inference for website personalization in In Proc of WebKDD  2003 pp 37ñ46  M  D elgado N  M  n D  S n chez and M  a am p aro V ila F uzzy association rules general model and applications IEEE Transactions on Fuzzy Systems  pp 214ñ225 2003  T  P  H ong K Y  L in a nd S L  W ang Mining linguistic bro w sing patterns in the world wide web Soft Comput  vol 6 no 5 pp 329 336 2002  R A g ra w al T  Im ieli  nski and A Swami Mining association rules between sets of items in large databases in SIGMOD 93 Proceedings of the 1993 ACM SIGMOD internati onal conference on Management of data  New York NY USA ACM 1993 pp 207ñ216  P  Bos c and O  P i v ert O n s om e f uzzy e x tens i ons of as s o ciation r ules   in IFSA World Congress and 20th NAFIPS International Conference 2001 Joint 9th  vol 2 July 2001 pp 1104ñ1109 vol.2  D Dubois E  H  ullermeier and H Prade A systematic approach to the assessment of fuzzy association rules Data Min Knowl Discov  vol 13 no 2 pp 167ñ192 2006  J  K acprzyk and S  Z adrozn y  L inguis tic s u m m a rization o f d ata s ets using association rules in Fuzzy Systems 2003 FUZZ 03 The 12th IEEE International Conference on  vol 1 May 2003 pp 702ñ707 vol.1  J  Baldw i n J  L a w r y  and T  P  M artin  E f  cient algorithm s for semantic unication in Information Processing and the Management of Uncertainty  1996  T  M a rtin and Y  S hen D ata in tegration approximate categorisation and fuzzy associations in IFSA/EUSFLAT Conf  2009 pp 986ñ991  L  A  Z a deh T o w ard a theory of fuzzy inform ation g ranulation a nd its centrality in human reasoning and fuzzy logic Fuzzy Sets Syst  vol 90 no 2 pp 111ñ127 1997  T  P  M a rtin Y  S hen and B  A zv ine Granular association rules for multiple taxonomies A mass assignment approach in URSW LNCS Vol   2008 pp 224ñ243  D  H e and A  G k e r  D etecting s es s i on boundaries from w eb us er logs in In Proceedingsof of the BCS-IRSG 22nd Annual Colloquium on Information Retrieval Research  2000 pp 57ñ66 


