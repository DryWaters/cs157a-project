Rules For Deriving Basic Semiconductor Region Models Bruno ALLARD member IEEE HeWC MOREL Chung-Chieh LIN Hichem HELALI, Jean-Pierre CHANTE member IEEE CENTRE DE GENIE ELECTRIQUE DE LYON CEGELY  URA CNRS 829 INSAECPA Building 401 20 avenue Albert Einstein F-69621 Villeurbanne Cedex France Fax 33 72438530  Email  allard@cegely.insa-1yon.k Abstract  We discuss some main rules for deriving power semiconductor device modular models The method is based on the classical regional hypothesis that parts any power semiconductor device in basic 
semiconductor regions as  the neutral ohmic region the gradient-doping neutral regon the high-levet injection region the space-charge region and the field-efect region But specific rules have to be observed in the model definition in order to obtain reusable models 7hen a power semiconductor devlce model becomes a simple association of several of the basic semiconductor region models  a bond graph The space charge region model description is covered Sign ficant results are presented I  INTRODUCTION CAD is hardly used in power electronic field today One main reason is that power semiconductor device accurate models are not available except the power MOS transistor model In fact numerous 
works concerned the power MOS transistor while few works focused on the bipolar power semiconductor devices We may note that the published results are not fully satisfying For example the commercially available simulators Saber and Spice do not offer any PIN diode model or any power bipolar transistor model The main difficulty is the occurrence of a high-level injection region inside the bipolar power semiconductor devices. This layer reduces the on-state device voltage drop but also increases the turn-off transient The high-level injection region HIR is the area of carrier storage that is a distributed phenomenon described by the ambipolar diffusion equation partial differential equation We have already proposed power 
bipolar semiconductor device models l-51 Particularly we have shown that the Intemal Approximation method a Variational Approximation technique enables to derive a HIR state-variable model a set of ordinary and differential equations depending on the time variable The method most important advantage is to yield a low-cost state-variable model compared to the discretization techniques 6 The HIR model brings a real improvement to the PIN diode model compared to other available models 7 We have successfully applied the method to the power bipolar transistor model 4 We thought then to reuse the same HIR model in the power BJT and 
PIN diode models as the physical phenomena are the same In fact the one-dimension HIR figure 1 is govemed by the ambipolar difision equation \(1 with the boundary conditions 2 and 3    plasma 1 N a b figure I  a typical highkvel injection region where t is the time variable, and x the geometrical variable p\(t,x is the hole concentration minority carriers a\(t\b\(t are the HIR boundary abscissa r\(x is the net doping concentration pn and pp are the carrier mobility D is the ambipolar diffusion coefficient A is 
the HIR active area i\(t is the total current crossing the HIR i t,a ip\(t,b are the minority carrier hole currents at the IR boundaries The equation set I to 3 is IC same for the PIN diode and the bipolar transistor The only differences are to be found in the variable values introduced in the boundary equations p\(a p\(b a b ip\(a ip\(b and i Thus if we build a HIR model where the external environment is represented by the latter variables we will obtain a reusable HR model for the case 
of the PIN diode and the bipolar transistor We just have seen how the HR model external variable choice is important if the model is to be reusable This paper deals with the main rules to be applied in order to obtain modular and reusable basic semiconductor region models section 2 The section 3 covers the space charge region model description using the Pacte software M language Pertinent results are presented in the section IV I1  HE MODULAR MODELLING BASIC RULES THE BASIC SEMICONDUCTOR REGIONS We have seen that a HIR is present both in the PtN 
diode in the power bipolar transistor and generally in all bipolar power devices The HIR has been enlighten applying the regional hypothesis that is a classical hypothesis in semiconductor device modelling In fact the semiconductor equations  the Poisson equation, the hole and electron transport equations  do not have the same importance in the different regions of a semiconductor device One lonely main physical phenomenon may often be observed in any given region of the device Then we may list easily the usual basic semiconductor regions BSRs where only one physical phenomenon is acting 9 table 1 44 


I carriers concentration carriers concentration ambipolar diffusion ambipolar diffusion tabk I the main typo of behavmur msrtJe the bipolar power semiconductor devices enemflow flow variable eleclric current i hydraulic related to volume flow In order to avoid sign error in the BSR model equations, we may notice that it is advised to consider minority and majority carriers instead of holes and electrons TIE EXTERNAL VARIABLES Once all the BSRs have been defined the model external variables have to be specified as we have seen before for the HIR. But we want that the association of the BSR models keeps as simple as a game So we must limit the number of the external variables Moreover it is suitable to choose one list for all the BSR models As a guide for the latter choice we have examined the main methods of model association that is to say the methods yielding the equation set of a given system Three main methods are to be considered The most classical is the nodal method Kirchhoff network that describes the connections between all the components of a network This method is used in Spice and Saber An other important method is the block diagram description It explicitly defines the direction of the information flows what does not perform the nodal method The block diagram description is used in Automatics and Mechanics Numerous softwares accept this system description input format  Tutsim, Matlab Acsl The bond graph techniques is described in IO But as this method is not usual in electronics we think important to recall same main points Born 30 years ago, this method wants to take the advantages of the two former methods and to unify the description of the dynamic behaviour of any physical system It is a network-like method but it is also a causal method as it comprises the system causality analysis that states out the direction of the information flows The bond graph technique underlying idea is to represent a physical system from the energy viewpoint The power characterising the energy is expressed as the product of aflow-variahle and an e@rt variable In the case of the semiconductor device the energy flows are linked to the free camer transports The potential energy flow is the electric energy current voltage The carrier kinetic energy is mostly the hydraulic energy flow volume flow pressure with the ideal gaz hydrodynamic hypothesis The table 2 lists the flow variable and the effort variable which product characterises the power associated to the two former energy flows Finally we think that the bond graph technique IO is the most efficient method in the case of our modelling problem 111 effort variable voltage U pressure Pn  n.kT  MOVING Bor ARES It appears as an evidence that care must be taken in the model derivation because of the semiconductor region moving boundaries THE BASIC SEMICONDIJCTOK REGION MODEL PAKAh4ETERS Consequently the BSR model parameters should be the parameters representing the main physical phenomonon in the BSR The table 3 lists the region main parameters It may be noted that there are very few parameters compared to the electrical parameters of the classical equivalent circuit models But their identification is not simple The technological parameter identification is out of the scope of this paper but details may be found in  131 n IS the electron concentration p IS the hole concentration tahle 2 the main energy flows acrosc a ccwwcondurtor rc'gion cross-area A Thc c arrier gas are c onsidered a ideal k 15 the Boltzmann constant TI STATE-VARIABLE MODELLWCi The state-variable modelling technique 12 is a general physical system modelling frame A state-variable model is an Algebraic and Ordinary Differential Equation set We may add that the bond graph analysis of a physical system Ieads to a state-variable representation of the different components of the system In fact a state-variable model takes care of the memory effect inside a system basic component This memory effect is always associated to an energy storage So a physical system bond graph should represent the energy flows between the system basic components while the basic component state-variable model should describe the energy storage inside the component a b a b figure 2  a typical HlR in the saturation state recovery state TIE CHANGE IN THE MODEL CAUSALITY We take the example of the minority carrier current i,\(t,a at one boundary of the HIR in order to illustrate the change in the HIR model causality. \(Note that the holes are now considered as the minority carriers in order to ensure the model use in the case of a N-doped or a P-doped HR The question is to point out which BSR is in charge of the minority carrier current im\(t,a value computation When the HIR exists and is in the saturation case figure Z the minority carrier current im\(t,a\is easily derived from the total current and the current associated to the minority carrier recombination in the P lateral layer The minority carriers \(the electrons diffused across figure 3  a typical HIR in the 4s 


table  the basic semiconductor region mod main parametwr  the space-charge regon from the HLR to the lateral P+ regton Dunng a recovery transient the space-charge region prohibits this latter transport of electrons and the current im\(t,a cannot anymore be denved from the lateral P layer recombination current On the other hand this current im\(t,a\corresponds to the diffusion of holes from the HIR to the lateral P layer Then the value of im\(t,a is yielded by the This phenomenon is a causality change the semiconductor region that saturat iodrecovery figure 4 a typrral space charge figure 5 a typiral space charge In the case of a non-causal method nodal method for example we region narrowed because of a are lead to solve ths problem by writing two implicit equations These high-level inlection region at one are two constraint eauations that lead to a ill-conditioned equation hounday  p R N equation \(3a   yields the current im\(t,a\changes depending on the operation mode a b a b  f I   region rn the depletron state system stiff problem We have already proposed a method to take advantage of the causality change I I This method also applies in the case of a change in the behaviour of a BSR THE CHANGE IN THE PHYSICAL BEHAVIOUR The change in the physical behaviour is a classical problem in power electronics. The notions of on-state and off-state are classical when dealing with a switch We now take the example of the space charge region that shows a drastic change in its behaviour In the classical depletion state figure 4 the space charge region shows a capacitive behaviour There is an equivalent storage of electrostatic charges of opposite sign The Poisson equation then yields the relation between this storage charge and the total voltage droo at the boundaries of the region A simple charge balance gives A bond graph describes the system dynamic behaviour while a Petri net describes the system functional behaviour We have already shown  1 I that the two coupled techniques enable to spare a high amount of simulation CPU time. The table 4 sums up the result of same comparisons between Saber v3.2 and Pacte v0.9.1 The next section covers the space charge region model description using the Pacte Mt language We may say immediately that the translation between the Pacte M language and the Saber Mast language is easy when dealing with a one-state model Of course the translation is not possible in the case of multi-states model as Saber does not support the dynamic model switching process It is worth noting that Pacte enables to cut down the simulation time only thanks to the original methods used at the modelling and simulation levels compared to Saber that is a full mature product from computer-science viewpoint 1141 thestate-equation of this BSR model When a HIR exists at one boundary of the space charge region fibwre 5 the region is drastically narrowed and its behaviour becomes complex to describe. There is a large interaction between the Poisson equation and the transport equations But the space charge region has a very small influence on the power device general behaviour Then this space charge region can be neglected with a good approximation The basic region model is then reduced to the continuity of the external variables between the two lateral regions The next section explains how it can be taken a large advantage of the changes in the BSR behaviour or in their model causality ___ THE DYNAMIC MODEL SWITCHING As there are changes both in the BSR behaviours and in their model causality an idea is to write as many state-variable models as there are changes Concerning a given BSR there will be as many models as the region shows different behaviours Then the idea is to change the region model dynamically during the simulation according to the system global state The time-moment when the model switching appears depends on the validation of transitions between the different models We have proposed the Petri net technique 9 111 to manage the dynamic model switching. Broadly speaking this technique replaces all the conditional if  then  else" structure of classical representation by state transitions test circuit SABER 3.2 PACTE 0.9.1 ratio SABEWACTE iakalcho er 14 91s r PIN4 230 0s 84 3s cho r/PIN9 35 Is 7 61 tahlr 4 simulation time comparisonc between Saber and Pacte on a SparrStation II The ideal chopper crrc uit includes rdeal Twit hes and a classrcal rlored-loop The circurl PIN4 tests the rec oveq process of a power diodi using the Pacte 5tatevariable model PIN4 that has been also translated for Saber The crrc urt chopper/PlN4 rnclutles a c lassrcal power MOS modd and the power diode PIN4 model The trrcurt chopper/PlN9 include5 Ihc poww drodc PIN9 model that invokes the dynamic model surtchrng proccw 111  THE SPACE CHARGE REGION MODEL DESCRIPTION The space charge region model has only one state-variable It is thus much less complex than the HIR model described in 3 It has been chosen as a tutorial example Whatever all the BSR models are available upon request to the authors The figure 6b pictures the bond graph symbol of the space charge region model and its related Petri net The symbol has 8 bonds half-arrow These bonds transfer different types of energy hydraulic energy related to the majority carriers MD Me and to the minority carriers mD me and the electrical energy 46 


XU U The bonds uD and ue do not transfer energy they are geometrical bond that carry the information region geometrical boundaries As described there-above the space charge region presents a change in its behaviour that leads to a Petri net with three places describing  the depletion state the non-existing state and a static state that eases the global system simulation initial point computation a0 b _  figure 6  the space charge region model symbol and its Petri net In the space charge region figure 6a\the depletion hypothesis enables to separate the Poisson equation and the transport equations The depletion layer extends from the abscissa a in the diffused P layer to the abscissa b in the low-doped epitaxial layer. The doping profile is approximated by 4 The electric field value at the left boundary yields one boundary condition 5 where XD is equal to 1 in the case of a P+N junction and 1 in the case of a N+P junction fD defines the doping gradient in the diffused layer near the junction ur k T is the thermal voltage N is the epitaxial layer uniform doping concentration 4 The problem is then normalised with respect to the value xD The abscissas become Y and 0 the geometrical variable becomes y and the electric field becomes eh The normalised doping profile is y\(y and we define the undmensional value r The Poisson equation yields 6 If the following primitive haions of yb are noted Hh and I then the Gauss Theorem gives 7 and the total barrier height is computed as 8 Finally the First Law of the Thermodynamics gives the model state equation It is only a charge balance equation in one-half of the space charge region for example between U and 0 9 QD is the model state-variable 9 5 i,\(B z,\(c dt where Q q.A.rI'\(x x,.q.N.A.x,.H\(a im and im\(cw are the minority carrier currents at the region boundaries The Pacte M language syntax is closed to the C syntax Then it enables to describe the space charge region model as a class see next page and Object Oriented Programming formalism The model description fie begins by the declaration of the model Dej class  with the list of ports the list of states the constructor and the list of local variables We draw the reader attention about the dimension analysis that prevents a lot of errors One important file is physics.u that collects all the physical dimensions with their IS0 unit or usual units The port list describes the model bonds then it readily defines the model external variable Each port declaration includes the statement of an energy type and the external variable flow and effort names The following section concerns the constructor with the list of parameters and the computation of the local variables The different states are described one &er one The declaration of a state includes the name of the state variables only one in the present case The equation of a state are sequential equations using the sign  causality equations \(computation of the external variables  the voltage drop, the region abscissas minority or majority carrier concentrations   and implicit or state-equations using the sign  The condition that validates a transition to another stute is written explicitly through a if  structure The figure 7 pictures the other BSR model symbols All the symbols show the same 4 kinds of port where are connected the bonds  majority and minority carrier hydraulic energy bonds, electrical energy bonds and geometrical bonds M1 L a1 XI figure 7 other BSR mode symbols  DeN neutral gradrent-dopmg regfon Plasma HIR Q neutral ohmrc regron The HIR Pet net presents 4 states  the classrcal saturabon and recovery states the non-existing state when the hrgh-level rnjwbon hypothesis 15 not met and a stabc state u5ed tn a system initial point tomputation IV  SIMULATION RESULTS THE MAN POWER DEVICE MODEL DEFINITION We have defined 4 main BSRs  the neutral ohmic region the gradient doping neutral region the HIR and the space charge region We have described and compiled the related models 47 


lllllllllllllllllllllllllllllllllllllllllllllllllllllll I1 CEGELY  hsa de Lyon I1 basic semiconductor regions It I1 Diffusion Epitaxy Junction madel Den r KhiD is the sign of the diffusion regicn KhiD 1 forPtn KhD  1 for N+n the dopping profile is defined by Gamtna\(x  KhiD*Nj*\(lmp\(-x/xD the junction is defined for XI x  x2 w  x2-xl is the normalized spce charge region length yl  xlIxD y2  x2IxD notice that yI<O<y2 I include physics.u model DeJ I Ill Diffusion side port hydraulic input MD\(fMD,PMD port hydraulic output mD\(fmD,pmD port geometric input aD\(faD,aD port electric input xD\(i,vD Ill Epitaxy side port hydraulic output me\(fme,Pme port hydraulic input Me\(fMe,PMe port geometric output ae\(fae,ae port electric output xe\(i,ve I list of states state deletion\(none w state nil slow state static  Ill constructor declaration DeJ\(none khiD area deviceArea length doppingGradient length junctionDepth length basewidth length doppingGradient2 concentration Nj temperature T Ill list of local variables const voltage UT uB0 uKhiD const energyDensity Uj const energy Ud const length nD Xl const area A const none r khiD const none WO y1-02 y2-02 const CarrierFlow fs const charge QD const none rd const none yB,aB const current ime0 none GI,G2,Hl,H2,11,12 current ime,iMD none uB none gamma0 1 lllllllllllll constructorllllllllllllllllllllllll DeJ::DeJ\(none index area devicekea length doppingGradient length junctionDepth length basewidth length doppingGradient2 concentration Nj temperature T l/l physical constants charge q 1.602e-19 C entropy k 1.38e-23 JK ll silicon constants dielectricConstant eps 1.045e-10 Flm speed vs 1.0e7 cmls concentration ni  1.45e10 cm-3 Ill local variable computation khiD  index UT k*Tlq uKhiD  khiD*uT Ill current convention I uKhiD*lMD  pMD*m Ill uKhiD*imD  PmD*fmD Ill uKhiD*iMe  PMe*fMe Ill uKhiD*ime  Pme*fme Uj k*T*Nj area LdZ eps*uTlqfNj xD  doppingGradient xJ  junctionDepth r Ldz/xD/xD A  deviceflrea none r24  24*r none phiI  ln\(Nj1ni none 1100  r24*\(phiJ-ln\(2 none Woo  pow\(u00,1l3 WO1  pow\(uOO+r24*ln\(wOO none wO2  l+sqrt\(l+4*phiJ*r none roo2  exp\(-w02 none 21-02  wO2t\(1-r002 none 22-02  rd y1-02  ln\(z1-02 y2-02  ln\(z2-02 uB0  khiD*uTIr fs  A*vs Ud  Uj*A*xD QD  khiD*q*A*Nj*xD rd  1.5 yB  baseWidtWxD aB  doppingGradient doppingGradient2 ime0  khiD*q*Nj*A*vs 1 llllltllllllllllllilllllllllllllllllllllllllllltlllllll state DeJ::depletion\(none w none ro  exp\(-w none z 1  w 1 ro uB  zl*w-w*\(l+wl2 Ill voltage drop ve  vD+uB*kliiD*uT 1 vD  ve-uB*khiD*uT Ill transition IO state nil if  1 nil none yl  ln\(zl none y2  w+y 1  aD   ae  xD*y2 Ill pn is constant in the SC region PmD  PMe elrp\(-uB Pme  PMD*exp\(-uB ime  Pme*fmeluKhiD current imD  PmD*fmDlW iMD  i-imD current iMe  i-ime Me  iMe*uKhiD 11/11 state equation IlllIdHlldt  ime-iMD lllll where Hl=H\(yl 1 lllll zl-ln\(zl none dHl-dzl  I-llzl none dzl-dw  l-ro*zl l-ro w  ime-iMD fMD  iMD*uKhiD llIIllllltllllllllllllllllllllllllllllllllllllllllllllll state DeJ::nil I length w  2.5~1 aD  ae w fae  0 JMm uB 1 ve  vD+uB*khiD*uT I vD  ve-uB*khD*uT Pme  PMDlrd PmD  PMelrd fMe  fmDlrd fMD  i*uKhiD  PmD*fmD if depletion\depletion 1.2 ime  Pme*fmduKhiD iMD  PMD*tMDIuKhiD 1 The spare charge region inodel drclaration file using the Pacte M language Now the model of any power device is obtained easily by association of the BSR models according to the technological structure of the device l figure 8 c The PIN diode and main bipolar power device Petri Net For example the figure Sa shows the typical technological structure of the PIN diode and the figure 8b pictures the derived bond graph \(the PIN diode model We may note that each cross-section between two BSRs is represented by 4 bonds one electrical bond 2 hydraulic bonds and one geometrical bond The reader may refer to the figure 7 to see how these bonds are declared in the BSR model An automatic method  111 yields the PIN diode model related Petri net taking into account the Petri net of the different BSR models that compose the device \(figure 8c    figure 8 a the PIN diode typiral Ytructure figure 8 b the PIN diode bond graph 48 


E Ea figure 9  a the power bipolar transistor typical structure C a figure 10  the CJO bond graph figure 12  a the power MO5 transistor bond graph figure 9  b the power bipolar transistor bond graph hnAepwbn base jBC Pc figure I 1  the lCBJ bond graph L  Plasmal n lDeNl I D figure 12 b the power MOS transrstor bond graph superimposed to the dew e technological 5tructure It is easy to build the model of the power bipolar transistor \(figure 9 the GTO figure lo the IGBT figure 11 or the power MOS transistor \(figure 12a The reader may note for example that the power MOS transistor model includes naturally the internal body diode that is sometimes used in power converters \(figure 12b At t=37ns, a signifcant space charge region appears and validates a transition to the state "recovery of the PIN diode model At t=90ns the high-level injection hypothesis stops to be valid and the PIN diode model enters the state transientoff The evolution of the high-level injection region boundaries are plotted in the bottom of figure 13 The HIR model gives also an accurate approximation of the minority carrier concentration evolution as shown in figure 14 These information are not readily useful for a circuit design engineer but enable a practical evaluation of the HIR model in comparison with device simulators SIMULATION FU2SULTS We have obtained SatisfLing simulation results in the case of the five The figure l5 pictures a cycle of a GTO under an inductive former power devices using only the same 6 BSR models We now present some significant results load The figure 16 pictures a switching cycle of a power MOS transistor under inductive load 22us  t  321s The device starts in the  I we have used the model in figure diode typical turn-off transient The figure 13 shows the simulation results and the experimental results The diode is in the state l~saturation see figure 8c to simulate a reverse conduction state in order to stimulate the body diode 9P   The figure 17 pictures a tum-off transient of the IGBT. The simulation conditions are the same as those applied in I51 where the Heher IGBT model is used body diode turn-off starts when the 49 


151 o 20 40 60 ac IOO 120 140 i6c t nri 42.5l 40 U 375 350 325.1 300 27 5 25 U 225 2c 0 1ert.x voltage 0 3 4001 0 20 40 60 EO 100 120 140 160 t ns urd none  eriai/gazR errai/qa2.B srrai/gazXl tertx rtalt I 0 20 40 60 80 I00 120 140 16E 1 U I 50 1 0 10 20 30 90 tiur le3 none trd lezai/gu,Xl eriai/gaz,A erraiIgazB tertx  internal 125 IOO r 0 10 20 30 4 50 figure 13 A typical PIN diode turn-off transient Top experimental and simulation current waveforms Middle experimental and srmulatmn voltage waveforms BottomJ the HIR boundary abscissas A BJ evolutmn and the total charge storage XI evolution figure 15 typical GTO voltages vAK and vCK, currents iA and IC HIR boundary ab5ossas A B and total storage charge XI J during turn-off none 0u pi ez p3 05 116 camma P V  CONCLUSION 45.0 r I The power device modelling is not somethng easy Nevertheless some rules and original methods enables to write modular and efficient models The bond graphs of the main bipolar power devices are obtained easily by association of only 6 reusable BSR models The modularity aspect eases the overall improvement of the models We have implemented the dynamic model switching technique It simplifies the model description in the case of changes in the behaviour or in the model causality The dynamic model switching cuts down the simulation cost It has also enabled to derive 5 power device models using only 6 same BSR models Thanks to this technique the development of a new device model is easy We hope to develop as many particular models as needed On the other hand the BSR models may look complex But the primary simulation comparisons wth Saber show comparable or better simulation CPU time than with classical Spice models and with a real accuracy concerning the power semiconductor devices 10 0 10 20 30 x um A complete tool editor compiler debugger is available to LL figure 14 during the turn-off transient and before the spacecharge region appears again evolution of the minority carrier doping profile in the implement the models using a hgh-level language M Pacte 50 


 20 22 3 221 22 2 22 3 224 22 5 22 6 toll A W,./D 67 ___ 4 k 44t t   8 1 ai 107  100 t\("I1  33 ID   frgure 16 typical MOS voltage vDS and current rD and iG durrng a turn off Waveforms at the boundarv of the rnternal bodv diode We are working on the translation of our models to Saber with the language Mast But the dynamic model switching and the change in the model causality are two problems to be overcome. These latter problems may be solved by adding implicit and artificial state equations Such tricks may be very expensive during simulation VI  REFERENCES 0 Hamel H Morel K Besbes J.P. Chante Behavioural simulation of diode devices in power systems Proceedings of the 12th conference H Morel S.H Gamal J.P. Chante, "State-variable modelling of the Pin diode using an explicit approximation of the semiconductor device equations  a novel approach to be soon published in FEE Transactions on Power Electronics B Allard H Morel J P Chante, "State-variable modeling of the high level injection regions in power devices Application to power system simulation Proceedings of the conference IEEE PESC'92 Toledo Spain 1992 June 29-July 3, vol. 2 pp 885-892 B Allard et al., "A novel simulation of the power BJT Proceedings of the conference IEEE ISCAS, 1992 San Diego, Cal vol 2 pp 754-757 B Allard et al Reusing hsic sem~conductor region models in power device bond graph definition Proceedings of the conference EPE'93 1993 Brighton UK Sept 13-16 pp 34-39 IMACS Paris, France 1998 Jul. 18-22 Vol 3 pp 219-223 lssrailPs      6 I ___ 0 2 23.0 21 8 22.0 22 2 224 22 6 22.0 t l"9 iVL errai;PB 1 rsrtx voltage 600 T Inh ecrai/ld.in lPItX urrsnt I     1 U0 200   300  22 0 22.2 22 4 22.6 21.8 21.0 wqtx oltags t 1"s 00 21.8 lwl_121 Bssa i;lEg  125 1 LL 10.0 7.5 5.0 2.5 00    ___      22 11 124 12.6 22 a 130 22 2  t l"5i 2 5  11 a figure 17  typical IGBT voltage and current wavrforms during a turn-off D Metzner T Volger D SchrOder A modular concept for the circuit simulation of bipolar semiconductor devices Proceedings of the conference EPE'93 1993 Brighton UK Sept 13-16 P.O Lauritzen, C.L Ma A simple power diode model with reverse recovery", IEEE Transactions on Power Electronics, 1991 vol 6 n 2 pp 188-191 P.O Lauritzen et al A physically-based lumped-charge PnN diode model Proceedings of the conference EPE'93 1993, Brighton UK Sept 1-3-16 H Morel Modelisation et sinidation des composants et des systemes de puissance Professor Doctorate dissertation INSA de Lyon Lyon France 1994 D Kamopp and R Rosenberg System dynamics  a unified approach New-York ,Wiley and Sons 1975 B Allard H Morel J.P Chante Power electronic circuit simulation using bond graph and Petri network techniques Proceedings of the conference IEEE PESC'93, Seattle, Wa., Jun 21-25 1993 S Selberherr Analysis and simulation of semiconductor device Wien Springer-Verlag, 1984 C.C Lin B Allard H Morel, "Technological parameter identification of the pindioe using transient signal parameter fit Proceedings of the conference EPE'93 1993 Brighton UK Sept 13-16 pp 29-33 PACTE v0.9.1  user's guide". Centre de Gnie Electrique de Lyon, Lyon France 1994 A.R Hefner Analytical modelling of device-circuit interactions for the power insulated gate bipolar transistor IGBT IEEE Transactions on Industry Applications 1990 vol. 26 no 6 51 


association-cube, base-cube and population-cube are derived from the volume cube; the confidence-cube is derived from the association cube and population cube and the support-cube is derived from the associationcube and base-cube. The slices of these cubes shown in Figure 2 correspond to the same list of values in dimension merchant, time, area and customer_group  Multidimensional and multilevel rules Representing association rules by cubes and underlying cubes by hierarchical dimensions, naturally supports multidimensional and multilevel rules. Also these rules are well organized and can be easily queried  First, the cells of an association cube with different dimension values are related to association rule instances in different scopes. In the association cube CrossSales cell CrossSales product \221A\222, product2 \221B\222  customer_group 221engineer\222, merchant \221Sears\222, area \221Los Angeles\222, time 221Jan98\222 represents the following multidimensional rule x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x,\221B\222  275 customer_group = \221engineer\222, merchant = \221Sears\222, area 221Los  Angeles\222, time =  \221Jan98\222 If this cell has value 4500, and the corresponding cell in the population cube has value 10000, then this rule has confidence 0.45 Next as the cubes representing rules can have hierarchical dimensions, they represent not only multidimensional but also multi-level association rules. For example, the following cells CrossSales\(product \221A\222, product2 \221B\222, customer_group 221engineer\222, merchant \221Sears\222, area \221 California 222, time 221Jan98\222 CrossSales\(product \221A\222, product2 \221B\222, customer_group 221engineer\222, merchant \221Sears\222, area \221 California 222, time 221 Year98 222 represent association rules at different area levels \(i.e the city level and the state level\d different time levels \(i.e., the month level, the year level x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x, \221B\222  275 customer_group = \221engineer\222, merchant =  \221Sears\222, area 221 California 222, time =  \221Jan98\222 x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x, \221B\222  275 customer_group = \221engineer\222, merchant =  \221Sears\222, area 221 California 222, time =  \221 Year98 222 The cell CrossSales\(product \221A\222, product2 \221B\222,  customer_group 221top\222, merchant \221top\222, area \221top\222,  time \221top\222 represents the customer-based cross-sale association rule for all customers, merchants, areas, and times in the given range of these dimensions, expressed as x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x, \221B\222 4.3  Generating Association Rule Related Cubes The basic task of our OLAP based association rule mining framework, either at the GDOS or at an LDOS is to convert a volume cube i.e. the cube representing the purchase volumes of customers dimensioned by product  area etc, into an association cube a base cube and a population cube These cubes are then used to derive the confidence cube and the support cube of multidimensional association rule instances. The following general steps are involved in cross-sale association rule mining 267  Roll up the volume cube SaleUnits by aggregating it along merchant, time, area dimensions 267  Derive cube NumOfBuyers from SaleUnits based on the antecedent condition SaleUnits 0 267  Populate cube NumOfShoppers by the counts of customers dimensioned by merchant, area  time not by product\at satisfy the antecedent conditions 267  Derive cube CrossSales from SaleUnits based on the association conditions SaleUnits  product  p 1  0 and SaleUnits  product2  p 2 0 267  Derive cube Confidence and cube Support using cell-wise operations 214  Confidence = CrossSales  NumOfBuyers 214  Support  CrossSales  NumOfShoppers  Cubes Confidence  Support  CrossSales are dimensioned by product  product2 customer_group,merchant  time, area NumOfBuyers is dimensioned by product  customer_group, merchant time, area  NumOfShoppers is dimensioned by customer_group, merchant  time, area Rules with confidence and support that exceed specified thresholds  may be considered interesting 4.4. Rules with Conjoint Items Cubes with conjoint dimensions can be used to represent refined multidimensional association rules For example, using OLAP, we can derive association rules across time  Time-variant or temporal association rules such as 


x 316 Customers buy_product\(x,\222 A\222, \221 Jan98\222  336 buy _product\(x, \221B\222, \221 Feb98\222   275 area = \221Los Angeles\222 can be used to answer such questions as \223 How are  the sales of B in Feb98  associated with the sales of A in Jan98 224 The items in this rule are value pairs of dimensions product and time In order to specify this kind of association rule we introduce a conjoint dimension product, time and mirror it with dimension product2, time2 This allows a cell in the association cube to cross two time values. Accordingly, the cubes related to association rule mining are defined as follows Association cube  CrossSales.2 \(<product, time>, <product2, time2 customer_group, merchant, area  Population cube  NumOfBuyers.2  \(<product, time>, customer_group merchant, area Base cube  NumOfShoppers.2  \( customer_group, merchant, area Confidence cube Confidence.2 \(<product, time>, <product2, time2 customer_group, merchant, area Support  cube  Support.2  product, time>, <product2, time2 customer_group, merchant, area  The steps for generating these cubes are similar to the ones described before. The major differences are that a cell is dimensioned by, besides others product, time and product2, time2 and the template of the association condition is  SaleUnit s  product p 1 time t 1  0 and  SaleUnits  product2 p 2 time2 t 2  0 where, in any instance of this condition, the time expressed by the value of time2 is not contained in the time expressed by the value of time The template of the antecedent condition is SaleUnits   product p 1 time t 1  0 In general, other dimensions such as area may be added to the conjoint dimensions to specify more refined rules 4.5. Functional Association Rules A multidimensional association rule is functional if its predicates include variables, and the variables in the consequent are functions of those in the antecedent.  For example, functional association rules can be used to answer the following questions, where a_month and a_year are variables q  What is the percentage of people in California who buy a printer in the next month after they bought a PC x 316 Customer buy_product\(x, \221PC\222, a_ month 336 buy_product\(x, \221printer\222, a_month+1  275 area = \221California\222 q  What is the percentage of people who buy a printer within the year when they bought a PC  x 316 Customer: buy_product\(x, \221PC\222, a_ year 336 buy_product\(x, \221printer\222, a_year 275 area = \221California\222 To be distinct, we call the association rules that are not functional as instance association rules; e.g x 316 Customer: buy_product\(x,\222 PC\222, \221Jan98\222 336 buy_product\(x,\222 printer\222, \221Feb98\222  275 area =  \221California\222 Time variant, functional association rules can be derived from time variant, instance association rules through cube restructuring. Let us introduce a new dimension time_delta that has values one_day, two_day 205, at the day level, and values one_month, two_month, \205, at the month level, etc. Then, let us consider the following functional association rule related cubes Association cube  CrossSales.3 \(product, product2, customer_group merchant, area, time_delta  Population cube  NumOfBuyers.3 \(product, customer_group, merchant area Base cube  NumOfShoppers.3 \( customer_group, merchant, area Confidence cube  Confidence.3 \(product, product2, customer_group merchant, area, time_delta Support cube  Support.3 \(product, product2, customer_group, merchant area, time_delta The association cube CrossSales.3  can be constructed from CrossSales.2   The cell values of CrossSales.2  in the selected time and time2 ranges are added to the corresponding cells of CrossSales.3 For example, the count value in cell  CrossSales.2\(<PC, Jan98>, <printer, Feb98>\205 is added to cell \(bin CrossSales.3\(PC, printer, one_month,\205 


It can also be added to cell CrossSales.3\(PC, printer one_year,\205 5  Distributed and Incremental Rule Mining There exist two ways to deal with association rules 267  Static that is, to extract a group of rules from a snapshot, or a history, of data and use "as is 267  Dynamic that is, to evolve rules from time to time using newly available data We mine association rules from an e-commerce data warehouse holding transaction data. The data flows in continuously and is processed daily Mining association rules dynamically has the following benefits 267  223Real-time\224 data mining, that is, the rules are drawn from the latest transactions for reflecting the current commercial trends 267  Multilevel knowledge abstraction, which requires summarizing multiple partial results. For example association rules on the month or year basis cannot be concluded from daily mining results. In fact multilevel mining is incremental in nature 267  For scalability, incremental and distributed mining has become a practical choice Figure 3: Distributed rule mining Incremental association rule mining requires combining partial results. It is easy to see that the confidence and support of multiple rules may not be combined directly. This is why we treat them as \223views\224 and only maintain the association cube, the population cube and the base cube that can be updated from each new copy of volume cube. Below, we discuss several cases to show how a GDOS can mine association rules by incorporating the partial results computed at LDOSs 267  The first case is to sum up volume-cubes generated at multiple LDOSs. Let C v,i be the volume-cube generated at LDOS i The volume-cube generated at the GDOS by combining the volume-cubes fed from these LDOSs is 345   n i i v v C C 1  The association rules are then generated at the GDOS from the centralized C v  214  The second case is to mine local rules with distinct bases at participating LDOSs, resulting in a local association cube C a,I a local population cube C p,I  and a local base cube C b,i at each LDOS. At the GDOS, multiple association cubes, population cubes and base cubes sent from the LDOSs are simply combined, resulting in a summarized association cube and a summarized population cube, as 345   n i i a a C C 1   345   n i i p p C C 1  and 345   n i i b b C C 1  The corresponding confidence cube and support cube can then be derived as described earlier. Cross-sale association rules generated from distinct customers belong to this case In general, it is inappropriate to directly combine association cubes that cover areas a 1 205, a k to cover a larger area a In the given example, this is because association cubes record counts of customers that satisfy   customer product merchant time area Doe TV Dept Store 98Q1 California Doe VCR Dept Store 98Q1 California customer product merchant time area Doe VCR Sears 5-Feb-98 San Francisco Joe PC OfficeMax 7-Feb-98 San Francisco customer product merchant time area Doe TV Fry's 3-Jan-98 San Jose Smith Radio Kmart 14-Jan-98 San Jose Association   population      base          confidence      support cube               cube                cube         cube                cube LDOS LDOS GDOS 


the association condition, and the sets of customers contained in a 1 205, a k are not mutually disjoint. This can be seen in the following examples 214  A customer who bought A and B in both San Jose and San Francisco which are covered by different LDOSs , contributes a count to the rule covering each city, but has only one count, not two, for the rule A  336  B covering California 214  A customer \(e.g. Doe in Figure 3\who bought a TV in San Jose, but a VCR in San Francisco, is not countable for the cross-sale association rule TV  336 VCR covering any of these cities, but countable for the rule covering California. This is illustrated in Figure 3 6  Conclusions In order to scale-up association rule mining in ecommerce, we have developed a distributed and cooperative data-warehouse/OLAP infrastructure. This infrastructure allows us to generate association rules with enhanced expressive power, by combining information of discrete commercial activities from different geographic areas, different merchants and over different time periods. In this paper we have introduced scoped association rules  association rules with conjoint items and functional association rules as useful extensions to association rules The proposed infrastructure has been designed and prototyped at HP Labs to support business intelligence applications in e-commerce. Our preliminary results validate the scalability and maintainability of this infrastructure, and the power of the enhanced multilevel and multidimensional association rules. In this paper we did not discuss privacy control in customer profiling However, we did address this issue in our design by incorporating support for the P3P protocol [1 i n  ou r data warehouse. We plan to integrate this framework with a commercial e-commerce system References 1  Sameet Agarwal, Rakesh Agrawal, Prasad Deshpande Ashish Gupta, Jeffrey F. Naughton, Raghu Ramakrishnan, Sunita Sarawagi, "On the Computation of Multidimensional Aggregates", 506-521, Proc. VLDB'96 1996 2  Surajit Chaudhuri and Umesh Dayal, \223An Overview of Data Warehousing and OLAP Technology\224, SIGMOD Record Vol \(26\ No \(1\ 1996 3  Qiming Chen, Umesh Dayal, Meichun Hsu 223 OLAPbased Scalable Profiling of Customer Behavior\224, Proc. Of 1 st International Conference on Data Warehousing and Knowledge Discovery \(DAWAK99\, 1999, Italy 4  Hector Garcia-Molina, Wilburt Labio, Jun Yang Expiring Data in a Warehouse", Proc. VLDB'98, 1998 5  J. Han, S. Chee, and J. Y. Chiang, "Issues for On-Line Analytical Mining of Data Warehouses", SIGMOD'98 Workshop on Research Issues on Data Mining and Knowledge Discovery \(DMKD'98\ , USA, 1998 6  J. Han, "OLAP Mining: An Integration of OLAP with Data Mining", Proc. IFIP Conference on Data Semantics DS-7\, Switzerland, 1997 7  Raymond T. Ng, Laks V.S. Lakshmanan, Jiawei Han Alex Pang, "Exploratory Mining and Pruning Optimizations of Constrained Associations Rules", Proc ACM-SIGMOD'98, 1998 8  Torben Bach Pedersen, Christian S. Jensen Multidimensional Data Modeling for Complex Data Proc. ICDE'99, 1999 9  Sunita Sarawagi, Shiby Thomas, Rakesh Agrawal Integrating Association Rule Mining with Relational Database Systems: Alternatives and Implications", Proc ACM-SIGMOD'98, 1998   Hannu Toivonen, "Sampling Large Databases for Association Rules", 134-145, Proc. VLDB'96, 1996   Dick Tsur, Jeffrey D. Ullman, Serge Abiteboul, Chris Clifton, Rajeev Motwani, Svetlozar Nestorov, Arnon Rosenthal, "Query Flocks: A Generalization of Association-Rule Mining" Proc. ACM-SIGMOD'98 1998   P3P Architecture Working Group, \223General Overview of the P3P Architecture\224, P3P-arch-971022 http://www.w3.org/TR/WD-P3P.arch.html 1997 


Plenary Panel Session 30 XML Databases   Moderator: Michael Carey, IBM Almaden Research Center USA Panelists Adam Bosworth, Microsoft Corporation USA David De Witt University of Wisconsin-Madison, USA Alon Levy University of Washington USA Bruce Lindsay IBM Almaden Research Center USA Jennifer Widom Stanford University USA Demo Session 1 Web Query Optimizer  661 V Zadorozhny L Bright L Raschid T Urhan and M Vidal ReQueSS: Relational Querying of Semi-structured Data  664 R Sunderraman The IDEAL Approach to Internet-Based Negotiation for E-Business  666 J Hammer C Huang Y Huang C Pluempitiwiriyawej M Lee H Li L Wang Y Liu and S Su READY A High Performance Event Notification Service  668 R Gruber B Krishnamurthy, and E Panagos A Multimedia Information Server with Mixed Workload Scheduling  670 G Nerjes DISIMA An Object-Oriented Approach to Developing an Image Database System  672 V Oria T Ozsu P Iglinski B Xu and L Cheng Demo Session 2 The Collaboration Management Infrastructure  677 H Schuster D Baker A Cichocki D Georgakopoulos and M Rusinkiewicz Assisting the Integration of Taxonomic Data The LITCHI Toolkit  679 I Sutherland J Robinson S Brandt A Jones S Embury W Gray R White and F Bisby TheaterLoc: Using Information Integration Technology to Rapidly Build Virtual Applications  681 G. Barish Y.4 Chen D Dipasquo, C Knoblock S Minton I Muslea and C Shahabi Lineage Tracing in a Data Warehousing System  683 Y Cui and J Widom xiii 


The Mentor-Lite Prototype A Light-Weight Workflow Management System  685 J Weissenfels M Gillmann 0 Roth, G Shegalov and W Wonner Location Prediction and Queries for Tracking Moving Objects  687 0 Wolfson B Xu and S Chamberlain Semiorder Database for Complex Activity Recognition in Multi-Sensory Environments  689 S Bhonsle A Gupta S Santini and R Jain Tutorial 1 Web Information Retrieval  693 M Henzinger Tutorial 2 Mobile and Wireless Database Access for Pervasive Computing  694 P Chrysanthis and E Pitoura Tutorial 3 Data Mining with Decision Trees  696 J Gehrke Tutorial 4 Directories Managing Data for Networked Applications  697 D Srivastava Tutorial 5 Indexing High-Dimensional Spaces Database Support for Next Decade\222s Applications  698 S Berchtold and D Keim xiv 


 T5.I2.D100K T10.I4.D100K T15.I4.D100K T10.I6.D400K T10.I6.D800K T10.I6.D1600K Optimizations across Databases 5 0 5 10 15 20 25 30 35 40 45 Improvement COMP TREE COMP-TREE 1 2 4 8 1 2 4 8 1 2 4 8 2 4 8 2 4 8 1 2 4 8 Processors Databases Figure 5 Effect of Computation and Hash Tree Balancing good as the COMP optimization The reason that the hash tree balancing is not suf\336cient to offset inherent load imbalance in the candidate generation in this case The most effective approach is to apply both optimizations at the same time COMP-TREE The combined effect is suf\336cient to push the improvements in the 40 range in the multiple-processor case On 1 processor only hash tree balancing is bene\336cial since computation balancing only adds extra cost 5.4 Short-circuited Subset Checking Figure 6 shows the improvement due to the short-circuited subset checking optimization with respect to the unoptimized version The unoptimized version is the Apriori algorithm due to Agrawal et al 5 The results are presented for dif ferent number of processors across dif ferent databases The results indicate that while there is some improvement for databases with small transaction sizes the optimization is most effective when the transaction size is large In this case we get improvements of around 25 r the unoptimized version To gain further insight into this optimization consider 336gure 7 It shows the percentage improvement obtained per iteration on applying this optimization on the T20.I6.D100K database It shows results only for the uni-processor case r similar results were obtained on more processors We observe that as the iteration k increases there is more opportunity for shortcircuiting the subset checking and we get increasing bene\336ts of up to 60 The improvements start to fall off t the high end where the number of candidates becomes small resulting in a small hash tree and less opportunity for short-circuiting It becomes clear that is an extremely effective 15 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


 T5.I2.D100K T10.I6.D800K T15.I4.D100K T20.I6.D100K procs across Databases 0 5 10 15 20 25 Improvement 1 2 4 8 Figure 6 Effect of Short-circuited Subset Checking 23456789101112 Iterations 0 10 20 30 40 50 60 improvement T20.I6.D100K Figure 7  Improvement per Iteration  proc   16 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


optimization for larger transaction sizes and in cases where there are large number of candidate k itemsets 6 Conclusions In this paper e presented a parallel implementation of the Apriori algorithm on the SGI Power Challenge shared memory multi-processor We also discussed a set of optimizations which include optimized join and pruning computation balancing for candidate generation hash tree balancing and short-circuited subset checking We then presented experimental results on each of these Improvements of more than 40 were obtained for the computation and hash tree balancing The short-circuiting optimization was found to be extremely effective for databases with large transaction sizes Finally we reported the parallel performance of the algorithm While we d good speed-up we observed a need for parallel I/O techniques for further performance gains References  R Agra wal T  Imielinski and A Swami Database mining A performance perspecti v e  I n IEEE Trans on Knowledge and Data Engg  pages 5\(6 1993  R Agra wal T  Imielinski and A Swami Mining association rules between sets of items in lar ge databases In Proc M SIGMOD Intl Conf Management of Data  May 1993  R Agra wal H Mannila R Srikant H T o i v onen and A I V erkamo F ast disco v ery of association rules In U F et al editor Advances in Knowledge Discovery and Data Mining  MIT Press 1996  R Agra wal and J Shafer  P arallel mining of association rules design implementation and e xperience Technical Report RJ10004 IBM Almaden Research Center San Jose CA 95120 Jan 1996  R Agra wal and R Srikant F ast algorithms for mining association rules In Proc 20th VLDB Conf  Sept 1994  M Cierniak W  Li and M J Zaki Loop scheduling for heterogeneity  I n 4th IEEE Intl Symposium on High-Performance Distributed Computing also as URCS-TR 540 CS Dept Univ f Rochester  Aug 1995  M Holsheimer  M  K ersten H Mannila and H T o i v onen A perspecti v e on databases and data mining In 1st Intl Conf Knowledge Discovery and Data Mining  Aug 1995  M Houtsma and A Swami Set-oriented mining of association rules In RJ 9567  IBM Almaden Oct 1993  H Mannila H T o i v onen and I V erkamo Ef 336cient algorithms for disco v ering association rules In AAAI Wkshp Knowledge Discovery in Databases  July 1994  J S P ark M Chen and P  S Y u  A n e f fecti v e hash based algorithm for mining association rules In Proc M SIGMOD Intl Conf Management of Data  May 1995 17 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


 J S P ark M Chen and P  S Y u  E f 336cient parallel data mining for association rules T echnical Report RC20156 IBM T J Watson Research Center Aug 1995  G Piatetsk y-Shapiro Disco v ery  presentation and analysis of strong rules In G P S et al editor  KDD  AAAI Press 1991  A Sa v asere E Omiecinski and S Na v athe An ef 336cient algorithm for mining association rules in large databases In Proc 21st VLDB Conf  1995  M J Zaki M Ogihara S P arthasarathy  and W  Li P arallel data mining for association rules on shared-memory multi-processors Technical Report 618 Department of Computer Science University of Rochester 618 1996 18 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


