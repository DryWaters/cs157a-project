Proceedings of the 3d World Congress on Intelligent Control and Automation June 28-July 2,2000 Hefei P.R China Using Association Rules to Improve Chinese Handwritten Character Recognition Zhen Lixin Dai Ruwei Artificial Intelligence Lab. Institute of Automation Chinese Academy of Science P.O BOX 2728, Beijing 100080 P R China Abstract  Association rules are useful for determining correlation between attributes of a relation and have applications in marketing financial and retail sectors In this paper we present an approach for combining handwritten character classifiers based on association rules which reflect 
the correlation between the classifiers The experimental results show that the association rules improve the performances of the integrated system significantly An experimental comparison of two combination schemes ILM NISL 111 is also provided I INTRODUCTION It is well known that machine recognition of handwritten Chinese character is a very difficult problem and regarded as one of the ultimate goals of character recognition research 2 The main difficulties of handwritten Chinese character recognition are so many categories classes of Chinese characters according to National Standard GB23 12-80 more than 6000 commonly used Chinese characters distortion of handwriting and similitude of Chinese 
characters To achieve this complex pattem recognition task designing a good single classifier is a tough problem 3 The approach of classifier combination is widely used Many combination algorithms have been suggested e.g plurality voting Bonda count, averaging  Integration based on a Linear Model ILM and Network Integration based on Supervised Learning NISL l etc The basic idea of classifier combination is to harness the compliment information of different classifiers Association rules are useh1 for determining the correlation between attributes of a relation To combine the outputs of the individual classifiers we mine the correlation between the outputs 
of the individual classifiers expressed as association rules These association rules served as decision rules are used to determine which output of the individual classifiers ought to be the result In the system the outputs of the individual classifiers are regarded as attributes of a relation or a transaction Furthermore the results of experiments and the comparison with the ILM and NISL are presented Section 2 briefly introduces the three individual classifiers and the construction of the transaction database Section 3 gives the procedures of mining and pruning association rules Section 4 presents the combination approach based on association rules Section 5 
provides experimental results and discussion. The final section offers concluding remarks 11 CONSTRUCTION OF TRANSACTION DATABASE The original database consisting of the first level Chinese characters \(3755 class is a set of binary character images For each class 200 samples are stored The image database is divided into training set and testing set containing 180 samples per class and 20 samples respectively Three classifiers C-HPS C-FCS and C-LSD l are designed to extract features and provide ranking information for every import sample A Individual Classfiers Taking account of the large variation of handwriting 
which is probably the largest difficulty of handwritten character recognition, three groups of features which are insensitive to writing variations are selected and inputted into three different classifiers respectively. These classifiers are in fact template-matching machines with similar architecture Their function is to compare the features of the input character image with those of possible candidate templates, and output the candidates in descending order as shown in Fig 1 with respect to similarity between input features and those of the reference templates Candidate 1 Candidate 2 Classifier Features of Input Characters Candidate n Fig I Architecture of 
individual classifier The classifier based on Hierarchical Peripheral Structures C-HPS\extracts the features of the outermost and second outermost peripheral structures of the input image The feature vector is 320 dimensions. C-FCS is the classifier based on Four Comer Structures represented by a feature vector with 120 dimensions. C-LSD is our third classifier based on Local Stroke Direction represented by a 256 dimension vector For detailed description reference to  11 B Transaction Database The classes of the 3755 Chinese characters are represented by consecutive natural number The category label ranges from 1 to 3755. The first candidate of the three 
individual classifiers is picked.out to construct a transaction or a relation A transaction should contain the correct class label of the input character Table 1 illustrates some of transactions in generated database TID is a unique identifier of each transaction. C-1 C-2 and C-3 are the pair of classifier identifier CID given the value of 1 2 or 3 and the first candidate generated correspondingly by one of three individual classifiers ranging from 1 to 3755 i.e CID, the first candidate LS is 0-7803-5995-X'OOB 10 00 02000 IEEE 2554 


TID c 1 c-2 c-3 LS t 1,lO 2 IO 3,101 10 t  1,345 12,722  3,2497 1722  tl  1,2342 12 1353 3,2342 2342  t4  1,3264 2,11 3,257 3343  the correct category label of input sample 111 MINING ASSOCIATION RULES Association rule is an important problem in the KDD Knowledge Discovery in Database community. Given a set of transactions T and a set of items 1 an association rule is an implication of the form X a Y where X and Y are sets of items and Xi Y c I X n Y  0 The support of the rule X 3 Y is the percentage of transactions in T that contain both X and Y The confidence of the rule X 3 Y is c if c of transactions in T that satisfy X also satisfy Y 5 For example 90 of customs who bought desk also bought chair desk 2 chair 15 90 where 90 is the confidence level of the rule and 15 is the support level of the rule indicating how frequent the rule holds The problem of mining association rules is to discover all association rules in the given transactions T \(the database which have support and confidence greater than the user specified minimum support called minsup and minimum confidence called minconf An association rule mining works in two steps I Generate ail large itemsets \(which satisfy the minsup i.e the percentage of the transactions-contained the itemset is greater than the minsup 2 Generate all association rules that satisfy minconf according to the large itemsets A large itemset is an itemset that has transaction support above minsup Association rule mining has been researched extensively e.g 6 7 A Mining Association Rules Many researchers have designed considerable algorithms for mining association rules Mining association rules from the above transaction database T generated by individual classifiers belongs to typical association rule problem In the paper every different pair of CID the first candidate is regarded as an unique item which can be denoted by C-j-k where jE  I 2 3 k E  1 2    3755 And every different class label with respect to the input character is also mapped into 221different item denoted by LS-n where n E  1 2  3755 Therefore, the transaction database T contains 15020 3755x4 items, the itemset I  C-1-1 c-1-2  c-3-3755 LS-I LS-2  LS 3755 And T has 75 1000 3755x200 transactions i.e T t 4    tm m  75 1000 Each transaction consists of four items for example the transaction 4 is represented as 6  C-l 345 2-2-722 C-3-2497 LS-722\The mining algorithm is constructed based on the algorithm Apriori 5 The following will address the special problems in our system There will be a lot of association rules discovered by the mining algorithm Considering the goal of predicting the class of the input character many of these rules would be useless, for instance, the rule RI 2-1-1092 A 2-3-2008  C-2-3261 90.5 19 States that 90.5% input characters that are regarded as No 1092 character by classifier-1 according to the fmt candidate and regarded as No 2008 character by classifier 3 must be considered as No 3261 character by classifier-2 and that 19 input characters actually satisfy the rule. The rule R1 is helpless for determining the input character\222s class To constrain the algorithm to mine interesting rules a rule template is provided Rule Template C-1 a A C-2-b A C-3-c  LS-d c s The antecedent of discovered association rules must be one of the attributes C-I C-2 and C-3 or a combination of them. The consequent of discovered association rules must be the attribute LS The c and s are confidence and support respectively Mining association rules from such a large database is still a tough task In fact another type of regularity is unnecessary R2 C-1-334 A C-2-334 A C-3-334 3 LS-334 98 I 52 R3 C-1-334 A 2-2-334 LS-334 96.7 149 Statistical analysis shows that while the plurality of the first candidates generated by three individual classifiers are same say c\222 the input character\222s label is just the voting result c* at the accuracy 95.2 We are satisfied with the classification accuracy. The rules like R2 and R3 can be embodied by the following voting rule Rv Voting Rule The combined decision is the class that gets more votes than any other class On the other hand transactions satisfying the voting rules have no more information worthy to be mined Therefore the transactions which satisfy the voting rule can be removed from the transaction set T without losing important information. The transaction set T is trimmed tremendously The minimum support minsup and minimum confidence 2555 221 


Rlassifier21  lClassifier3 03 Rejection z ReJectiy Association Rules Supporting Class Fr Fig 2 Combination system model minconj which ensure that the discovered rules have classification abilities of classifiers are unbalanced enough positive evidence, are selected empirically. Different between the input samples Different classifiers minsup and minconf cause different number of rules complement each other to some extent discovered If minsup and minconf are too low samples can 2 The sequence of the classifiers outputs implicitly be overfitted And if minsup and minconfare too high a lot encodes a certain amount of complementary information of information can be lost cases minconf  75 In our system minsup  8 B Pruning Association Rules One of the hndamental problems in data mining is how to manage and use the discovered knowledge Though the mining algorithm is constrained by the rule template and the transaction database is trimmed, the number of discovered association rule is still large And discovered rules often are redundant i.e several rules describe the same transaction For example R4 C-1-3253 A C-2-334 3 LS-334 88.9 16 R5 C-1-3253 A C-2-334 A C-3-2030 LS 334 85.7 6 The rule R5 is more special than the rule R4 and has no additional predictive power over it Every transaction described by R5 is also described by R4 The rule R5 can be pruned as redundant though some information may be lost 6 Some algorithm of pruning association rules are proposed  7 We adopt the algorithm RuleCover provided in 6 to pruning rules discovered from the transaction database T Assume r is a collection of rules with the same item or itemset as the consequent r  X Y I j  1   n and A is a subset of r The Rulecover algorithm is designed to find the minimum rule subset A E r such that A describes all transactions that the rule subset r describes The algorithm prunes the rules significantly, e.g 27 rules corresponding to No 334 character are discovered and 8 rules remain after pruning. Totally 4023 rules are mined out and I387 rules remain after pruning 1V COMBINATION SCHEME Our combination model is mainly based on the following empirical knowledge 1 For different classes an individual classifier exhibits different classification abilities Certain classifiers than others can distinguish some classes better The Voting rules express explicit complementarity while association rules describe implicit information The objective of combination is to obtain the final decision by synthesizing the outputs of the module classifiers The structure of combination system is shown in Fig 2 In Fig 2 the three individual classifiers output the first candidate labels respectively which form vector h h  O 02 0 The Voting Rules Module matches the vector h with the voting rule Rv and output the winning class if Rv matched, otherwise put the vector h into the Association Rule Module The Association Rule Module searches the rule set r for the rule that support the vector A The supporting class is exported if the vector h is supported by a rule Rk E A otherwise rejection is the output While the vector h is matched with the rules in the pruned rule set say A conflicts may occur To solve the problem we sort the rules in A in descending order with respect to the support The rules with same support are sorted in descending order according to the confidence V EXPERIMENT The original character database is divided into training set contains 180 characters per class and testing set contains 20 characters per class Training set and testingset generate the training transaction database and the testing transaction database respectively Three individual classifiers introduced in section 2 are employed Experimental results are shown in Table 2 and Table 3 Table 2 Recognition rates of classifiers Classifier I C-HPS 1 C-FCS I C-LSD Rec Rate YO I 83.4 I 80.1 I 78.9 In order to compare the performance of proposed combination scheme, the above three classifiers are also combined based on ILM, NISL I and voting respectively Combination system based on voting is a part of the system shown in Fig 2 Comparing with the voting system it is obvious that association rules play a concrete role for improving recognition rate The experimental results show 2556 


Table 3 Recongnition rates of combination systems Combination system I ILM I NISL I Voting I Rules Rec Rate Yo I 89.9 I 90.6 I 85.3 I 89.5 that the performance of the combination system based on association rules is conspicuously better than any individual classifier, and almost equivalent to that of ILM and NISL VI CONCLUSION In this paper we have presented the idea of combining classifiers based on association rules as a new method of combining multiple modules Combining classifiers based on association rules can be considered as based on knowledge The combination system harnesses the correlation of classifier modules explicitly different fiom traditionalmethods And we believe that it is a promising strategy to cope with some other complex decision making problems VII REFERENCE I Hong Wei Hao Xu Hong Xiao and Ru Wei Dai, \223Handwritten Chinese Character Recognition by Metasynthetic Approach.\224 Pattem Recognition Vol 30 No 8 1321-1328 1997 222 2 S Mori K Yamamoto and M Yasuda 223Research on machine recognition of handprinted characters.\224 IEEE Trans Pattem Analysis Mach Intell PAMI-6 4 p386-450 1984 3 Nei Kato Masato Suzuki, Shinichiro Omachi, Hirotomo As0 and Yoshiaki Nemoto 223A Handwitten Character Recognition System Using Directional Element Feature and Asymmetric Mahalanobis Distance.\224 IEEE Trans Pattern Analysis Mach Intell PAM1 21 3 1999 4 Khaled AI-Ghoneim and B V K Vijaya Kumar 223Unified Decision Combination Framework.\224 Pattem Recognition Vol SI R Agrawal and R Srikant 223Fast Algorithm for mining Association Rules.\224 In Proceedings of 20\224 international Conference on Very Large Databases Santiago, Chile 1994 6 H Toivonen M Klemettinen P Ronkainen K Hatonen and H Mannila 223Pruning and Grouping Discovered Association Rules.\224 In ECML-95 Workshop on Statistics Machine Leaming and Knowledge Discovery in Databases 47-52 Greece April 1995 7 Bing Liu Wynne Hsu and Yiming Ma 223Pruning and Summarizing the Discovered Associations\224 KDD-99 San Diego, August 1999 3 1 NO. 12 2077-2089 1998 2557 


0.6 0.7 0.8 0.9 1 Minimum Suppm  a T5-13-W3-N500-D10K EH-Apriori E-Apriori  9 0.6 0.7 0.8 0.9 1 Minimum Support  d T8-11.5-W3-N500-D10K Figure 1 Minimum support versus execution time 70 60 50 I 40 30 20 10 0 Separate Joint Pass 1 Pass 2 OPass 2 m0 Pass 4 98 96 Separate Joint Figure 2 Execution time on LOSER data set, support=98 Our study using stock movement data is on going The results obtained so far do indicate  that with cross-object association rules we can discover more comprehensive and interesting knowledge and EH-Apriori algorithm can always achieve better performance than E Apriori algorithm regardless of large or small average transaction size 5 CONCLUSION In this paper we introduce the notion of cross-object association rules These rules can represent not only the associations of items within transactions but also associations of items among different transactions The classical association rules can be viewed as a special case of the cross-object association rules We implement two algorithms for finding such association rules by extension of Apriori Our performance studies on both synthetic and real life data sets show that the strategies to prune unnecessary 2-itemsets from the candidate set C is more beneficial to the overall performance than it is in the case of traditional association rules As we only consider single-dimensional mining context in this paper one future work is to incor porate multiple dimensional attributes into the mining process Performing distributed and/or parallel cross-ob ject association rules mining is another further work we are interested in Acknowledge This work is supported by Hong Kong Govern ment University Grants Council  CERG PolyU 50741983 References l R Agrawal T Imielinski and A Swami Min ing association rules between sets of items in large databases In Proe ACM SIGMOD Id Conf Management of Data pages 207-216 Washington D.C USA May 1993 V 880 


R Agrawal and R Srikant Fast algorithms for mining association rules In Proc. 20th Intl Conf Very Large Data Bases pages 478-499 Santiago, Chile September 1994 E Baralis and G Psaila Designing tem plates for mining association rules Journal of Intelligent Information Systems Volume 9 Number 1 pages 7-32 1997 D Cheung J Han V Ng and C.Y Wong Maintenance of discovered association rules in large databases an incremental updating tech nique In Proc Intl Conf Data Engineering pages 106-114 New Orleans Louisiana USA February 1996 M Fang N Shivakumar H Garcia-Molina R Motwani and J.D Ullman Computing iceberg queries efficiently In Proc 24th IntI Conf Very Large Data Bases pages 299-310 New York USA August 1998 J Han and Y Fu Discovery of multiple-level association rules from large databases In Proc 21st Intl Conf Very Large Data Bases pages 420-431 Zurich Switzerland September 1995 J Han and Y Fu Meta-rule-guided mining of association rules in relational databases In Proc 1st Intl Workshop on Integration of Knowledge Discovery with Deductive and Object Oriented Databases pages 39-46 Singa pore December 1995 M Kamber J Han and J.Y Chiang Metarule guided mining of multi-dimensional association rules using data cubes In Proc Intl Conf Knowledge Discovery and Data Mining pages 207-210 California USA August 1997 M Klemettinen H Mannila P Ronkainen H Toivonen and A.I Verkamo Finding inter esting rules from large sets of discovered associ ation rules In Proc 3rd Intl Conf Information and Knowledge Management pages 401-408 Gaithersburg Maryland November 1994 B Lent A Swami and J Widom Clustering association rules In Proc Intl Conf Data Engineering pages 220-231 Birmingham, Eng land April 1997 R Meo G Psaila and S Ceri A new sql-like operator for mining association rules In Proc 22th Intl Conf Very Large Data Bases pages 122-133 Mumbai India September 1996 Proc ACM SIGMOD Intl Conf Management of Data pages 13-24 Seattle Washington June 1998 14 B Ozden A Ramaswamy and A Silberschatz Cyclic association rules In Proc Intl Conf Data Engineering 1998 15 J.3 Park M.-S Chen and P.S Yu An effective hash based algorithm for mining association rules In Proc ACM SIGMOD Intl Conf Management of Data pages 175-186 San Jose CA May 1995 Min ing association rules with adjustable accuracy Technical Report IBM Research Report 1995 17 S Ramaswamy S Mahajan and A Silber schatz On the discovery of interesting patterns in association rules In Proc 24th Intl Conf Very Large Data Bases pages 368-379 New York USA August 1998 18 A Savasere, E. Omiecinski and S Navathe An efficient algorithm for mining association rules in large databases In Proc 2lst Intl Conf Very Large Data Bases pages 432-443 Zurich Switzerland September 1995 19 R Srikant and R Agrawal Mining generalized association rules In Proc 2lst Intl Conf Very Large Data Bases pages 409-419 Zurich Switzerland September 1995 20 R Srikant and R Agrawal Mining quantitative association rules in large relational tables In Proc ACM SIGMOD Intl Conf Management of Data pages 1-12 Montreal Canada June 1996 Mining association rules with item constraints In Proc 3rd Intl Conf Knowledge Discovery and Data Mining pages 67-73 Newport Beach California August 1997 Sampling large databases for association rules In Proc 22th Intl Conf Very Large Data Bases pages 134-145 Mumbai India September 1996 23 D Tsur J.D Ullman S Abitboul C Clifton R Motwani and S Nestorov Query flocks a generalization of association-rule mining In Proc ACM SIGMOD Intl Conf Management of Data pages 1-12 Seattle Washington June 1998 16 J.-S Park M.4 Chen and P.S Yu 21 R Srikant Q Vu and R Agrawal 22 H Toivonen R.J over Intl 461 Miller and Y Yang Association rules 24 M.J Zaki S Parthasarathy M Ogihara and interval data In Proc ACM SIGMOD W Li New algorithms for fast discovery of Conf Management of Data pages 452 association rules In Proc 3rd Intl Conf Tucson, Arizona USA June 1997 Knowledge Discovery and Data Mining pages 13 R Ng L.V.S Lakshmanan J Han and 283-286 Newport Beach CA USA August 1997 A Pang Exploratory mining and pruning op timizations of constrained association rules In V 881 


has possibilities to be the platform for large scale web mining We have introduced some raw results of data mining on a portal site with focus on mobile users However we have not provided the evaluation of the quality of the results yet We believe that the quality of web mining techniques depends on the application The compari son with other techniques in certain applications such as prefetching and recommendation system will be one of our future work Acknowledgements We would like to thank people from NTT Software in particular Mr Katsumi Takahashi and Dr Atsuhiro Goto for providing the log file of MIS and helpful dis cussions References R Agrawal T Imielinski A Swami 224Mining Association Rules between Sets of Items in Large Databases\224 In Proc of the ACM SIGMOD Con ference on Management of Data 1993 R Agrawal, R Srikant 224Fast Algorithms for Min ing Association Rules\224 In Proc of the VLDB Con ference 1994 R Agrawal R Srikant 223Mining Sequential Pat terns\224 221In Proceedings of Int Conf on Data En gineering March 1995 R Srikant R Agrawal 223Mining Sequential Pat terns Generalizations and performance improve ments\224 221In Proceedings of 5th Int Conf on Ex tending Database Technology March 1996 G 0 Arocena A 0 Mandelzon G A Mihaila 223Applications of a Web Query Language\224 221In Pro ceedings of WWWG April 1997 S Brin L Page 223The Anatomy of a Large Scale Hypertextual Web Search Engine\224 In Proceedings of WWW7 May 1998 A Buchner M D Mulvenna 223Discovering inter net marketing intelligence through online analyti cal Web usage mining\224 In SIGMOD Record 4 1999 R Cooley B Mobasher J Srivistava 223Data preparation for mining World Wide Web browsing patterns\224 In Journal of Knowledge and Informa tion Systems 1 1999 9 E Spertus L A Stein 223Squel A Structured Query Language for the Web In Proceedings of WWW9 May 2000 lo M Houtsma A Swami 224Set-oriented Mining of Association Rules\224 In Proc of International Con ference on Data Engineering March 1995 ll J Kleinberg 223Authoritive sources in s hyper In Proceedings of ACM linked environment\224 SIAM Symposium in Discrete Algorithm 1998 12 S Lawrwence L Giles 224Accessibility of informa tion on the web\224 In Nature Vol 400 pp 107-109 1999 E131 M Perkowitz 0 Etzioni 223Towards Adaptive Web Sites Conceptual Framework and Case Study\224, In Proceedings of WWW8 May 1999 14 Katsumi Takahashi Seiji Yokoji Nobuyuki Miura 224Location Oriented Integration of Internet Infor mation  Mobile Info Search\224 In Designing the Digital City Springer-Verlag, March 2000 15 Takayuki Tamura Masato Oguchi and Masaru Kitsuregawa 223Parallel Database Processing on a 100 Node PC Cluster Cases for Decision Sup port Query Processing and Data Mining\224 In Pro ceedings of SC97 High Performance Networking and Computing\(SuperComputing 22297 November 1997 16 S Thomas S Sarawagi 223Mining Generalized Association Rules and Sequential Patterns Using SQL Queries\224 221In Proceedings of Int Conf on Knowledge Discovery and Data Mining March 1998 17 T Yan M Jacobsen H Garcia-Molina U Dayal 223From user access patterns to dynamic hypertext linking\224 In Proceedings of WWW5 May 1996 134 


267  Feature dimensions  on which the generated rules may be dimensioned such as merchant, time and area  A volume cube C v is sufficient for deriving the instances of rule X 336 Y if it has a base dimension that represents the base of the rule, and the association conditions for qualifying X 331 Y are definable on C v For deriving cross-sale association rules from cube SaleUnits an association condition can be  for each base and feature dimension C v product A\ > 0 331 C v product B\ > 0 If the association conditions used to compute multidimensional P X  307 P Y  are definable on C v then another kind of condition, called antecedent conditions that are used to compute multidimensional  P X    are also definable on C v such as  for each base and feature dimension C v product A\ > 0 Association cube The association cube C a  for rule X 336 Y gives a volume-based measure of multidimensional association relationships that are computed from the volume cube C v and is used to derive the confidence cube and the support cube of association rules. More exactly, it maintains dimensioned P X 307 P Y i.e the number of base elements that satisfy X 331 Y Usually C a is dimensioned differently from C v In the cross-sale association rule example, the association cube is defined as  CrossSales product, product2, customer_group, merchant time, area  A cell of this cube, CrossSales product 221A\222 product2 221B\222  customer_group \221 engineer\222 merchant 221Sears\222 time 221Jan98\222 area 221Los Angeles\222\eans that there are 4,500 customers who are engineers, who bought item A as well as item B, at a Sears store in Los Angeles in Jan98 For an association cube the item dimensions underlie the counts for deriving association rules, such as dimensions product and product2 for the above CrossSales cube. The dimension product2 has the same set of values as product and we call it the mirror dimension  of product We introduce a mirror dimension simply because the cross-sale association rule involves more than one element of the item dimension  The base dimension   such as the customer dimension  underlies the base of rules. Unlike the volume cube, the association cube does not necessarily have to be dimensioned by the base dimension However, we can dimension rules by a derived dimension, each value of which identifies a group of base dimension values at bottom levels. In the cube CrossSales shown above, we introduce the hierarchical dimension customer_group   which has levels customer_profession\222, \221customer_category\222 and 'top'. A relation is also defined for relating customers and customer groups. For example, a value of the derived customer_group dimension, say, \223engineer\224, is used to identify a group of individual customers who are engineers  An association can cube also have underlying feature dimensions  such as merchant, time and area Population cube and base cube The population cube C p and the base cube C b for rule X 336 Y are also derived from the volume cube C v  C p is used to measure dimensioned P X i.e the numbers of base elements satisfying X  C b is used to represent dimensioned B For the above cross-sale rules, the population cube is defined as NumOfBuyers \(product, customer_group, merchant, time area A cell of this cube NumOfBuyers product 221A\222 customer_group \221 engineer\222 merchant 221Sears\222 time 221Jan98\222 area 221Los Angeles\222  10000  means that there are 10,000 customers who are engineers, and who bought item A in Los Angeles in Jan98. The base cube is defined as  NumOfShoppers \(customer_group, merchant, time, area Note that NumOfShoppers is not aggregated from NumOfBuyers as a single customer may buy multiple products Confidence cube and support cube The confidence of rule X 336 Y defined as P X 307 P Y  P X  and the support, defined as P X 307 P Y B are represented as cubes C f  and C s  C f  is derived from C a and C p and C s is derived from C a  and C b They have the same dimensions as C a For the above cross-sale rules the confidence cube and support cube are defined as  Confidence \(product, product2, customer_group, merchant time, area   Support  product, product2, customer_group, merchant time, area Figure 2 shows the cubes related to cross-sale association rules, with one slice of each cube. The volume-cube is generated from transactions; the 


association-cube, base-cube and population-cube are derived from the volume cube; the confidence-cube is derived from the association cube and population cube and the support-cube is derived from the associationcube and base-cube. The slices of these cubes shown in Figure 2 correspond to the same list of values in dimension merchant, time, area and customer_group  Multidimensional and multilevel rules Representing association rules by cubes and underlying cubes by hierarchical dimensions, naturally supports multidimensional and multilevel rules. Also these rules are well organized and can be easily queried  First, the cells of an association cube with different dimension values are related to association rule instances in different scopes. In the association cube CrossSales cell CrossSales product \221A\222, product2 \221B\222  customer_group 221engineer\222, merchant \221Sears\222, area \221Los Angeles\222, time 221Jan98\222 represents the following multidimensional rule x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x,\221B\222  275 customer_group = \221engineer\222, merchant = \221Sears\222, area 221Los  Angeles\222, time =  \221Jan98\222 If this cell has value 4500, and the corresponding cell in the population cube has value 10000, then this rule has confidence 0.45 Next as the cubes representing rules can have hierarchical dimensions, they represent not only multidimensional but also multi-level association rules. For example, the following cells CrossSales\(product \221A\222, product2 \221B\222, customer_group 221engineer\222, merchant \221Sears\222, area \221 California 222, time 221Jan98\222 CrossSales\(product \221A\222, product2 \221B\222, customer_group 221engineer\222, merchant \221Sears\222, area \221 California 222, time 221 Year98 222 represent association rules at different area levels \(i.e the city level and the state level\d different time levels \(i.e., the month level, the year level x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x, \221B\222  275 customer_group = \221engineer\222, merchant =  \221Sears\222, area 221 California 222, time =  \221Jan98\222 x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x, \221B\222  275 customer_group = \221engineer\222, merchant =  \221Sears\222, area 221 California 222, time =  \221 Year98 222 The cell CrossSales\(product \221A\222, product2 \221B\222,  customer_group 221top\222, merchant \221top\222, area \221top\222,  time \221top\222 represents the customer-based cross-sale association rule for all customers, merchants, areas, and times in the given range of these dimensions, expressed as x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x, \221B\222 4.3  Generating Association Rule Related Cubes The basic task of our OLAP based association rule mining framework, either at the GDOS or at an LDOS is to convert a volume cube i.e. the cube representing the purchase volumes of customers dimensioned by product  area etc, into an association cube a base cube and a population cube These cubes are then used to derive the confidence cube and the support cube of multidimensional association rule instances. The following general steps are involved in cross-sale association rule mining 267  Roll up the volume cube SaleUnits by aggregating it along merchant, time, area dimensions 267  Derive cube NumOfBuyers from SaleUnits based on the antecedent condition SaleUnits 0 267  Populate cube NumOfShoppers by the counts of customers dimensioned by merchant, area  time not by product\at satisfy the antecedent conditions 267  Derive cube CrossSales from SaleUnits based on the association conditions SaleUnits  product  p 1  0 and SaleUnits  product2  p 2 0 267  Derive cube Confidence and cube Support using cell-wise operations 214  Confidence = CrossSales  NumOfBuyers 214  Support  CrossSales  NumOfShoppers  Cubes Confidence  Support  CrossSales are dimensioned by product  product2 customer_group,merchant  time, area NumOfBuyers is dimensioned by product  customer_group, merchant time, area  NumOfShoppers is dimensioned by customer_group, merchant  time, area Rules with confidence and support that exceed specified thresholds  may be considered interesting 4.4. Rules with Conjoint Items Cubes with conjoint dimensions can be used to represent refined multidimensional association rules For example, using OLAP, we can derive association rules across time  Time-variant or temporal association rules such as 


x 316 Customers buy_product\(x,\222 A\222, \221 Jan98\222  336 buy _product\(x, \221B\222, \221 Feb98\222   275 area = \221Los Angeles\222 can be used to answer such questions as \223 How are  the sales of B in Feb98  associated with the sales of A in Jan98 224 The items in this rule are value pairs of dimensions product and time In order to specify this kind of association rule we introduce a conjoint dimension product, time and mirror it with dimension product2, time2 This allows a cell in the association cube to cross two time values. Accordingly, the cubes related to association rule mining are defined as follows Association cube  CrossSales.2 \(<product, time>, <product2, time2 customer_group, merchant, area  Population cube  NumOfBuyers.2  \(<product, time>, customer_group merchant, area Base cube  NumOfShoppers.2  \( customer_group, merchant, area Confidence cube Confidence.2 \(<product, time>, <product2, time2 customer_group, merchant, area Support  cube  Support.2  product, time>, <product2, time2 customer_group, merchant, area  The steps for generating these cubes are similar to the ones described before. The major differences are that a cell is dimensioned by, besides others product, time and product2, time2 and the template of the association condition is  SaleUnit s  product p 1 time t 1  0 and  SaleUnits  product2 p 2 time2 t 2  0 where, in any instance of this condition, the time expressed by the value of time2 is not contained in the time expressed by the value of time The template of the antecedent condition is SaleUnits   product p 1 time t 1  0 In general, other dimensions such as area may be added to the conjoint dimensions to specify more refined rules 4.5. Functional Association Rules A multidimensional association rule is functional if its predicates include variables, and the variables in the consequent are functions of those in the antecedent.  For example, functional association rules can be used to answer the following questions, where a_month and a_year are variables q  What is the percentage of people in California who buy a printer in the next month after they bought a PC x 316 Customer buy_product\(x, \221PC\222, a_ month 336 buy_product\(x, \221printer\222, a_month+1  275 area = \221California\222 q  What is the percentage of people who buy a printer within the year when they bought a PC  x 316 Customer: buy_product\(x, \221PC\222, a_ year 336 buy_product\(x, \221printer\222, a_year 275 area = \221California\222 To be distinct, we call the association rules that are not functional as instance association rules; e.g x 316 Customer: buy_product\(x,\222 PC\222, \221Jan98\222 336 buy_product\(x,\222 printer\222, \221Feb98\222  275 area =  \221California\222 Time variant, functional association rules can be derived from time variant, instance association rules through cube restructuring. Let us introduce a new dimension time_delta that has values one_day, two_day 205, at the day level, and values one_month, two_month, \205, at the month level, etc. Then, let us consider the following functional association rule related cubes Association cube  CrossSales.3 \(product, product2, customer_group merchant, area, time_delta  Population cube  NumOfBuyers.3 \(product, customer_group, merchant area Base cube  NumOfShoppers.3 \( customer_group, merchant, area Confidence cube  Confidence.3 \(product, product2, customer_group merchant, area, time_delta Support cube  Support.3 \(product, product2, customer_group, merchant area, time_delta The association cube CrossSales.3  can be constructed from CrossSales.2   The cell values of CrossSales.2  in the selected time and time2 ranges are added to the corresponding cells of CrossSales.3 For example, the count value in cell  CrossSales.2\(<PC, Jan98>, <printer, Feb98>\205 is added to cell \(bin CrossSales.3\(PC, printer, one_month,\205 


It can also be added to cell CrossSales.3\(PC, printer one_year,\205 5  Distributed and Incremental Rule Mining There exist two ways to deal with association rules 267  Static that is, to extract a group of rules from a snapshot, or a history, of data and use "as is 267  Dynamic that is, to evolve rules from time to time using newly available data We mine association rules from an e-commerce data warehouse holding transaction data. The data flows in continuously and is processed daily Mining association rules dynamically has the following benefits 267  223Real-time\224 data mining, that is, the rules are drawn from the latest transactions for reflecting the current commercial trends 267  Multilevel knowledge abstraction, which requires summarizing multiple partial results. For example association rules on the month or year basis cannot be concluded from daily mining results. In fact multilevel mining is incremental in nature 267  For scalability, incremental and distributed mining has become a practical choice Figure 3: Distributed rule mining Incremental association rule mining requires combining partial results. It is easy to see that the confidence and support of multiple rules may not be combined directly. This is why we treat them as \223views\224 and only maintain the association cube, the population cube and the base cube that can be updated from each new copy of volume cube. Below, we discuss several cases to show how a GDOS can mine association rules by incorporating the partial results computed at LDOSs 267  The first case is to sum up volume-cubes generated at multiple LDOSs. Let C v,i be the volume-cube generated at LDOS i The volume-cube generated at the GDOS by combining the volume-cubes fed from these LDOSs is 345   n i i v v C C 1  The association rules are then generated at the GDOS from the centralized C v  214  The second case is to mine local rules with distinct bases at participating LDOSs, resulting in a local association cube C a,I a local population cube C p,I  and a local base cube C b,i at each LDOS. At the GDOS, multiple association cubes, population cubes and base cubes sent from the LDOSs are simply combined, resulting in a summarized association cube and a summarized population cube, as 345   n i i a a C C 1   345   n i i p p C C 1  and 345   n i i b b C C 1  The corresponding confidence cube and support cube can then be derived as described earlier. Cross-sale association rules generated from distinct customers belong to this case In general, it is inappropriate to directly combine association cubes that cover areas a 1 205, a k to cover a larger area a In the given example, this is because association cubes record counts of customers that satisfy   customer product merchant time area Doe TV Dept Store 98Q1 California Doe VCR Dept Store 98Q1 California customer product merchant time area Doe VCR Sears 5-Feb-98 San Francisco Joe PC OfficeMax 7-Feb-98 San Francisco customer product merchant time area Doe TV Fry's 3-Jan-98 San Jose Smith Radio Kmart 14-Jan-98 San Jose Association   population      base          confidence      support cube               cube                cube         cube                cube LDOS LDOS GDOS 


the association condition, and the sets of customers contained in a 1 205, a k are not mutually disjoint. This can be seen in the following examples 214  A customer who bought A and B in both San Jose and San Francisco which are covered by different LDOSs , contributes a count to the rule covering each city, but has only one count, not two, for the rule A  336  B covering California 214  A customer \(e.g. Doe in Figure 3\who bought a TV in San Jose, but a VCR in San Francisco, is not countable for the cross-sale association rule TV  336 VCR covering any of these cities, but countable for the rule covering California. This is illustrated in Figure 3 6  Conclusions In order to scale-up association rule mining in ecommerce, we have developed a distributed and cooperative data-warehouse/OLAP infrastructure. This infrastructure allows us to generate association rules with enhanced expressive power, by combining information of discrete commercial activities from different geographic areas, different merchants and over different time periods. In this paper we have introduced scoped association rules  association rules with conjoint items and functional association rules as useful extensions to association rules The proposed infrastructure has been designed and prototyped at HP Labs to support business intelligence applications in e-commerce. Our preliminary results validate the scalability and maintainability of this infrastructure, and the power of the enhanced multilevel and multidimensional association rules. In this paper we did not discuss privacy control in customer profiling However, we did address this issue in our design by incorporating support for the P3P protocol [1 i n  ou r data warehouse. We plan to integrate this framework with a commercial e-commerce system References 1  Sameet Agarwal, Rakesh Agrawal, Prasad Deshpande Ashish Gupta, Jeffrey F. Naughton, Raghu Ramakrishnan, Sunita Sarawagi, "On the Computation of Multidimensional Aggregates", 506-521, Proc. VLDB'96 1996 2  Surajit Chaudhuri and Umesh Dayal, \223An Overview of Data Warehousing and OLAP Technology\224, SIGMOD Record Vol \(26\ No \(1\ 1996 3  Qiming Chen, Umesh Dayal, Meichun Hsu 223 OLAPbased Scalable Profiling of Customer Behavior\224, Proc. Of 1 st International Conference on Data Warehousing and Knowledge Discovery \(DAWAK99\, 1999, Italy 4  Hector Garcia-Molina, Wilburt Labio, Jun Yang Expiring Data in a Warehouse", Proc. VLDB'98, 1998 5  J. Han, S. Chee, and J. Y. Chiang, "Issues for On-Line Analytical Mining of Data Warehouses", SIGMOD'98 Workshop on Research Issues on Data Mining and Knowledge Discovery \(DMKD'98\ , USA, 1998 6  J. Han, "OLAP Mining: An Integration of OLAP with Data Mining", Proc. IFIP Conference on Data Semantics DS-7\, Switzerland, 1997 7  Raymond T. Ng, Laks V.S. Lakshmanan, Jiawei Han Alex Pang, "Exploratory Mining and Pruning Optimizations of Constrained Associations Rules", Proc ACM-SIGMOD'98, 1998 8  Torben Bach Pedersen, Christian S. Jensen Multidimensional Data Modeling for Complex Data Proc. ICDE'99, 1999 9  Sunita Sarawagi, Shiby Thomas, Rakesh Agrawal Integrating Association Rule Mining with Relational Database Systems: Alternatives and Implications", Proc ACM-SIGMOD'98, 1998   Hannu Toivonen, "Sampling Large Databases for Association Rules", 134-145, Proc. VLDB'96, 1996   Dick Tsur, Jeffrey D. Ullman, Serge Abiteboul, Chris Clifton, Rajeev Motwani, Svetlozar Nestorov, Arnon Rosenthal, "Query Flocks: A Generalization of Association-Rule Mining" Proc. ACM-SIGMOD'98 1998   P3P Architecture Working Group, \223General Overview of the P3P Architecture\224, P3P-arch-971022 http://www.w3.org/TR/WD-P3P.arch.html 1997 


Plenary Panel Session 30 XML Databases   Moderator: Michael Carey, IBM Almaden Research Center USA Panelists Adam Bosworth, Microsoft Corporation USA David De Witt University of Wisconsin-Madison, USA Alon Levy University of Washington USA Bruce Lindsay IBM Almaden Research Center USA Jennifer Widom Stanford University USA Demo Session 1 Web Query Optimizer  661 V Zadorozhny L Bright L Raschid T Urhan and M Vidal ReQueSS: Relational Querying of Semi-structured Data  664 R Sunderraman The IDEAL Approach to Internet-Based Negotiation for E-Business  666 J Hammer C Huang Y Huang C Pluempitiwiriyawej M Lee H Li L Wang Y Liu and S Su READY A High Performance Event Notification Service  668 R Gruber B Krishnamurthy, and E Panagos A Multimedia Information Server with Mixed Workload Scheduling  670 G Nerjes DISIMA An Object-Oriented Approach to Developing an Image Database System  672 V Oria T Ozsu P Iglinski B Xu and L Cheng Demo Session 2 The Collaboration Management Infrastructure  677 H Schuster D Baker A Cichocki D Georgakopoulos and M Rusinkiewicz Assisting the Integration of Taxonomic Data The LITCHI Toolkit  679 I Sutherland J Robinson S Brandt A Jones S Embury W Gray R White and F Bisby TheaterLoc: Using Information Integration Technology to Rapidly Build Virtual Applications  681 G. Barish Y.4 Chen D Dipasquo, C Knoblock S Minton I Muslea and C Shahabi Lineage Tracing in a Data Warehousing System  683 Y Cui and J Widom xiii 


The Mentor-Lite Prototype A Light-Weight Workflow Management System  685 J Weissenfels M Gillmann 0 Roth, G Shegalov and W Wonner Location Prediction and Queries for Tracking Moving Objects  687 0 Wolfson B Xu and S Chamberlain Semiorder Database for Complex Activity Recognition in Multi-Sensory Environments  689 S Bhonsle A Gupta S Santini and R Jain Tutorial 1 Web Information Retrieval  693 M Henzinger Tutorial 2 Mobile and Wireless Database Access for Pervasive Computing  694 P Chrysanthis and E Pitoura Tutorial 3 Data Mining with Decision Trees  696 J Gehrke Tutorial 4 Directories Managing Data for Networked Applications  697 D Srivastava Tutorial 5 Indexing High-Dimensional Spaces Database Support for Next Decade\222s Applications  698 S Berchtold and D Keim xiv 


 T5.I2.D100K T10.I4.D100K T15.I4.D100K T10.I6.D400K T10.I6.D800K T10.I6.D1600K Optimizations across Databases 5 0 5 10 15 20 25 30 35 40 45 Improvement COMP TREE COMP-TREE 1 2 4 8 1 2 4 8 1 2 4 8 2 4 8 2 4 8 1 2 4 8 Processors Databases Figure 5 Effect of Computation and Hash Tree Balancing good as the COMP optimization The reason that the hash tree balancing is not suf\336cient to offset inherent load imbalance in the candidate generation in this case The most effective approach is to apply both optimizations at the same time COMP-TREE The combined effect is suf\336cient to push the improvements in the 40 range in the multiple-processor case On 1 processor only hash tree balancing is bene\336cial since computation balancing only adds extra cost 5.4 Short-circuited Subset Checking Figure 6 shows the improvement due to the short-circuited subset checking optimization with respect to the unoptimized version The unoptimized version is the Apriori algorithm due to Agrawal et al 5 The results are presented for dif ferent number of processors across dif ferent databases The results indicate that while there is some improvement for databases with small transaction sizes the optimization is most effective when the transaction size is large In this case we get improvements of around 25 r the unoptimized version To gain further insight into this optimization consider 336gure 7 It shows the percentage improvement obtained per iteration on applying this optimization on the T20.I6.D100K database It shows results only for the uni-processor case r similar results were obtained on more processors We observe that as the iteration k increases there is more opportunity for shortcircuiting the subset checking and we get increasing bene\336ts of up to 60 The improvements start to fall off t the high end where the number of candidates becomes small resulting in a small hash tree and less opportunity for short-circuiting It becomes clear that is an extremely effective 15 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


 T5.I2.D100K T10.I6.D800K T15.I4.D100K T20.I6.D100K procs across Databases 0 5 10 15 20 25 Improvement 1 2 4 8 Figure 6 Effect of Short-circuited Subset Checking 23456789101112 Iterations 0 10 20 30 40 50 60 improvement T20.I6.D100K Figure 7  Improvement per Iteration  proc   16 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


optimization for larger transaction sizes and in cases where there are large number of candidate k itemsets 6 Conclusions In this paper e presented a parallel implementation of the Apriori algorithm on the SGI Power Challenge shared memory multi-processor We also discussed a set of optimizations which include optimized join and pruning computation balancing for candidate generation hash tree balancing and short-circuited subset checking We then presented experimental results on each of these Improvements of more than 40 were obtained for the computation and hash tree balancing The short-circuiting optimization was found to be extremely effective for databases with large transaction sizes Finally we reported the parallel performance of the algorithm While we d good speed-up we observed a need for parallel I/O techniques for further performance gains References  R Agra wal T  Imielinski and A Swami Database mining A performance perspecti v e  I n IEEE Trans on Knowledge and Data Engg  pages 5\(6 1993  R Agra wal T  Imielinski and A Swami Mining association rules between sets of items in lar ge databases In Proc M SIGMOD Intl Conf Management of Data  May 1993  R Agra wal H Mannila R Srikant H T o i v onen and A I V erkamo F ast disco v ery of association rules In U F et al editor Advances in Knowledge Discovery and Data Mining  MIT Press 1996  R Agra wal and J Shafer  P arallel mining of association rules design implementation and e xperience Technical Report RJ10004 IBM Almaden Research Center San Jose CA 95120 Jan 1996  R Agra wal and R Srikant F ast algorithms for mining association rules In Proc 20th VLDB Conf  Sept 1994  M Cierniak W  Li and M J Zaki Loop scheduling for heterogeneity  I n 4th IEEE Intl Symposium on High-Performance Distributed Computing also as URCS-TR 540 CS Dept Univ f Rochester  Aug 1995  M Holsheimer  M  K ersten H Mannila and H T o i v onen A perspecti v e on databases and data mining In 1st Intl Conf Knowledge Discovery and Data Mining  Aug 1995  M Houtsma and A Swami Set-oriented mining of association rules In RJ 9567  IBM Almaden Oct 1993  H Mannila H T o i v onen and I V erkamo Ef 336cient algorithms for disco v ering association rules In AAAI Wkshp Knowledge Discovery in Databases  July 1994  J S P ark M Chen and P  S Y u  A n e f fecti v e hash based algorithm for mining association rules In Proc M SIGMOD Intl Conf Management of Data  May 1995 17 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


 J S P ark M Chen and P  S Y u  E f 336cient parallel data mining for association rules T echnical Report RC20156 IBM T J Watson Research Center Aug 1995  G Piatetsk y-Shapiro Disco v ery  presentation and analysis of strong rules In G P S et al editor  KDD  AAAI Press 1991  A Sa v asere E Omiecinski and S Na v athe An ef 336cient algorithm for mining association rules in large databases In Proc 21st VLDB Conf  1995  M J Zaki M Ogihara S P arthasarathy  and W  Li P arallel data mining for association rules on shared-memory multi-processors Technical Report 618 Department of Computer Science University of Rochester 618 1996 18 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


