Cyclic Association Rules Banu 310 Ozden Sridhar Ramaswamy Avi Silberschatz Bell Laboratories Information Sciences Research Center 600 Mountain Avenue Murray Hill NJ 07974 f ozden,sridhar,avi g research.bell-labs.com Abstract We study the problem of discovering association rules that display regular cyclic variation over time For example if we compute association rules over monthly sales data we may observe seasonal variation where certain rules are true at approximately the same month each year Similarly association rules can also display regular hourly daily weekly etc variation that is cyclical in nature We demonstrate that existing methods cannot be naively extended to solve this problem of cyclic association rules We then present two new algorithms for discovering such rules The 256rst one which we call the sequential algorithm treats association rules and cycles more or less independently By studying the interaction between association rules and time we devise a new technique called cycle pruning  which reduces the amount of time needed to 256nd cyclic association rules The second algorithm which we call the interleaved algorithm uses cycle pruning and other optimization techniques for discovering cyclic association rules We demonstrate the effectiveness of the interleaved algorithm through a series of experiments These experiments show that the interleaved algorithm can yield signi\256cant performance bene\256ts when compared to the sequential algorithm Performance improvements range from 5 to several hundred percent 1 Introduction Recent advances in data collection and storage tec hnology have made it possible for many companies to keep large amounts of data relating to their business online At the same time cheap computing power has also made some automatic analysis of this data feasible This activity is commonly referred to as data mining  One major application domain of data mining is in the analysis of transactional data It is assumed that the database system records information about user transactions where each transaction is a collection of items In this setting association rules capture interrelationships between various items An association rule captures the notion of a set of items occurring together in transactions For example in a database maintained by a supermarket an association rule might be of the form 252beer  chips support 3 con\256dence 87 which means that 3 of all database transactions contain the items beer and chips and 87 of the transactions that have the item 252beer\272 also have the item 252chips\272 in them The two percentage parameters above are commonly referred to as 252support\272 and 252con\256dence\272 respectively Typically the data mining process is controlled by a user who sets minimum thresholds for the support and con\256dence parameters The user might also impose other restrictions like restricting the search space of items in order to guide the data mining process Following the work of AIS93  d is c o v e r y o f a s s o c i a tio n rules has been extensively studied in AS94 SA95 HF95 SON95 PCY95 SA96 FMMT96 Toi9  H ow e v e r  a l l the above work treat all the data as one large segment with no attention paid to segmenting the data over different time intervals To illustrate let us return to our previous example It may be the case that beer and chips are sold together primarily between 6PM and 9PM Therefore if we segment the data over the intervals 7AM\2616PM and 6PM\261 9PM we may 256nd that the support for the beer and chips rule jumps to 50 From the above example we can conclude that although an association rule may have the user speci\256ed minimum con\256dence and support within the entire time spectrum analysis of the data in 256ner time granularity may reveal that the association rule exists only in certain time intervals and does not occur in the remaining time intervals Even casual observation of many association rules over monthly data may disclose seasonal variation where peaks occur at approximately the same month in each year Association rules could also display regular hourly daily weekly etc variation that has the appearance of cycles It is also possible that an association rule does not have the user speci\256ed minimum con\256dence and/or support over the entire time spectrum but its con\256dence and support are above the minimum threshold within certain time intervals If these time intervals display a periodicity discovering these rules and their periodicities may reveal interesting information that can be used for prediction and decision making Let us now examine another supermarket example where we are analyzing sales data over several months Assume that we are interested in the selling patterns of the items coffee and doughnuts If we were to look at the overall support for coffee and doughnuts occurring together in transactions we might discover that the two items do not have enough support i.e these items do not meet the minimum thresh 


old for support speci\256ed by the user However if we look into hourly sales 256gures we might discover that coffee and doughnuts have a strong tendency to occur together with high support during the time interval 7AM\2619AM That is 252coffee  doughnuts\272 during the interval 7AM\2619AM every day Further analysis might also reveal a larger weekly tendency wherein coffee and doughnut sales dip during weekends Discovering such regularities in the behavior of association rules over time are the subject of this paper We believe that our techniques will enable marketers to better identify trends in sales and allow for better forecasting of future demand We assume in this paper that the transactional data to be analyzed is time-stamped and that time intervals are speci\256ed by the user to divide the data into disjoint segments We believe that users will typically opt for 252natural\272 segmentations of the data based on months weeks days etc and that users are best quali\256ed to make this decision based on their understanding of the underlying data Addressing issues like overlapping and/or hierarchical segmentations and automatically determining a good segmentation are outside the scope of this paper We refer to an association rule as cyclic if the rule has the minimum con\256dence and support at regular time intervals Such a rule need not hold for the entire transactional database but rather only for transactional data in a particular periodic time interval That is each cyclic rule must have the user speci\256ed minimum support and con\256dence over a speci\256c periodic time interval Upper and lower bounds for the periods of such time intervals will be speci\256ed by the user We de\256ne the problem of mining cyclic association rules as the generation of all the cycles of association rules Given a large database consisting of transactional information where each transaction consists of a transaction-id a set of items and a time-stamp our goal is to provide ef\256cient algorithms to discover cyclic association rules We 256rst consider a relatively straightforward extension of existing association rule mining techniques for solving this problem This extension treats association rules and cycles independently It applies one of the existing methods for discovering association rules to each segment of data and then applies pattern matching algorithms to detect cycles in association rules By studying the interaction between cycles and association rule mining more closely we identify techniques called cycle pruning and cycle skipping which allow us to signi\256cantly reduce the amount of wasted work performed during the data mining process We then show the effectiveness of these techniques by presenting the results of a series of experiments The remainder of this paper is organized as follows In the next section we de\256ne the problem of discovering cyclic association rules formally In Section 3 we discuss the shortcomings of the existing techniques to discover cyclic association rules and present two new techniques to solve this problem Implementation details of our prototype are described in Section 4 The experimental evaluation of the two techniques is presented in Section 5 Finally we present our conclusions in Section 6 and identify directions for future research 2 Problem De\256nition Given a set of items and a set of transactions where each transaction consists of a subset of the set of items the problem of discovering association rules is de\256ned as 256nding relationships between the occurrences of items within transactions An association rule of the form X  Y is a relationship between the two disjoint itemsets X and Y an itemset is a set of items An association rule is described in terms of support and con\256dence  The support of an itemset X is the fraction of transactions that contain the itemset An itemset is called large  if its supports ex ceeds a given threshold sup min The con\256dence of a rule X  Y is the fraction of transactions containing X that also contain Y The association rule X  Y holds if X  Y is large and the con\256dence of the rule exceeds a given threshold con min  In order to deal with cyclic association rules we enhance the transaction model by a time attribute that describes the time when the transaction was executed In this paper we assume that a unit of time is given e.g by the user More complicated treatments of time such as multiple units of time and/or a time hierarchy are not in the scope of this paper We denote the i th time unit i 025 0  by t i  That is t i corresponds to the time interval  i 001 t  i  1  001 t   where t is the unit of time We denote the set of transactions executed in t i by D  i   1 We de\256ne the problem of discovering cyclic association rules as 256nding cyclic relationships between the presence of items within transactions The support of an itemset X in D  i  is the fraction of transactions in D  i  that contain the itemset whereas the con\256dence of a rule X  Y in D  i  is the fraction of transactions in D  i  containing X that also contain Y An association rule X  Y holds in time unit t i  if the support of X  Y in D  i  exceeds sup min and the con\256dence of X  Y in D  i  exceeds con min A cycle c is a tuple  l o  consisting of a length l in multiples of the time unit and an offset o the 256rst time unit in which the cycle occurs 0 024 o<l We say that an association rule has a cycle c  l o  if the association rule holds in every l th time unit starting with time unit t o  For example if the unit of time is an hour and 252coffee  doughnuts\272 holds during the interval 7AM-8AM every day i.e every 24 hours then 252coffee  doughnuts\272 has a cycle  24  7   We denote the minimum and maximum cycle lengths of interest by l min and l max  respectively We refer to an association rule that has a cycle as cyclic An association rule may have multiple cycles For example if the unit of time is an hour and 252coffee  doughnuts\272 holds during the interval 7AM-8AM and 4PM-5PM every day i.e every 24 hours then 252coffee  doughnuts\272 has two cycles c 1  24  7  and c 2  24  16   We say that a cycle  l i o i  is a multiple of another cycle  l j o j  if l j divides l i and  o j  o i mod l j  holds By de\256nition once a cycle exists all of its multiples with length less than or equal to l max will exist Therefore it is only interesting to discover 252large\272 cycles where a large cycle is the one that is not multiple of any other cycle Let c  l o  be a cycle A time unit t i is said to be 252part of cycle c 272 or 252participate in cycle c 272if o  i mod l holds An association rule can be represented as a binary sequence where the ones correspond to the time units in which the rule holds and the zeros correspond to the time 1 We will refer to D  i  speci\256cally as 252time segment i 272 or generically asa\252timesegment.\272 


units in which the rule does not have the minimum con\256dence or support For instance if the binary sequence 001100010101 represents the association rule X  Y then X  Y holds in D  2  D  3  D  7  D  9   and D  11   In this sequence  4  3  is a cycle since the corresponding rule holds within every fourth time unit starting from time unit t 3  A cycle can also be represented by a binary sequence For example cycle  4  3  can also be represented as 0001 Similar to association rules itemsets can also be represented as binary sequences where ones correspond to time units in which the corresponding itemset is large and zeros correspond to time units in which the corresponding itemset does not have the minimum support Also an itemset is said to be cyclic if the itemset is large at regular intervals 3 Discovering Cyclic Association Rules The existing algorithms for discovering association rules cannot be applied directly for discovering cyclic association rules In order to use the existing algorithms for detecting cyclic association rules one may consider extending the set of items with time attributes and then generating the rules For example one such rule could be  day  monday   X  Y This approach segments the database in a manner where all transactions that have the same time attribute value are within the same segment For example if the time attribute is day then all the transactions that occurred on Mondays will be within one segment In this case the support of the rule  day  monday   X  Y is the ratio of the number of transactions that occurred on Mondays and contain X and Y to the total number of transactions Similarly the con\256dence of this rule is the ratio of the number of transactions that occurred on Mondays and contain X and Y to the number of transactions that occurred on Mondays and contain X Note that such an approach yields different support and con\256dence de\256nitions than the ones needed for detection of cyclic rules see Section 2 Therefore this approach will not solve our problem as exempli\256ed below It is possible that this approach will detect non-existing cycles For example this approach may detect that every Monday X  Y holds although X  Y holds only every second Monday or only on some Mondays but not on all This may occur for example when the support of  day  monday   X  Y exceeds sup min buttheratio of the number of transactions that occurred on some Mondays that contain both X and Y to the total number of transactions is below sup min  That is the ratio of the number of transactions that occurred on the remaining Mondays that contain both X and Y to the total number of transactions is high enough to compensate for the other Mondays In this case this approach assumes that the support for  day  monday   X  Y exceeds the minimum support threshold although in fact the support of only  day  onl y 000 some 000 monday s   X  Y is above the minimum threshold Therefore a non-existing cycle\320 every Monday can be detected Another problem with this approach is that it cannot detect cycles of arbitrary lengths For example it cannot detect an association rule that holds every 10 days 3.1 The Sequential Algorithm The straight-forward approach to discovering cyclic association rules is to generate the rules in each time unit with one of the existing methods AS94 SON95 a n d t he n a ppl y a pattern matching algorithm See Section 3.4 to discover cycles We refer to this approach as the sequential algorithm The existing algorithms discover the association rules in two steps In the 256rst step large itemsets are generated In the second step association rules are generated from the large itemsets The running time for generating large itemsets can be substantial since calculating the supports of itemsets and detecting all the large itemsets for each time unit grows exponentially in the size of the large itemsets To reduce the search space for the large itemsets the existing algorithms exploit the following property 252Any superset of a small itemset must also be small.\272 The existing algorithms calculate support for itemsets iteratively and they prune all the supersets of a small itemset during the consecutive iterations Let us refer to this pruning technique as support-pruning In general these algorithms execute a variant of the following steps in the k th iteration 1 The set of candidate k 000 itemsets is generated by extending the large  k 000 1  000 itemsets discovered in the previous iteration support-pruning 2 Supports for the candidate k 000 itemsets are determined by scanning the database 3 The candidate k 000 itemsets that do not have minimum support are discarded and the remaining ones constitute the large k 000 itemsets The idea is to discard most of the small k 000 itemsets during the support-pruning step so that the database is searched only for a small set of candidates for large k 000 itemsets In the second step the rules that exceed the con\256dence threshold con min are constructed from the large itemsets generated in the 256rst step with one of the existing algorithms For our experimental evaluation of the sequential algorithm we implemented the apriori and the ap-genrules algorithms from AS94 O n c e t h e r ul e s of a l l t he t i m e uni t s have been discovered cycles need to be detected Let r be the number of rules detected The complexity of the cycle detection phase has an upper bound of O  r 001 n 001 l max   where n is the number of time units and l max is the maximum cycle length of interest see Section 3.4 If all the rules in each time unit 256t into main memory then the r unning time of the cycle detection phase is feasible However if the rules in all the time units do not 256t into main memory then the overhead of I/O operations substantially increases the running time of the cycle detection phase see Section 5 and therefore the sequential algorithm may become infeasible for detecting cyclic association rules The issue of memory management for cycle detection will be further discussedinSection4 3.2 Cycle-Pruning Cycle-Skipping and CycleElimination The major portion of the running time of the sequential algorithm is spent to calculate the support for itemsets We now present three techniques\320 cycle-pruning cycleskipping and cycle-elimination to prune the number of itemsets for which the support must be calculated These 


techniques rely on the following fact 252A cycle of the rule X  Y is a multiple of a cycle of itemset X  Y 272 Therefore eliminating cycles as early as possible can substantially reduce the running time of cyclic association rule detection Cycle-skipping is a technique for avoiding counting the support of an itemset in time units which we know cannot be part of a cycle of the itemset Cycleskipping is based on the following property 252 If time unit t i is not part of a cycle of an itemset X then there is no need to calculate the support for X in time segment D  i   272 However cycle skipping is useful only if we have information about the cycles of an itemset X  But the cycles of an itemset X can be computed exactly only after we compute the support of X in all the time segments In order to avoid this self-dependency we try to approximate the cycles of itemsets To do this we will use a technique we call cycle pruning  It is based on the following property 252If an itemset X has a cycle  l o   then any of the subsets of X has the cycle  l o   272 The above property implies that any cycle of itemset X must be a multiple of a cycle of an itemset that is a subset of X This also implies that the number of cycles of an itemset X is less than or equal to the number of cycles of any of X s subset Therefore one can arrive at an upper bound on the cycles that an itemset X can have by looking at all the cycles of the subsets of X  By doing so we can reduce the number of potential cycles of itemset X  which in turn due to cycle-skipping reduces the number of time units in which we need to calculate support for X Thus cycle-pruning is a technique for computing the candidate cycles of an itemset by merging the cycles of the itemset's subsets However it is possible in some cases that we cannot compute the candidate cycles of an itemset For example when we are dealing with singleton itemsets In these cases we need to assume that an itemset X has every possible cycle and therefore calculate the support for X in each time segment D  i  except the time units eliminated via support-pruning This is in fact what the sequential algorithm does Example 1 If we know that 010 is the only cycle of item A and 010 is also the only cycle of item B then cycle-pruning implies that the itemset consisting of items A and B can have only the cycle 010 or its multiples Cycle-skipping suggests that we do not need to calculate the support for A  B in every time segment but only in every third one starting with D  1   2 Example 2 If we know that 010 is the only cycle of item A and 001 is the only cycle of item B then cycle-pruning implies that the itemset A  B cannot have any cycles Cycle-skipping suggests that we do not need to calculate the support for A  B in any of the time segment 2 We now introduce one more optimization technique we call cycle-elimination that can be used to further reduce the number of potential cycles of an itemset X Cycleelimination is used to eliminate certain cycles from further consideration once we have determined they cannot exist Cycle-elimination relies on the following property 252If the support for an itemset X is below the minimum support threshold sup min in time segment D  i   then X cannot have any of the cycles  j i mod j  l min 024 j 024 l max  272 Cycle-elimination enables us to discard cycles that an itemset X cannot have as soon as possible as demonstrated in the following example Example 3 If the maximum cycle length we are interested is l max and the support for itemset A is below the threshold sup min in the 256rst l max time units then cycle-elimination implies that A cannot have any cycles Cycle-skipping suggests that there is no need to calculate the support for A in time units greater than l max  2 3.3 The Interleaved Algorithm We now present another algorithm which we refer to as the interleaved algorithm for discovering cyclic association rules The interleaved algorithm consists of two phases In the 256rst phase the cyclic large itemsets are discovered In the second phase cyclic association rules are generated In the 256rst phase the search space for the large itemsets is reduced using cycle-pruning cycle-skipping and cycleelimination as follows For each k k 025 1 1 If k  1  then all possible cycles are initially assumed to exist for each single itemset Otherwise if k 1 cycle-pruning is applied to generate the potential cycles for k 000 itemsets using the cycles for  k 000 1  000 itemsets 2 Time segments are processed sequentially For each time unit t i  2.1 Cycle-skipping determines from the set of candidate cycles for k 000 itemsets the set of k 000 itemsets for which support will be calculated in time segment D  i   2.2 If a k 000 itemset X chosen in Step 2.1 does not have the minimum support in time segment D  i   then cycle-elimination is used to discard each cycle c  l o   for which  o  i mod l  holds from the set of potential cycles of X This process terminates when the list of potential cycles for each k 000 itemset is empty Cycle-pruning cycleskipping and cycle-elimination can reduce the candidate k 000 itemsets for which support will be counted in the database substantially and therefore can reduce the running time of calculating the large itemsets This is demonstrated 


by the following example Example 4 Suppose that the length of the longest cycle we are interested in is l max  6 and 1110000000111111111 and 1111010111111111111 represent items A and B respectively If the sequential algorithm is used then the support for A and B will be calculated in all the time segments and the support for A  B will be calculated in time segments 0-2 10-19 due to support-pruning If the interleaved algorithm is used then the support for A will be calculated in time segments 0-9 due to cycle-elimination and cycle-skipping whereas the support for B will be calculated in all the time segments and since A has no cycles A  B cannot have any cycle due to cycle-pruning and the support for A  B will not be calculated in any of the time units due to cycle-skipping 2 In the second phase of the interleaved algorithm the cyclic association rules can be calculated using the cycles and the support of the itemsets without scanning the database Interleaving cycle detection with large itemset detection also reduces the overhead of rule generation phase This is because a cycle of the rule X  Y must be a multiple of a cycle of itemset X  Y and at the end of the 256rst phase of the interleaved algorithm we already know the cycles of large itemsets Thus the set of candidate cycles for a rule X  Y initially consists of the set of cycles of the itemset X  Y As a result we need to calculate the con\256dence of a rule X  Y only for time units that are part of cycles of X  Y Moreover whenever we encounter a time unit t i in which this rule does not have minimum con\256dende con min  we can eliminate each other candidate cycle of this rule for which  j i mod j  l min 024 j 024 l max holds Once the cycles of the association rules are detected the cycles that are not large can be eliminated see Section 3.4 Although the interleaved algorithm reduces the CPU overhead of calculating support for itemsets substantially it incurs a higher I/O overhead when compared to the sequential algorithm In order to remedy this problem each time when a time segment D  i  is accessed calculation of cycles and support for k  k  1    and  k  g  itemsets for some g 025 1 can be combined In this case cycle-pruning for each  k  j  000 itemset 0 024 j 024 g is done by merging the cycles of  k 000 1  subsets of the  k  j  000 itemset That is the set of candidate cycles of a  k  j  000 itemset consists of the intersection of the sets of cycles of all  k 000 1  subsets of the itemset While scanning a time segment D  i   256rst supports for the k 000 itemsets that have candidate cycles into which time unit t i participates are calculated If the support for a candidate k 000 itemset X is below sup min  then cycle-elimination is applied not only to the candidate cycles of itemset X  but also to each  k  j  000 itemset 0 024 j 024 g that is a superset of X Note that cycle elimination eliminates potentially more  k  j  000 itemsets compared to support-pruning This is b ecause s upport-pruning eliminates  k  j  000 itemsets that are supersets of X only in D  i  whereas cycle-elimination eliminates  k  j  000 itemsets that are supersets of X not only in D  i  but potentially also in other time segments following D  i   Once supports for the candidate k 000 itemsets in D  i  are calculated then supports for the candidate  k  1  000 itemsets in D  i  are calculated similarly followed by supports for the candidate  k  2  000 itemsets in D  i   and so on The determination of the optimal value of g is beyond the scope of this paper 3.4 Cycle Detection Given a binary sequence of length n and the maximum cycle length of interest l max  the running time of detecting all cycles with lengths less than or equal to l max of the binary sequence has an upper bound of O  l max 001 n  operations We now present a straight-forward approach to detecting cycles This approach is composed of two steps Initially the set of candidate cycles contains all possible cycles In the 256rst step the sequence is scanned and each time a zero is encountered at a sequence position i  candidate cycles  j i mod j  1 024 j 024 l max are eliminated from the set of candidate cycles The 256rst step completes whenever the last bit of the sequence is scanned or the set of candidate cycles becomes empty which ever is 256rst In the second step large cycles i.e cycles that are not multiples of any existing cycles are detected A straight-forward approach to eliminating cycles that are not large is as follows Starting from the shortest cycle for each cycle c i  l i o i   eliminate each other cycle c j  l j o j  from the set of cycles if l j is a multiple of l i and  o i  o j mod l i  holds The sequential algorithm uses this approach to detect the cycles However if we knew initially or at any time while we are scanning the sequence that some of the cycles cannot exist in the sequence e.g due to cycle-pruning or cycleelimination cycle detection procedure can be optimized by skipping sequence positions that cannot be part of any of the candidate cycles That is instead of scanning the sequence sequentially we can skip the bit positions that are not part of the candidate cycles i.e cycle-skipping For example if l max is three and we know initially that 01 010 and 001 cannot be cycles of a given sequence e.g due to cyclepruning then we do not need scan bit positions 1 5 7 11 etc Also while we are scanning the sequence if we also eliminate candidate cycle 100 i.e cycle-elimination we can skip scanning every second bit of the sequence starting at that point The interleaved algorithm employees these optimization techniques cycle-pruning cycle-elimination and cycle-skipping that reduce the overhead of cycle detection but more importantly the overhead of calculating support for itemsets since the interleaved algorithm 252interleaves\272 both cycle detection and support calculation for itemsets The cycle detection process can be further optimized by considering a candidate cycle c i  l i o i  only when there is no other candidate cycle c j  l j o j  remaining such that c i is a multiple of c j  Further optimizations of the cycle detection is not in the scope of this paper However given a sequence of length n and the maximum cycle length of interest l max  the complexity of 256nding all the cycles of the sequence is an open problem 4 Implementation Details In this section we present the implementation details of the prototype that we built for discovering cyclic association rules We 256rst describe the synthetic data generator used to generate our data 4.1 Data Generation Our data generator is based on the synthetic data generator used in AS94  W e a u g m en t e d i t t o g en er at e d at a f o r c y cl i c 


D Number of transactions/time segment T Avg size of transactions I Avg size of the maximal potentially large itemsets L Number of maximal potential large itemsets N Number of items Table 1 Parameters for data generation from[AS94 u Number of time units of data generated p num Avg number of patterns associated with each large itemset p min Minimum length of pattern generated p max Maximum length of pattern generated p den Avg 252density\272 of patterns generated 027 Avg level of 252noise\272 in the data generated Table 2 New parameters for cyclic association rule generation association rules In addition to the parameters used by AS94 s h o w n i n T ab l e 1  w e u s ed ad d i t i o n a l p ar amet er s shown in Table 2 The parameters are described in the following paragraphs The generation of the large itemsets and their weights closely follows the procedure in AS94  W e g en er at e L itemsets of average size I  Each itemset is associated with a weight which is an exponentially distributed random variable We de\256ne a pattern to be the union of a set of cycles of the same length For example pattern 1001 represents the union of cycles  4  0  and  4  3  Inorder to model the fact that certain rules might occur cyclically we associate p num patterns with each large itemset that we generate The length of the patterns is uniformly distributed between p min and p max time units The density parameter p den  which is a real number between 0 and 1 controls the number of cycles in a pattern The number of cycles a pattern of length p len contains is equal to p len 002 p den on the average In order to model the fact that real world data will consist of a mixture of cyclic rules and non-cyclic rules we use the 252noise\272 parameter 027  which is a real number between 0 and 1 In a particular time unit a large itemset is 252active\272 in the sense that transactions will contain that itemset independent of cycles with a probability 027  At the beginning of each time unit the data generation algorithm 256rst determines which large itemsets should be used for data generation in that time unit This is done by checking to see if the current time t participates in any of the cycles that the itemset is associated with Following this a determination is made as to whether the noise parameter dictates that the itemset be used Once this is done the weights associated with the large itemsets determine their occurrences in the transactions for the time unit The default values we used for the parameters in our experiments are shown in Table 3 We conducted individual sets of experiments that varied these parameters We describe the variations when we describe the individual Number of transactions/time segment D 10000 Number of items N 1000 Avg size of large itemsets I 4 Number of large itemsets L 1000 Avg transaction size T 10 Number of time units u 600 Avg number of patterns p num 2 Min length of pattern p min 10 Maximum length of pattern p max 100 Avg 252density\272 of patterns p den 0.2 Avg level of 252noise\272 in the data generated 027 0.3 Table 3 Default settings for parameters in data generation experiments When the parameters are set to the above default values the size of the data generated is about 155 megabytes MB for all the time units combined 4.2 Prototype Implementation Details We use the apriori algorithm from AS94 a s our ba s i c d a t a mining algorithm The sequential algorithm is based directly on apriori with optimizations to speed up the counting of support of itemsets of size 2 We use an array for this instead of a hash-tree when memory permits We found the array to be a much faster technique for discovering 2-itemsets The interleaved algorithm uses a hash-tree described in AS94  t o s to r e th e l a r g e ite m s e t s  th e i r p a tte r n s a n d support counts In addition during the processing of an individual time segment the interleaved algorithm uses a temporary hash-tree as well Candidate generation generation of itemsets of size k  1 and their candidate cycles from itemsets of size k  is based on cycle pruning Figure 1 outlines the 256rst phase of the interleaved algorithm cyclic large itemset detection in pseudo-code After that we apply a generalization of the rule generation procedure in AS94 f o r c y c lic a s s o c i a tio n r u l e g e n e r a tio n  We conducted our experiments on a lightly loaded Sun Sparc 20 machine with 64 MB of memory running Solaris 2.5.1 A Seagate 9 GB SCSI disk was used for our experiments The hard disk had a streaming read throughput of about 5 megabytes/sec MBps and a streaming write throughput of about 4 MBps Since our experiments were CPU bound most of the time we only report wall clock times for the various experiments 4.3 Memory Management The sequential algorithm runs the apriori algorithm on each time segment In order to determine the cycles of the association rules we need to determine the binary sequence corresponding to each association rule If there is space in memory to hold a binary sequence for each association rule we can store the rules and their binary sequences in a hash tree After generating all the rules over all the time segments we can run cycle detection algorithms However if we do not have enough memory to store the rules and their binary sequences we have to write the rules out to disk as we generate them in each time unit At the end of 256nding association rules for all the time segments we need to construct the binary sequences for each individual 


 This algorithm uses two hash-trees itemset-hashtree contains candidates of size k  their potential cycles and space to store support counts for the relevant time units An 252active\272 itemset at time unit t is an itemset that has a cycle that t participates in tmphash-tree  during the processing of time segment t  contains all the itemsets that are active in t  Initially itemset-hash-tree contains singleton itemsets and all possible cycles k  1 while there are still candidates in itemset-hash-tree with potential cycles for t 0to n 000 1 insert active itemsets from itemset-hash-tree into tmp-hash-tree  cycle skipping measure support in current time segment for each itemset in tmp-hash-tree forall l 2 tmp-hash-tree if  sup l  sup min  then delete corresponding cycles of itemset l  cycle elimination else insert  l  sup l  t nto itemset-hash-tree  this just inserts a  sup l  time  entry in one of itemset l s 256elds end forall empty tmp-hash-tree endfor verify actual cycles of each member of itemset-hash-tree generate new candidates of size k  1using cycle pruning k  k  1 empty itemset-hash-tree after copying it to disk insert new candidates into itemset-hash-tree endwhile Figure 1 The interleaved algorithm for cyclic large itemset detection association rule In order to do this we merge the rules from the different time segments One this merging is done we can run the cycle detection algorithms Finally if we do not have enough memory to store all the data structures needed by the apriori algorithm we have to use one of the over\257ow management techniques suggested in AS94  Like the apriori algorithm the interleaved algorithm has two distinct phases In the 256rst phase all large itemsets with cycles have their supports counted in the appropriate time segments In the second phase rules are generated using the cycle and support information of the large itemsets For the 256rst phase the interleaved algorithm proceeds 252level-by-level\272 to determine itemset support It 256rst determines the itemset support for singleton candidate itemsets generates cycles for them then generates itemsets of size 2 and their potential cycles etc In this phase the interleaved algorithm requires enough memory to hold all large itemsets of a particular size and their support counts in memory In addition it needs to store the new candidates and their 252potential\272 cycles The size of the latter is usually much smaller If there is not enough memory the support counts are broken up into chunks and written to disk After processing all the time segments the support counts are merged in memory For the cyclic rule generation phase if there is space in memory to hold all the large itemsets and their support counts for all the time units rule generation can run entirely in memory However if there is a shortage of memory and there is space to hold only a single level of large itemsets and their support counts we can generate rules in a level-by-level fashion as well starting at the level of the largest itemset For doing this we can use a modi\256cation of the ap-genrules procedure in AS94 that we call Level GenRuleCycles asshowninFigure2 Level GenRuleCycles is a set oriented rule generation procedure that creates rules such that all rules needing to look at the support counts of k itemsets are generated during during one iteration of the outer while loop Note that this procedure can be pro\256tably used instead of ap-genrules  for generating association rules when short of memory Procedure Level GenRuleCycles level  size of the largest itemset  ruleList is a list of records that have four 256elds  The 256rst three 256elds contain an itemset name the  support array for the itemset and the list of cycles  for the itemset The fourth 256eld is a list of candidate  rules generated from the itemset that are known to  have cycles ruleList  fg  252ruleList\272 is the current list of quintuplets used for generating rules while  level 025 1 read in support counts and cycles of large itemsets of size level newRuleList  fg forall lItem 2 ruleList do if  lItem s itemset is being used to generate rules for the 256rst time then generate singleton rules else generate candidate rules using apriori-gen on lItem s current rules verify cycles for each rule generated and discard rules without cycles lItemNew  lItem with old rules replaced by the new rules newRuleList  newRuleList  lItemNew endforall ruleList  newRuleList  quintuplets created from large itemsets at current level level 261\261 endwhile Figure 2 Procedure used for cyclic rule generation For example suppose we have the large itemset AB C D with a cycle 001 Initially ruleList is the empty set and in the 256rst iteration gets set to f AB C D  sup-array ABCD  


 0 500 1000 1500 2000 2500 3000 1 0.75 0.5 0.33 0.25 Total Time\(in secs Support Percentage sequential interleaved Figure 3 Execution time vs support for the two algorithms f 001 g  fgg  In the next round AB C  D  AB D  C  AC D  B and BC D  A are generated and tested This round keeps the support counts of all 3-itemsets in memory Suppose only AB C  D and AB D  C have cycles ruleList becomes ff AB C D  sup-array ABCD  f 001 g  f AB C  D  AB D  C ggg  Of course large itemsets AB C and AB D will get added to prev  but we ignore that here to keep the example small In the next round only the rule AB  CD is generated This round keeps the support counts of all the 2-itemsets in memory If AB  CD has a cycle ruleList is transformed to ff AB C D  sup-array ABCD  f 001 g  f AB  CD ggg and vanishes in the next round This algorithm requires only one member of ruleList to be in memory at any time If the support counts of a particular level do not 256t into memory as well one has to sort ruleList according to the candidate rules that it stores and merge the itemset support counts in order to generate cyclic association rules 5 Experimental Results We now present the results of an extensive set of experiments conducted to analyze the behavior of the sequential and interleaved algorithms In these experiments it should be kept in mind that the sequential algorithm had an inherent advantage in considering the time segments of the data one by one All but the largest time segments that we used 256t entirely in the main memory of the machine that we used The interleaved algorithm which sweeps repeatedly through the entire data incurs more I/O's 5.1 Dependence on Minimum Support Figure 3 plots the execution time for the interleaved and sequential algorithms as support is varied from 1 to 0  25 With support set to 1 the interleaved algorithm is only about 5 faster than the sequential algorithm This is because the number of large itemsets both cyclic and otherwise at this level of support is fairly small and the interleaved algorithm does not incur a signi\256cant bene\256t from its pruning techniques As support decreases the amount of wasted work done by the sequential algorithm increases signi\256cantly as the number of itemsets found to be large by the sequential algorithm increases Many of these large itemsets and the rules derived from them later turn out to not contribute to useful cyclic association rules The interleaved algorithm from early on concentrates only on 0 500 1000 1500 2000 2500 3000 3500 0.2 0.3 0.4 0.5 Total Time\(in secs Noise Level sequential@0.5% support sequential@0.33% support sequential@0.25% support interleaved@0.5% support n Figure 4 Execution time vs noise level for the two algorithms at varying levels of support For the interleaved algorithm only the running times at support  0  5 are shown large itemsets that can contribute to cycles and bene\256ts from this strategy The result is that the running time of the sequential algorithm is more than 50 higher than that of the interleaved algorithm when support  0  25 5.2 Varying Noise Levels Figure 4 shows the running times for the interleaved and sequential algorithms for various noise levels Since the interleaved algorithm is relatively unaffected by noise we only show its running times for support  0  5 to keep the graph more readable Noise in\257uences the data generated in two ways One the number of itemsets that do not lead to cycles goes up as the noise level increases Two as the amount of noise in the data increases it leads to spurious cycles where an itemset is used for data generation in a cyclic fashion accidentally as dictated by the noise parameter As can be seen from the graph the interleaved algorithm is relatively unaffected by noise The curves are quite horizontal for supports of 0  33 and 0  25 also However the sequential algorithm shows more interesting behavior The graphs of the running time increase more or less linearly with noise but the slope of the graphs is different at different support levels The explanation for this lies in the number of new itemsets added by noise At high support levels noise does not add many itemsets If the transaction size is T  large itemset size is I  there can only be about T  I 002 sup  large itemsets with support sup  For example if T  8 I  4 sup  0  5 there can be no more than 400 large itemsets with support 0  5 in the data Therefore for high support levels the slope of the sequential algorithm rises slowly At low support levels noise tends to have a much more dramatic impact on the amount of wasted work performed by the sequential algorithm and its running time rises with a much steeper slope 5.3 Varying Itemset Size Figure 5 compares the running time of the two algorithms when the maximum size of the large itemsets is varied from 3 to 8 For itemset sizes 3 and 4 the interleaved algorithm is faster but only by about 7 and 20 respectively However as the largest itemset size increases the amount 


 0 500 1000 1500 2000 2500 3000 3500 4000 4500 3 4 5 6 7 8 Total Time\(in secs Itemset Size sequential interleaved Figure 5 Execution time vs large itemset size for the two algorithms 0 2000 4000 6000 8000 10000 10k 25k 50k 75k 100 k Total Time\(in secs Number of transactions in a time segment interleaved Figure 6 Execution time for the interleaved algorithm as the data size for a single time segment increases from 10 k transactions to 100 k transactions This corresponds to increasing the total database size from 155 MB to 1  5GB of work performed by the sequential algorithm increases dramatically This is because each large itemset of size l that does not contribute to a cycle forces the sequential algorithm to calculate support counts for all its 2 l subsets without producing any useful results Further the association rules computed by the sequential algorithm do not 256t in memory and it starts incurring signi\256cant I/O overhead as well contributing to the large jump in execution time as we go from itemset size 5 to 6 In fact we had to terminate the experiments with the sequential algorithm for itemset sizes 7 and 8 because they ran for over a day each wit hout completing This experiment conclusively demonstrated the superiority of the interleaved algorithm over the sequential algorithm 5.4 Data Size Scaleup Figure 6 shows the running time of the interleaved algorithm as the time segment size is increased from 10 k transactions to 100 k transactions The database size increased from 155 MB to 1  5 GB The interleaved algorithm shows nearly linear scaleup This illustrates its ability to handle large database sizes gracefully 5.5 Experimental Conclusions Through a series of experiments we have shown that the interleaved algorithm is signi\256cantly better than the sequential algorithm The interleaved algorithm performs at least as well and often times signi\256cantly better than the sequential algorithm Performance bene\256ts range from 5 when support is very high to several hundred percent when large itemset sizes are over 5 Much of this overhead comes from the increased I/O costs that the sequential algorithm incurs Further the interleaved algorithm scales nicely with increasing data Thus one can conclusively say that the interleaved algorithm and the pruning ideas behind it provide signi\256cant gains in performance 6 Conclusions and Future Directions In this paper we have studied the problem of discovering association rules that display regular cyclic variation over time Information about such variations will allow marketers to better identify trends in association rules and help better forecasting By explo iting the relationship between cycles and large itemsets we identi\256ed optimization techniques that allow us to minimize the amount of wasted work performed during the data mining process We demonstrate the usefulness of these techniques through an extensive experimental study The study showed that performance bene\256ts ranging from 5 to several hundred percent can be obtained through the use of the optimizations when compared to the more straightforward approach Recently we have explored in RMS97  t h e i n t e g r at i o n of calendars into an association rule mining framework This lets us consider rules like 252 X  Y the\256rstworking day of every month.\272 In RMS97  w e a l s o a ddre s s t he problem of approximate matching which relaxes the rather rigid de\256nition of when a cycle belongs to an association rule Interesting open problems include the handling of multiple time units like hours weeks days etc simultaneously and ef\256ciently integrating cycles and calendars into the numeric  rather than the boolean domain handled by the association rules in this paper Acknowledgements We would like to thank the anonymous referees for their helpful comments on the paper References AIS93 R a k e s h A g raw a l T o m a s z Im ie lin s k i a n d A ru n Swami 252Mining Association Rules between Sets of Items in Large Databases\272 In Proceedings of the 1993 ACM SIGMOD International Conference on Management of Data  pages 207\320216 Washington,DC May 1993 A R  A g r a w a l a nd R  Sr i k ant  252F ast A l gor i t h m s f o r Mining Association Rules in Large Databases\272 In Proceedings of the 20th International Conference on Very Large Data Bases  pages 487\261499 Santiago Chile September 1994 FMMT T  Fukuda Y  M or i m ot o S M o r i shi t a  a nd T Tokuyama 252Data Mining Using TwoDimensional Optimized Association Rules\272 In Proceedings of the 1996 ACM SIGMOD International Conference on Management of Data  pages 13\26123 Montreal Canada June 1996 


HF95 J  H a n a n d Y  F u  252 D i s c o v e ry o f Mu lti-le v e l A s s o c i ation Rules From Large Databases\272 In Proceedings of the 21st International Conference on Very Large Data Bases  pages 420\261431 Zurich Switzerland September 1995 PCY J S P a r k  M  C hen and P  Y u 252 A n E f f ect i v e H ashbased Algorithm for Mining Association Rules\272 In Proceedings of the 1995 ACM SIGMOD International Conference on Management of Data  pages 175\261186 May 1995 RMS S R a m a sw am y  S M a haj a n and A  S i l b er schat z  Calendric association rules Technical report Bell Labs 1997 Subm itted for publication Available upon request SA R  Sr i k ant a nd R  A g r a w a l  252M i n i n g G ener al i zed A s sociation Rules\272 In Proceedings of the 21st International Conference on Very Large Data Bases  pages 407\261419 Zurich Swizerland September 1995 SA96 R  S r ik a n t a n d R  A g ra w a l 252 M in in g Q u a n tita ti v e Association Rules\272 In Proceedingsof the 1996 ACM SIGMOD International Conference on Management of Data  pages 1\26112 Montreal Canada June 1996 SON A  Sa v a ser e  E  O m i eci nski  a nd S N a v a t h e 252 A n Ef\256cient Algorithm for Mining Association Rules in Large Databases\272 In Proceedings of the 21st International Conference on Very Large Data Bases  pages 432\261444 Zurich Swizerland September 1995 Toi H  T o i v onen 252 S am pl i n g L ar ge D a t a bases f or A s sociation Rules\272 In Proceedings of the 22nd International Conference on Very Large Data Bases  Bombay India September 1996 


according to section m and grounded Under certain unusual conditions the facilities need not to be grounded in accordance with these requirements There must be 1 no possibility of contact with another energized source and 2 no hazard of induced voltage This section Requires temporary protective grounds at each work location or on either side of the location if one location is not feasible Requires grounding equipment to have proper ampacity No 2 AWG copper minimum and low enough impedance to permit operation of protective devices in case of accidental energization Requires testing before grounding to determine absence of voltage Requires the ground end of the protective ground to be connected first, then the line end, using an insulated device Requires removal first from the line end using an insulated device Prohibits grounding cables at a remote location if a hazardous transfer of potential could occur under fault conditions Allows grounds to be temporarily removed for tests but requires previously grounded line to be considered energized during to test Comments n APPA comments that this section on grounding should apply to systems greater than 600 volts only Additionally both EEI and APPA submitted similar comments regarding flexibility which should be included to allow either single or dual point grounding or a combination of the two methods to allow employers to choose the method best for the particular situation APPA recommends that grounding should be allowed on lines where nominal voltage is not found In many cases facilities may be grounded when induced or static voltages are present APPA also comments that removal of grounds for cables being tested with low voltage should not require treatment of these cables as energized EEI believes that OSHA's requirement to require work location grounding where feasible is not workable, objecting to the word feasible as all encompassing Testing and Test Facilities 0 This section covers the proposed safe work practices for high-voltage and high-power testing performed in laboratories in shops and in substations under the exclusive control of an electric utility It does not cover routine functions for metering, relaying and normal line work Requirements addressed include the following Guarding of test areas  walls fences and barriers Grounding practices  similar to grounding requirements of other sections but requires isolated ground-return conductor system for high current testing Control and measuring circuits Safety check of test areas at beginning of each group of continuous tests Comments 0 APPA provided the following comments on this section Recommends clarification of the wording so that there is a clear distinction between this specialized testing and routine operations such as phasing and low voltage testing Recommends deletion of the requirement for an isolated ground return during high current testing citing that staged fault tests often involve large areas which would not allow this requirement to be met  asks that A2-10 


the rule be modified to require limitation of fault currents to ground faults currents which do not result in hazardous voltage or by limiting access to areas that may be hazardous Recommends that separate equipment grounds not be required for test equipment where any equipment ground is not included in the cord. Suggests that the employee be required to provide alternative protection during the test Separation of power cables  modify language to include shall be made secure against damage accident, interruptions and other hazards Mechanica 1 Euuivment vj This section requires critical safety components of mechanical elevating and rotating equipment to be inspected on each shift in which such equipment is used Requirements are contained for Vehicles Booms winches and associated controls Rollover protective structures Outriggers Load limits for lifting equipment Tables R-6 and R-7 from section 1 are referred to for clearances between equipment and live parts If these clearances cannot be maintained and the mechanical device must come closer then two alternatives are addressed 1 equipment and any attached load must be treated as live parts or 2 equipment must be inspected for the voltage involved so that insulated portions observe the R-6 and R-7 clearances Grounding the equipment is not considered by OSHA to provide protection since the potential of the equipment can still rise with respect to earth only a few feet from the grounding points OSHA requested comments on this area to provide additional protection for employees Comments p APPA provided the following comments All safety equipment on mechanical elevating and rotating equipment may not be designed to allow frequent inspection Recommends that section be modified to include to the extent practicable in inspecting critical safety components APPA believes that requirements for the operation of mechanical equipment near energized lines or equipment is too vague and recommends modifications to  Require that Tables R-6 and R-7 are complied with for systems greater than 600 volts  Stipulate that the required clearances be maintained unless 1 under supervision of a qualified person responsible for maintenance of safe conditions and 2 mechanical equipment certified for work at the applicable voltage or 3 insulated barrier is installed between the energized part and mechanical equipment or 4 mechanical equipment is insulated 5 grounded or barricaded and considered as energized equipment EEI objects to the use of language which includes all mechanical equipment where contact with exposed energized conductors is possible EEI has also submitted a complete revision of Section p 4 entitled Operations Near Energized Lines or Equipment This revision includes elimination of the word possible and provides for mechanical equipment to be grounded which is a revision which is proposed by both EEI and IBEW In accordance with OSHA's position that grounding does not provide complete protection EEI's proposal includes stipulating methods of protection for employees on the A2-1 1 


ground which includes establishing a perimeter or restricted area and identifying a qualified employee designated as the person in charge of the activities within the restricted area Overhead Lines 4 This section provides additional requirements not covered in other portions of the Rules for work performed on or near overhead lines and equipment The section contains requirements in the following areas Poles and towers  Employees must determine that poles and towers are of adequate strength  Poles must be protected from contact with energized lines and employees must be insulated from the pole  Employees must be protected from falling in pole holes by guarding with barriers or other employees Installing and removing overhead lines  these requirements were taken from the construction rules 1926.955 Subpart V  Precautions must be taken to prevent lines from contacting other energized lines  Barriers and tension stringing methods are stipulated  Lines and equipment to be installed should be treated as energized under certain conditions  Employees working aloft are to be protected by grounding the line being installed  Automatic reclosing must be disabled on any circuit greater than 600 volts which would be passed over  Employees must be protected from induced voltages due to parallel lines  OSHA requested comments on grounding to protect employees from hazards from induced voltages  Precautions must be taken to prevent failure of line pulling equipment and accessories  Communication must be maintained between reel tender and pulling rig operator and operation of pulling rig is prohibited under unsafe conditions  Employees are prohibited from unnecessarily working directly beneath overhead operations or on the crossarm during a pulling operation Live line bare hand technique  Training and retraining of employees is required  Determination of the voltage of the circuit is required so that clearances will be maintained  Insulated tools and equipment must be designed, tested and intended for live line work  kept clean and dry  Automatic reclosing must be made inoperative  Live line bare hand work is prohibited during thunderstorms or under conditions where clearances may be reduced such as due to wind  A conductive device bucket liner is required to create an area of equipotential for the worker  The conductive device must be bonded before the employee contacts the conductor A2-12 


I  Aerial lifts must have upper and lower controls  OSHA proposed that ground level controls not be operated in case of emergency  OSHA asked for comments on use of lower controls  Checking of aerial lift controls is required  The truck is to be grounded or treated as energized The aerial lift boom must have a current test made each day before beginning work  or when a higher voltage is encountered  the test to be according to ANSI applicable standard Related work must be suspended any time malfunction of equipment is evident The clearance distances specified in Table R-8 must be maintained from grounded objects and from objects at a potential different from that at which the bucket is energized TABLE R-8  AC MINIMUM CLEARANCE FOR LIVE-LINE BARE-HAND WORK Nominal voltage 1 The minimum phase-to-ground clearance distance may be reduced to the length of the line insulator if a smaller distance is needed to do the work The minimum phase-to-phase clearance distance may be reduced to 1.73 times the length of the line insulator if a smaller clearance is needed to do the work A2-13 


 The use of hand lines between the bucket and boom and between bucket and ground is prohibited  The passing of uninsulated equipment or materials to an employee bonded to an energized part is prohibited  A durable chart showing clearances in Table R-8 must be mounted so that it is visible to the boom operator  Requires a non-conductive measuring device to be available to an employee in lift Towers and Structures  addresses hazards associated with towers and other structures supporting overhead lines  Standing under a tower is prohibited unless presence is necessary to assist  Tag lines are required for tower sections being positioned  Load lines must remain in place until load is secured  Non-emergency work from towers is prohibited in some weather Comments a1 EEI and APPA submitted similar comments on the overhead lines section as follows Recommends the modification of q involving setting of poles to refer to circuits greater than 600 volts APPA commented that a utility cannot guarantee that poles will not occasionally contact energized conductors Recommend modification of the applicable portions of q to include the EEI/IBEW proposal in its entirety covering passing over energized lines  Stating that it should cover only facilities 600 volts or greater and  That other protective measures are included such as rope nets guard structures protective coverings and isolation of workers and  That disabling automatic reclosing is not sufficient protection when other protections are available Recommends increased emphasis on grounding APPA proposes the addition of new Table R 9 for DC minimum clearances for live line bare hand work extrapolated from ANSI/IEE Standard 516-89 page 18 Table 5 State of California Work Rules and OSHA's 29 CFR 1926.956 Table V-2 EEI proposes that this section of the proposed rules also address live line bare hand work Line-Cleararrce Tree Triinininq  rl This paragraph addresses safety considerations relating to line maintenance tree trimming based in large part on ANSI 2133.1-1982, "ANSI Safety Requirements for Pruning Trimming Repairing Maintaining and Removing Trees and for Cutting Brush A line-clearance tree trimmer is defined by the Rules as an employee who through related training or on-the-job experience or both is familiar with the special techniques and hazards involved in line-clearance An employee who is regularly assigned to a line-clearance tree trimming crew and who is undergoing on-the job training and who in the course of such training has demonstrated an ability to perform duties safely at his or her level of training and who is under the direct supervision of a line clearance tree trimmer is considered to be a line-clearance tree trimmer Included in this section is a portion entitled Electrical Hazards which does not apply to qualified employees." This section contains the following requirements A2-14 


Inspection of tree is required to determine whether electrical conductors are within ten feet of tree Employees other than line-clearance tree trimmers are required to maintain ten feet basic clearance for voltages up to 50 kV with adders for higher voltages Employees must be qualified as line clearance tree trimmers if working closer than ten feet from lines of 750 volts or more A second line-clearance tree trimmer is required within normal voice communication if 1 he is required to approach closer than ten feet from lines of greater than 750 volts or 2 if branches are closer than the Table R 6 and R-7 clearances or if roping is necessary to remove branches or limbs from conductors or apparatus Line clearance tree trimmers must maintain the clearances indicated in Tables R-6 and R 7 excluding the notes Branches contacting electrical conductors within Tables R-6 and R-7 clearances may be removed only with insulated equipment Ladders platforms and aerial devices may not be brought closer than Table R-6 and R-7 clearances Line-clearance tree trimming may not be performed during storms or under emergency conditions Other areas which are addressed in conjunction with line-clearance tree trimming are as follows Brush chippers Sprayers and related equipment Stump cutters Gasoline driven power saws Backpack power units Rope Comments r APPA has submitted the following comments on the line-clearance tree trimming section Recommends that OSHA acknowledge that line-clearance tree trimmers are qualified employees Believes that ten foot clearance is too restrictive for 600 volt to 50 kV and proposes a new table based on six foot clearance for 600 volt to 50 kV which is provided in an attachment to their comments Opposes restriction of line-clearance tree trimming during storms or emergency conditions citing need for restoration of service and removal of safety hazards from broken trees during these situations Recommends that this section be modified to read Line-clearance tree trimming operations may not be performed during storms that make the work hazardous, except for purposes related to public safety or in connection with electric system restoration Recommends modification of the requirement that rope be treated as energized and recommends rewording as care shall be taken that climbing ropes do not contact energized high voltage lines or equipment Coinmimication Facilities s This paragraph addresses communication facilities such as microwave and power line carrier systems For microwave systems the following requirements are contained in this section To protect employees eyes employees are prohibited from looking into an open wave guide or antenna connected to an energized microwave source A2-15 I 


In accordance with 1910.97 and 1910.209 warning signs are required in microwave areas For work involving power line carrier systems this work is to be conducted according to requirements for work on energized lines Comments s APPA objects to the absolute requirement implied by the word ensure regarding exposure to microwave radiation and recommends revision of s l iii to read when an employee works in an area where electromagnetic radiation levels could exceed the levels specified in the radiation protection guide the employer shall institute measures designed to protect employees from accidental exposure to radiation levels greater than those permitted by that guide  I1 an employee must be stationed at the remote end of the rodding operation Before moving an energized cable it must be inspected for defects which might lead to a fault To prevent accidents from working on the wrong cable would require identification of the correct cable when multiple cables are present Would prohibit an employee from working in a manhole with an energized cable with a defect that could lead to a fault However if the cable cannot be deenergized while another cable is out employees may enter the manhole but must protect against failure by some means for example using a ballistics blanket wrapped around cable Requires bonding around opening in metal sheath while working on cable Underaround EIectrical Installations t Comments t This paragraph addresses safety for underground vaults and manholes The following requirements are contained in this section Ladders must be used in manholes and vaults greater than four feet deep and climbing on cables and hangers in these vaults is prohibited Equipment used to lower materials and tools in manholes must be capable of supporting the weight and should be checked for defects before use An employee in a manhole must have an attendant in the immediate vicinity with facilities greater than 250 volts energized An employee working alone is permitted to enter briefly for inspection housekeeping taking readings or similar assuming work could be done safely Duct rods must be inserted in the direction presenting the least hazard to employees and APPA recommends that OSHA rewrite section 7\regarding working with defective cables This rewrite would include the words shall be given a thorough inspection and a determination made as to whether they represent a hazard to personnel or representative of an impending fault As in Subsection \(e EEI proposes the addition of wording to cover training of employees in emergency rescue procedures and for providing and maintaining rescue equipment Substations U This paragraph covers work performed in substations and contains the following requirements Requires that enough space be provided around electrical equipment to allow ready and safe access for operation and maintenance of equipment OSHA's position A2-16 


is that this requirement is sufficiently performance oriented to meet the requirements for old installations according to the 1987 NEW Requires draw-out circuit breakers to be inserted and removed while in the open position and that if the design permits the control circuits be rendered inoperative while breakers are being inserted and removed stated in the Rules and requests that existing installations not be required to be modified to meet NESC APPA recommends that Section u 4 i which includes requirements for enclosing electric conductors and equipment to minimize unauthorized access to such equipment be modified to refer to only those areas which are accessible to the public Requires conductive fences around substations to be grounded Power Generation v Addresses guarding of energized parts  Fences screens, partitions or walls This section provides additional requirements and related work practices for power generating plants  Entrances locked or attended Special Conditions w  Warning signs posted  Live parts greater than 150 volts to be guarded or isolated by location or be insulated  Enclosures are to be according to the 1987 NESC Sections llOA and 124A1 and in 1993 NESC  Requires guarding of live parts except during an operation and maintenance function when guards are removed barriers must be installed to prevent employees in the area from contacting exposed live parts Requires employees who do not work regularly at the substation to report their presence Requires information to be communicated to employees during job briefings in accordance with Section \(c of the Rules Comments U APPA and EEI provide comments as follows Both believe that some older substations \(and power plants would not meet NESC as This paragraph proposes special conditions that are encountered during electric power generation, transmission and distribution work including the following Capacitors  Requires individual units in a rack to be short circuited and the rack grounded  Require lines with capacitors connected to be short circuited before being considered deenergized Current transformer secondaries may not be opened while energized and must be bridged if the CT circuit is opened Series street lighting circuits with open circuit voltages greater than 600 volts must be worked in accordance with Section q\or t and the series loop may be opened only after the source transformer is deenergized and isolated or after the loop is bridged to avoid open circuit condition Sufficient artificial light must be provided where insufficient naturals illumination is present to enable employee to work safely A2-17 


US Coast Guard approved personal floatation devices must be supplied and inspected where employees are engaged in work where there is danger of drowning Required employee protection in public work areas to include the following  Warning signs or flags and other traffic control devices  Barricades for additional protection to employees  Barricades around excavated areas  Warning lights at night prominently displayed Lines or equipment which may be sub to backfeed from cogeneration or other sources are to be worked as energized in accordance with the applicable paragraphs of the Rules Comments w APPA submits the following comments regarding this Special Conditions section Recommends that the wording regarding capacitors be modified to include a waiting period for five minutes prior to short circuiting and grounding in accordance with industry standards for discharging of capacitors For series street light circuits, recommends that language be added for bridging to either install a bypass conductor or by placement of grounds so that work occurs between the grounds Recommends modification of the section regarding personal floatation devices to not apply to work sites near fountains decorative ponds swimming pools or other bodies of water on residential and commercial property Definitions x This section of the proposed Rules includes definitions of terms Definitions particularly pertinent to understanding the proposal and which have not previously been included are listed as follows Authorized Employee  an employee to whom the authority and responsibility to perform a specific assignment has been given by the employer who can demonstrate by experience or training the ability to recognize potentially hazardous energy and its potential impact on the work place conditions and who has the knowledge to implement adequate methods and means for the control and isolation of such energy CZearance for Work  Authorization to perform specified work or permission to enter a restricted area Clearance from Hazard  Separation from energized lines or equipment Comments x The following summarizes the changes in some of the definitions which APPA recommends Add to the definition for authorized employee It the authorized employee may be an employee assigned to perform the work or assigned to provide the energy control and isolation function  Recommends that OSHA modify the definition for a line clearance tree trimmer to add the word qualified resulting in the complete designation as a qualified line clearance tree trimmer Recommends that OSHA modify the definition of qualified employee" to remove the word construction from the definition since it is felt that knowledge of construction procedures is beyond the scope of the proposed rule resulting in APPA's new A2-18 I 


wording as follows more knowledgeable in operation and hazards associated with electric power generation transmission and/or distribution equipment Recommends that OSHA add a definition for the word practicable and replace the word feasible with practicable wherever it appears in the proposed regulations and that practicable be further defined as capable of being accomplished by reasonably available and economic means OTHER ISSUES Clothing OSHA requested comments on the advisability of adopting requirements regarding the clothing worn by electric utility industry employees EEI has presented comments which indicates research is underway prior to establishing a standard for clothing to be worn by electric utility employees However EEI's position is that this standard has not developed to the extent that it could be included in the OSHA Rules Both APPA and EEI state that they would support a requirement that employers train employees regarding the proper type of clothing to wear to minimize hazards when working in the vicinity of exposed energized facilities Grandfathering Due to the anticipated cost impact on the utility industry of the proposed Rules requiring that existing installations be brought to the requirements of the proposed Rules both APPA and EEI propose that the final Rules include an omnibus grandfather provision This provision would exempt those selected types of facilities from modification to meet the new rules EEI states that if the grandfathering concept is incorporated that electric utility employees will not be deprived of proper protection They propose that employers be required to provide employees with a level of protection equivalent to that which the standard would require in those instances in which the utility does not choose to modify existing facilities to comply with the final standard Rubber Sleeves OSHA requests comments from the industry on whether it would be advisable to require rubber insulating sleeves when gloves are used on lines or equipment energized at more than a given voltage EEI states its position that utilities should continue to have the option of choosing rubber gloves or gloves and sleeves to protect employees when it is necessary to work closer to energized lines than the distances specified in the clearance tables Preemuting State Laws EEI requests that the final Rules be clear in their preempting state rules applicable to the operation and maintenance work rules for electric power systems. This is especially critical since some states now have existing laws which are more stringent than the proposed OSHA Rules Examples are 1 in California and Pennsylvania where electric utility linemen are prohibited from using rubber gloves to work on lines and equipment energized at more than certain voltages and 2 in California and Connecticut where the live line bare hand method of working on high voltage transmission systems is prohibited One utility Pacific Gas  Electric has obtained a variance from the California OSHA to perform live line bare-hand transmission maintenance work on an experimental basis Coiiflicts Between the Rilles and Part 1926 Subpart V Since many of the work procedures in construction work and operation and maintenance work are similar and difficult to distinguish between EEI requests that the final order be clear in establishing which rule has jurisdiction over such similar work areas A2-19 v 


IMPACTS ON COSTS AND ASSOCIATED BENEFITS In its introduction to the proposed rules OSHA has provided an estimate of the annual cost impact on the electric utility industry for the proposed des of approximately 20.7 million OSHA estimates that compliance with this proposed standard would annually prevent between 24 and 28 fatalities and 2,175 injuries per year The utilities which have responded to this proposed standard through their respective associations have questioned the claims both of the magnitude of the cost involved and the benefit to the industry in preventing fatalities and lost-time injuries Both EEI and APPA feel that the annual cost which OSHA estimates are significantly lower than would be realized in practice Factors which APPA and EEI feel were not properly addressed include the following OSHA has not accurately accounted for cost of potential retroactive impacts including retrofitting and modifying existing installations and equipment OSHA has not consistently implemented performance based provisions in proposed rules  many portions require specific approaches which would require utilities to replace procedures already in place with new procedures Estimates were based on an average size investor-owned utility of 2,800 employees and an average rural cooperative of 56 employees, which are not applicable to many smaller systems such as municipal systems OSHA has not adequately addressed the retraining which would be necessary with modifying long-established industry practices to be in accordance with the OSHA rules EEI claims that OSHA's proposed clearance requirements would not allow the use of established maintenance techniques for maintaining high voltage transmission systems and thus would require new techniques For an example of the cost which is estimated to be experienced as a result of the new Rules one of the EEI member companies has estimated that approximately 20,000 transmission towers would need to be modified to accommodate the required step bolts in the Rules at an estimated cost of 6,200,000 Additionally this same company estimates that the annual cost of retesting live line tools for its estimated 1,000 tools would be 265,000 Additionally, both EEI and APPA question the additional benefits which OSHA claims would result from implementation of the new Rules APPA questions the estimates of preventing an additional 24 to 28 fatalities annually and 2,175 injuries per year in that it fails to account for the fact that the industry has already implemented in large part safety measures which are incorporated in the Rules EEI and APPA also point out that many preventable injuries cannot be eliminated despite work rules enforcement and safety awareness campaigns since many such accidents which result in fatalities are due to employee being trained but not following the employer's training and policies PRESENT STATUS OF RULES According to information received from the OSHA office in February 1993 the final Rules are to be published no later than July 1993 and possibly as soon as March 1993 OSHA closed their receipt of comments in March 1991 and no further changes in the rules are thought possible A2-20 


CONCLUSION The OSHA 1910.269 which proposes to cover electric utility operation and maintenance work rules affects a multitude of working procedures as are summarized in this paper It is not possible at the present time to assess the final structure of the Rules as may be proposed in 1993 or subsequent years Since the comments from the utility associations APPA and EEI were made following the initial release of the proposed OSHA Rules in 1989 a significant amount of time has elapsed where other events have occurred which may affect the form of the final Rules The 1993 NESC went into effect in August 1992 and includes some of the requirements to which the commenters objected For example a significant requirement in the Part 4 of the 1993 NESC requires that rubber gloves be utilized on exposed energized parts of facilities operating at 50 to 300 volts This requirement is in conflict with EEl\222s proposed change to the OSHA Rules which would still allow working such secondary facilities without the use of rubber gloves Electric utilities are advised to review the January 31 1989 proposed operation and maintenance Rules as summarized in this paper and to review their procedures which would be affected by application of the Rules Many of the procedures proposed in the Rules provide valuable guidance in electric utilities\222 operation and maintenance activities Where the cost impact is not significant, it is recommended that utilities consider implementing such procedures in expectation of the Rules being published in the next few months Also it would be appropriate for electric utilities to review the 1993 edition of the NESC since there are portions of the Rules which have resulted in changes in the NESC These changes mainly occur in Part 4 Rules for the Operation of Electric Supply and Communications Lines and Equipment The concerns which the commenters have addressed regarding the cost impact and the resulting benefits experienced as a result of the promulgation of the Rules are real ones and must be addressed in the final Rules As a result this paper cannot present a conclusion regarding the full impact of the Rules The development of such Rules continue to be an ongoing matter and will undoubtedly require later analysis when the final rules are published A2-21 


