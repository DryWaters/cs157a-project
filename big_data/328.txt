Proceedings of the 4 World Congress on Intelligent Control and Automation June 10-14 2002 Shanghai P.R.China 2203 Mining association rules based on cloud model and application in prediction Tian Yongqing Weng Yingjun Zhu Zhongying Department of Automation, Shanghai Jiaotong University Shanghai, 200030 Abstract Mining association rules in large relational databases containing both quantitative and categorical attributes is important The article proposes an approach for mining quantitative association rules It gives the definition of the cloud model association rules and also presents an efficient algorithm Cloud Model A and presents an application in prediction Keywords KDD data mining, cloud model association rule prediction  0-7803-7268-9/01/$10.00 02001 IEEE 





Proceedings of the 4\222 World Congress on Intelligent Control and Automation June 10-14 2002 Shanghai P.R.China 2205  He  stdev En  Support\(X 3 Y  Support\(X U Y 2 


2206 Proceedings of the 4 World Congress on Intelligent Control and Automation June 10-14 2002 Shanghai P.R.China 


Proceedings of the 4 World Conmess on Intelligent Control and Automation June 10-14 2002 Shanghai P.R.China 2207 B l Agrawal R Imielinski T Swami A Mining association rules between sets of items in large databases In Proceedings of the 1993 ACM SIGMOD International Conference on Management of Data Washington D C ACM Press 1993.207-216 2 t%&?,Z&T SB-Z@$EZE it$m 1995,32\(6 3 EP E  82  41  d a I E 2 I'd   2 a  I i;a E  IYJ E 83  El El 2 El  2  11 4 Kuok C Fu A Wong M Mining fuzzy association rules in databases. Sigmod Record,1998,27 1 SISrikant R Agrawal R Mining quantitative association rules in large relational tables In Proceedings of the 1996 ACM SIGMOD International Conference on Management of Data Montreal Quebec Canada: ACM Press,1996.1 12 


set S that could b e used to extend curSet suc h that conditions 1 and 2 hold Due to the condition 2 w eha v e the follo wing constrain t c 003 s  conf curSet 003 sup curSet  s  sup curSet  025 conf o ptS et  Re-arranging the terms yields the follo wing constrain t c 025 conf optSet   conf optSet 000 conf curSet 003 sup curSet  s 1 Also since the set curSet  S m ust satisfy minim um supp ort and a set S can consist of at most l instantiations w e require s to satisfy the follo wing t w o constrain ts minSup 024 s  sup curSet  024 1 2 0 024 s 024 l 003 maxSup 3 Note that since the con\014dence of set S can b e at most maxConf w eha v e the follo wing constrain t c 024 maxCo nf  Com bining this constrain t with Constrain t 1 results in the follo wing constrain t whic h if satis\014ed b y s  ensures that there exists a c that do es not exceed maxC onf and at the same time causes the con\014dence of curSet  S to b e at least conf optSet sup curSet  003  conf optSet  000 conf curSet maxConf 000 conf optSet  024 s 4 Finally w e exploit the fact that instan tiations are sorted in the decreasing order of their w eigh ts and only instan tiations that follo w instArra y i  are used to extend curSet W e utilize the follo wing prop ert y of sets of instan tiations Theorem 4.2  F or an arbitr ary set of instantiations S  ther e exists an instantiation I 2 S such that w  I  025 w 1 003 conf  S  w 2 003 sup  S  numI nst  S  Th us since S con tains only instan tiations with w eigh ts at most w instArra y i  and S can con tain at most l instan tiations due to Theorem 4.2 w e obtain the follo wing constrain ton s and c  w 1 003 c  w 2 003 s l 024 w instArra y i  Re-arranging the terms w e get c 024 w instArra y i  003 l 000 w 2 003 s l 003 w 1 5 Since c  the con\014dence of S m ust b e at least 0 substituting 0 for c in the ab o v e equation results in the follo wing constrain t that prev en ts s from getting so pro cedure optConfPruneOpt\(curSet curLo c 1 for i  curLo c to n do f 2   optConfRange\(curSet i  3 if minS  maxS 4 break 5 S  curSet f instArra y i  g 6 if sup S 025 minSup and conf S  conf optSet 7 optSet  S 8 if numI nst S k 9 optConfPruneOpt\(S i 1 10 g Figure 2 Depth 014rst alg for optimized con\014dence set large that c w ould ha v e to b ecome negativ e to satisfy the ab o v e constrain t s 024 w instArra y i  003 l w 2 6 Finally  constrain ts 1 and 5 can b e com bined to limit s to v alues for whic h a corresp onding v alue of c can b e determined suc h that the con\014dence of curSet  S do es not drop b elo w conf optSet and the w eigh ts of instan tiations in S do not exceed w instArra y i  w instArra y i  003 l 000 w 2 003 s w 1 003 l 025 conf optSet   conf optSet 000 conf curSet 003 sup curSet  s 7 An y set S used to extend curSet to pro duce a b etter set for optimized con\014dence m ust satisfy the constrain ts 7 on its supp ort Th us if there exists av alue of s satisfying constrain ts 7 then curSet m ust b e extended Otherwise it can b e pruned without extending it further The pro cedure for computing the optimized con\014dence set illustrated in Figure 2 is similar to the naiv e algorithm except that it in v ok es optConfRange to determine if there exists an S that curSet can b e extended with to yield the optimized set It stops extending curSet if the range of v alues minS for the supp ort of suc h a set is empt y whic h happ ens when minS  maxS The pro cedure optConfRange computes the range minS whic h is the range of v alues for s that satisfy the ab o v e constrain ts If there do es not exist an s that satis\014es constrain ts 7 then a range for whic h minS  maxS is returned for con v enience Th us if minS  maxS for the returned range from optConfRange w e can stop extending curSet The pro cedure tak es as input curSet and the index i in instArra y of the next instan tiation b eing considered to extend curSet A detailed deriv ation of the ranges satisfying the ab o v e constrain ts and a description of the pro cedure optConfRange can b e found in 


pro cedure optConfNaiv e\(curSet curLo c 1 for i  curLo c to n do f 2 S  curSet f instArra y[i g 3 if sup S 025 minSup and conf S  conf optSet 4 optSet  S 5 if numI nst S k 6 optConfNaiv e\(S i 1 7 g Figure 1 Naiv e Alg for Optimized Con\014dence Set 4.2 Naiv e Algorithm Optimized Con\014dence Set W e b egin b y presen ting a naiv e algorithm for determining the optimized con\014dence set of instan tiations see Figure 1 In a n utshell the algorithm emplo ys depth 014rst se ar ch to en umerate all p ossible sets con taining k or less instantiations and returns the set with the maxim um con\014dence and supp ort at least mi nSup  The algorithm assumes that instan tiations are stored in the arra y instArra y  The n um b er of instantiations is n  n 1 003 n 2 003 001\001\001\003 n m  where n i is the n umber of v alues in the domain of A i  The algorithm is initially in v ok ed with argumen ts curSet   and curLo c=1 The v ariable optSet is used to k eep trac k of the optimized set of instan tiations encoun tered during the execution of the algorithm The algorithm en umerates all p ossible subsets of size k or less b y recursiv ely in v oking itself Step 6 and sets optSet to a set with a greater con\014dence than the curren t optimized set steps 3 and 4 Eac hin v o cation accepts as input curSet the set of instan tiations to b e further extended and curLo c the index of the 014rst instan tiation in instArra ytobe considered for extending curSet all instan tiations b et w een curLo c and n are considered The extended state is stored in S and if the n um b er of instan tiations in S is less than k  the algorithm calls itself recursiv ely to further extend S with instan tiations whose index is greater than the index of all the instan tiations in S The complexit y of the naiv e algorithm is 006 k i 1 nC i  When k 034 n  the complexit y of the algorithm b ecomes O  n k  Ho w ev er as w e sho w ed earlier if there is no restriction on the size of the optimized set that is k  n  the problem is NP-hard Optimized Supp ort Set The naiv e algorithm for computing the optimized supp ort set is similar to optConfNaiv e except that the condition in Step 3 whic h tries to maxim ize con\014dence is replaced with the follo wing condition if conf S 025 minCo nf and sup S  sup optSet 4.3 Pruning Using the Curren t Optimized Set The naiv e algorithm exhaustiv ely en umerates all p ossible sets with at most k instan tiations  this results in high complexit y Ho w ev er in the naiv e algorithm illustrated in Figure 1 if w e kno w that the con\014dence of an y set satisfying minim um supp ort and obtained as a result of extending curSet cannot exceed the con\014dence of the curren t optimized set that is optSet then w e can stop extending curSet immedia tely and reduce the searc h space signi\014can tly  In this section w e dev elop br anch and b ound pruning tec hniques that with the aid of the curren t optimized set considerably reduce the o v erhead of exploring the en tire searc h space F or our pruning tec hniques to b e e\013ectiv e it is imp erativ e that w e 014nd a set close to the optimized set early  since it can then b e used to eliminate a larger n um b er of sub-optimal sets It ma y seem logical that for the optimized con\014dence problem since w e are trying to maxim ize con\014dence considering instan tiations with high con\014dences 014rst ma y cause the searc h to conv erge on the optimized set more rapidly Ho w ev er this ma y not b e the case since the supp ort of the optimized con\014dence set has to b e at least minSup F or a high minim um supp ort it ma y b e b etter to explore instan tiations in the decreasing order of their supp orts Th us the order in whic h instan tiations m ust b e considered b y the searc h algorithm is a non-trivial problem In order to in v estigate this idea of pruning curSet early w e in tro duce the notion of the w eigh t of an instan tiation I denoted b y w  I  and de\014ne it b elo w w  I  w 1 003 conf  I  w 2 003 sup  I  In the de\014nition w 1 and w 2 are p ositiv e real constan ts Th us the w eigh t of an instan tiation is the w eigh ted sum of b oth its con\014dence and supp ort Our searc h algorithms can then consider instan tiations with higher w eigh ts 014rst and b y using di\013eren tv alues of w 1 and w 2 v ary the strategy for en umerating sets In the remainder of this section w e prop ose algorithms that store instan tiations in instArra y in the decreasing order of their w eigh ts and explore instan tiations with higher w eigh ts 014rst W e also presen t tec hniques that exploit the sort order of instan tiations to prune the searc h space The v ariables maxC onf and maxSup are used to store the maxim um con\014dence and maxim um supp ort of all the instan tiations in instArra y  resp ectiv ely  Optimized Con\014dence Set Supp ose the curren t set of instan tiations curSet is only extended with instan tiations b elonging to the set comprising of instArra y i  for some i  and instan tiations follo wing it in instArra y  The k ey idea is that w e can stop extending curSet if among instan tiations b eing considered to extend curSet there do es not exist a set of instan tiations S suc h that 1 sup curSet  S  025 minSup  and 2 conf curSet  S  025 conf optSet In order to determine whether a set S satisfying the ab o v e conditions 1 and 2 exists w e 014rst deriv e the constrain ts that suc h a set S m ust satisfy If the constrain ts are unsatis\014able with the remaining instan tiations that are candidates for extension a set S satisfying the conditions 1 and 2 do es not exist and w e can stop extending curSet immediately  Let v ariables s and c denote sup  S  and conf  S  resp ectiv ely  and l  k 000 numI nst curSet In the follo wing w e deriv e the constrain ts on s that m ust b e satis\014ed b yan y 


A tomic conditions can b e com bined using op erators  or _ to yield more complex conditions Instan tiated asso ciation rules that w e study in this pap er ha v e the form C 1  C 2  where C 1 and C 2 are arbitrary instan tiated conditions Let the supp ort for an instan tiated condition C  denoted b y sup  C  b e the ratio of the n um b er of tuples satisfying the condition C and the total n um b er of tuples in the relation Then for the asso ciation rule R  C 1  C 2  sup  R  is de\014ned as sup  C 1  and conf  R  is de\014ned as sup  C 1  C 2  sup  C 1   Note that our de\014nition of sup  R  is di\013eren t from the de\014nition in 1  where sup  R  as de\014ned to b e sup  C 1  C 2  Instead w eha v e adopted the de\014nition used in 5  and 4 Also let minSup and minConf denote the user-sp eci\014ed minim um supp ort and minim um con\014dence resp ectiv ely  The optimized asso ciation rule problem requires optimal instan tiations to b e computed for an uninstan tiated asso ciation rule whic h has the form U  C 1  C 2  where U is a conjunction of m uninstan tiated atomic conditions o v er m distinct attributes and C 1 and C 2 are arbitrary instan tiated conditions Let U i denote an instantiation of U th us U i is obtained b y replacing v ariables in U with v alues An instan tiation U i can b e mapp ed to a rectangle in m dimensional space  there is a dimension for eac h attribute and the co-ordinates for the rectangle in a dimension are iden tical to the v alues for the corresp onding attribute in U i Tw o instan tiations U 1 and U 2 are said to b e non-overlapping if the t w o m dimensional rectangles de\014ned b y them do not o v erlap that is the in tersection of the t w o rectangles is empt y Ha ving de\014ned the ab o v e notation for asso ciation rules w e presen t b elo w the form ulations of the optimized asso ciation rule problems 017 Optimized Con\014dence Problem Giv en k and an uninstan tiated rule U  C 1  C 2  determine non-o v erlapping instan tiations U 1 U l of U with l 024 k suc h that sup  R  025 minSup and conf  R  is maximi zed  where R is the rule  U 1 _ 001\001\001 _ U l   C 1  C 2  017 Optimized Supp ort Problem Giv en k and an uninstan tiated rule U  C 1  C 2  determine non-o v erlapping instan tiations U 1 U l of U with l 024 k suc h that conf  R  025 minConf and sup  R  is maxim ized  where R is the rule  U 1 _ 001\001\001 _ U l   C 1  C 2  The problem of computing optimized asso ciation rules required instan tiations U 1 U l to b e determined suc h that the rule R  U 1 _\001\001\001_ U l   C 1  C 2 satis\014es user-sp eci\014ed constrain ts Supp ose for an instan tiation U i of U  I i is the instan tiated rule U i  C 1  C 2  and for a set S  f I 1 I j g of instan tiated rules sup  S  and conf  S  are de\014ned as follo ws sup  S   sup  I 1  001\001\001  sup  I j  conf  S   sup  I 1  001 conf  I 1  001\001\001  sup  I j  001 conf  I j  sup  I 1  001\001\001  sup  I j  Then w eha v e sup  S  sup  R  and conf  S  conf  R  Th us since 1 for ev ery instan tiated rule or alternativ ely  instan tiation I i  sup  I i  and conf  I i  can b e computed b y p erforming a single pass o v er the relation and 2 these in turn can b e used to compute supp orts and con\014dences for sets of instan tiations the optimized asso ciation rule problem reduces to the follo wing 017 Optimized Con\014dence Problem Giv en k  and sup  I i  and conf  I i  for ev ery instantiation I i  determine a set S con taining at most k non-o v erlapping instan tiations suc h that sup  S  025 minSup and conf  S  is maxim ized 017 Optimized Supp ort Problem Giv en k  and sup  I i  and conf  I i  for ev ery instan tiation I i  determine a set S con taining at most k nono v erlapping instan tiations suc h that conf  S  025 minConf and sup  S  is maximi zed In the remainder of the pap er w e use the ab o v e form ulations instead to dev elop algorithms for the optimized asso ciation rule problems 4 Categorical A ttributes In this section w e presen t algorithms for computing optimized supp ort and con\014dence sets when rules con tain only uninstan tiated conditions of the form A i  v  Th us the results of this section are only applicable to categorical attributes and n umeric attributes restricted to A i  v 1 conditions of the form A i 2  l i u i  where A i is a n umeric attribute are dealt with in the next section An example of suc h a rule is  date  v   src cit y  NY  dst country  F rance in the rule date isan umeric attribute while src cit y is categorical Due to the ab o v e restriction an yt w o arbitrary instan tiations are alw a ys non-o v erlapping This prop ert y is essen tial for the correctness of the pruning tec hnique used b y the graph searc h algorithm presen ted in Section 4.4 4.1 NP-Hardness Result The problem of computing optimized sets giv en sup  I i  and conf  I i  for ev ery instan tiation I i  can b e sho wn to b e in tractable and follo ws from the follo wing theorem Theorem 4.1  Given sup  I i  and conf  I i  for every instantiation I i  determining if ther eisa set S c ontaining an arbitr ary numb er of instantiations such that conf  S  025 mi nConf and sup  S  025 minSup is NP-har d In the follo wing subsections w e presen tsc hemes for computing optimized sets that emplo y tec hniques for pruning the searc h space in order to o v ercome the complexit y of the problem In eac h subsection w e 014rst presen t the sc heme for computing optimized con\014dence sets and then brie\015y describ e the mo di\014cations to the sc heme in order to compute optimized supp ort sets 1 Note that if the domain of the n umeric attribute A i is large then it can b e partitioned in to a sequence of n i in terv als and successiv ein terv als can b e mapp ed to consecutiv ein tegers in the in terv al b et w een 1 and n i  


a minim um supp ort of 0.03 the optimized con\014dence rule results in the p erio d for whic h calls from NY in the p erio d are at least 3 of the total n um b er of calls and the p ercen tage of calls from NY that are directed to F rance is maxim um  With a minim um con\014dence of 0.5 the optimized supp ort rule results in the p erio d during whic h at least 50 of the calls from NY are to F rance  and the n um b er of calls originating in NY is maxim um  A limitatio n of the optimized asso ciation rules dealt with in is that only a single optimal in terv al for a single n umeric attribute can b e determined Ho wev er in a n um b er of applications a single in terv al ma y b e an inadequate description of lo cal trends in the underlying data F or example supp ose the telecom service pro vider is in terested in doing upto k promotions for customers in NY calling F rance F or this purp ose w e need a mec hanism to iden tify upto k p erio ds during whic h a sizable n um b er of calls from NY to F rance are made If asso ciation rules w ere p ermitted to con tain disjunctions of uninstan tiated conditions then w e could determine the optimal k or few er p erio ds b y 014nding optimal instan tiations for the rule  date 2  l 1 u 1  _\001\001\001 _  date 2  l k u k   src cit y  NY  dst country  F rance  The ab o v e framew ork can b e further strengthened b y enric hing asso ciation rules to con tain more than one uninstan tiated attribute and p ermitting attributes to b e b oth n umeric e.g date and duration sw ell as categorical e.g src cit y  dst country  Th us optimal instan tiations for the rule  src cit y  v 1  date 2  l 1 u 1  _ 001\001\001 _  src cit y  v k  date 2  l k u k   dst country  F rance w ould yield v aluable information ab out cities and p erio ds with a fairly high out w ard call v olume a substan tial p ortion of whic h is directed to F rance  Alternately  information ab out cities and sp e ci\014c dates can b e obtained from the rule  src cit y  v 1  date  u 1  _ 001\001\001 _  src cit y  v k  date  u k   dst country  F rance  This information can b e used b y the telecom service pro vider to determine the most suitable geographical regions and dates for o\013ering discoun ts on in ternational long distance calls to F rance  In this pap er w e generalize the optimized asso ciation rules problem describ ed in 5  in three w a ys{1 asso ciation rules are p ermitted to con tain disjunctions o v er uninstan tiated attributes 2 asso ciation rules are allo w ed to con tain an arbitrary n um b er of uninstan tiated attributes and 3 uninstan tiated attributes can b e either categorical or n umeric W e 014rst sho w that the problem of computing optimized supp ort and optimized con\014dence asso ciation rules in our framew ork is NP-hard W e then presen t a general depth 014rst se ar ch algorithm for exploring the searc h space The algorithm searc hes through the space of instan tiated rules in the decreasing order of the w eigh ted sums of their con\014dences and supp orts and uses br anch and b ound tec hniques to prune the searc h space e\013ectiv ely F or categorical attributes w e also presen ta gr aph se ar ch algorithm that in addition uses in termediate results to reduce the searc h Finally  for n umeric attributes w e dev elop tec hniques to eliminate certain instan tiated rules prior to searc hing through them Exp erimental results indicate that our sc hemes p erform w ell for a large n um b er of uninstan tiated attributes disjunctions and v alues in the domain of the uninstan tiated attributes Pro ofs of theorems presen ted in the pap er can b e found in 9  2 Related W ork Asso ciation rules for a set of transactions in whic h eac h transaction is a set of items b ough tb y a customer w ere 014rst studied in 1  These asso ciation rules for sales transaction data ha v e the form X  Y  where X and Y are disjoin t sets of items E\016cien t algorithms for computing them can b e found in 2 7  6 10 11 In 10 6  the generalization of asso ciation rules to m ultiple lev els of taxonomies o v er items is studied Asso ciation rules con taining quantitative and c ate goric al attributes are studied in and 11  The w ork in 8  restricts asso ciation rules to b e of the form A 1  v 1  A 2  v 2 only  They suggest w a ys to extend their framew ork to ha v e a range that is A 1 2  l 1 u 1  rather than a single v alue in the left hand side of a rule T oac hiev e this they partition n umeric attributes in to in terv als Ho w ev er they do not consider merging neigh b oring in terv als to generate a larger in terv al In 11  the authors use a p artial c ompleteness measure in order to determine the partitioning of n umeric attributes in to in terv als The optimized asso ciation rule problem w as in troduced in 5  The authors p ermit asso ciation rules to con tain a single uninstan tiated condition A 1 2  l 1 u 1  on the left hand side and prop ose sc hemes to determine v alues for v ariables l 1 and u 1 suc h that the con\014dence or supp ort of the rule is maximi zed In the authors extend the results in 5  t o the case in whic h rules con tain t w o uninstan tiated n umeric attributes on the left hand side They prop ose algorithms that disco v er optimized gain supp ort and con\014dence asso ciation rules for t w o classes of regions  rectangles and admissible regions for admissible regions the algorithms compute appro ximate not optimized supp ort and con\014dence rules Ho w ev er their sc hemes only compute a single optimal region In con trast our algorithms are general enough to handle more than t w o uninstan tiated attributes whic h could b e either categorical or n umeric F urthermore our algorithms can generate an optimal set of rectangles rather than just a single optimal rectangle note that w e do not consider admissible regions or the notion of gain in this pap er This enables us to 014nd more in teresting patterns 3 Preliminaries In this section w e de\014ne the optimized asso ciation rule problem addressed in the pap er The data is assumed to b e stored in a relation de\014ned o v er categorical and n umeric attributes Asso ciation rules are built from atomic conditions eac h of whic h has the form A i  v i  A i could b e either categorical or n umeric and A i 2  l i u i  only if A i is n umeric F or the atomic condition A i  v i if v i isav alue from the domain of A i  the condition is referred to as instantiate d  else if v i isav ariable w e refer to the condition as uninstantiate d  Lik ewise the condition A i 2  l i u i  s referred to as instan tiated or uninstan tiated dep ending on whether l i and u i are v alues or v ariables 


Mining Optimize d Asso ciation Rules with Categorical and Numeric A ttributes Ra jeev Rastogi Kyuseok Shim Bell Lab oratories Bell Lab oratories Murra y Hill NJ 07974 Murra y Hill NJ 07974 rastogi@researc h.b ell-labs.com shim@researc h.b ell-labs.com Abstract Asso ciation rules ar e useful for determining c orr elations b etwe en attributes of a r elation and have applic ations in marketing 014nancial and r etail se ctors F urthermor e optimized asso ciation rules ar e an e\013e ctive way to fo cus on the most inter esting char acteristics involving c ertain attributes Optimize d asso ciation rules ar ep ermitte dto c ontain uninstantiate d attributes and the pr oblem is to determine instantiations such that either the supp ort or c on\014denc e of the rule is maximize d In this p ap er we gener alize the optimize d asso ciation rules pr oblem in thr e e ways  1 asso ciation rules ar e al lowe dtoc ontain disjunctions over uninstantiate d attributes 2 asso ciation rules ar ep ermitte dtoc ontain an arbitr ary numb er of uninstantiate d attributes and 3 uninstantiate d attributes c an b e either c ate goric al or numeric Our gener alize d asso ciation rules enable us to extr act mor e useful information ab out se asonal and lo c al p atterns involving multiple attributes We pr esent e\013e ctive te chniques for pruning the se ar ch sp ac e when c omputing optimize d asso ciation rules for b oth c ate goric al and numeric attributes Final ly we r ep ort the r esults of our exp eriments that indic ate that our pruning algorithms ar e e\016cient for a lar ge numb er of uninstantiate d attributes disjunctions and values in the domain of the attributes 1 In tro duction Asso ciation rules in tro duced in 1  pro vide a useful mec hanism for disco v ering correlations among the underlying data In its most general form an asso ciation rule can b e view ed as b eing de\014ned o v er attributes of a relation and has the form C 1  C 2  where C 1 and C 2 are conjunctions of conditions and eac h condition is either A i  v i or A i 2  l i u i  v i  l i and u i are v alues from the domain of the attribute A i  Eac h rule has an asso ciated supp ort and c on\014denc e  Let the supp ort of a condition C i b e the ratio of the n um b er of tuples satisfying C i and the n um b er of tuples in the relation The supp ort of a rule of the form C 1  C 2 is then the same as the supp ort of C 1  C 2  while its con\014dence is the ratio of the supp orts of conditions C 1  C 2 and C 1  The asso ciation rules problem is that of computing all asso ciation rules that satisfy user-sp eci\014ed minim um supp ort and minim um con\014dence constrain ts and sc hemes for this can b e found in 1  2 6 10 11  F or example consider a relation in a telecom service pro vider database that con tains call detail information The attributes of the relation are date  time  src cit y  src country  dst cit y  dst country and duration  A single tuple in the relation th us captures information ab out the t w o endp oin ts of eac h call as w ell as the temp oral elemen ts of the call The asso ciation rule  src cit y  NY    dst country  F rance  ould satisfy the user-sp eci\014ed minim um supp ort and minim um con\014dence of 0.05 and 0.3 resp ectiv ely  if at least 5 of total calls are from NY to F rance  and at least 30 of the calls that originated from NY are to F rance  The optimize d asso ciation rules problem motiv ated b y applications in mark eting and adv ertising w as intro duced in 5  An asso ciation rule R has the form  A 1 2  l 1 u 1   C 1  C 2  where A 1 is a n umeric attribute l 1 and u 1 are uninstan tiated v ariables and C 1 and C 2 con tain only instan tiated conditions that is the conditions do not con tain uninstan tiated v ariables The authors prop ose algorithms for determining v alues for the uninstan tiated v ariables l 1 and u 1 for eac h of the follo wing cases 017 Con\014dence of R is maxim ized and supp ort of the condition  A 1 2  l 1 u 1   C 1 is at least the usersp eci\014ed supp ort referred to as the optimize dc on\014denc e rule 017 Supp ort of the condition  A 1 2  l 1 u 1   C 1 is maximi zed and con\014dence of R is at least the usersp eci\014ed con\014dence referred to as the optimize d supp ort rule Optimized asso ciation rules are useful for unra v eling ranges for n umeric attributes where certain trends or correlations are strong that is ha v e high supp ort or con\014dence F or example supp ose the telecom service pro vider men tioned earlier w as in terested in offering a promotion to NY customers who mak e calls to F rance  In this case the timing of the promotion ma y b e critical  for its success it w ould b e adv an tageous to o\013er it close to a p erio d of consecutiv eda ys in whic h at least a certain minim um n um b er of calls from NY are made and the p ercen tage of calls from NY to F rance is maxim um  The framew ork dev elop ed in 5  can b e used to determine suc h p erio ds Consider for example the asso ciation rule  date 2  l 1 u 1   src cit y  NY  dst country  F rance  With 


It can also be added to cell CrossSales.3\(PC, printer one_year,\205 5  Distributed and Incremental Rule Mining There exist two ways to deal with association rules 267  Static that is, to extract a group of rules from a snapshot, or a history, of data and use "as is 267  Dynamic that is, to evolve rules from time to time using newly available data We mine association rules from an e-commerce data warehouse holding transaction data. The data flows in continuously and is processed daily Mining association rules dynamically has the following benefits 267  223Real-time\224 data mining, that is, the rules are drawn from the latest transactions for reflecting the current commercial trends 267  Multilevel knowledge abstraction, which requires summarizing multiple partial results. For example association rules on the month or year basis cannot be concluded from daily mining results. In fact multilevel mining is incremental in nature 267  For scalability, incremental and distributed mining has become a practical choice Figure 3: Distributed rule mining Incremental association rule mining requires combining partial results. It is easy to see that the confidence and support of multiple rules may not be combined directly. This is why we treat them as \223views\224 and only maintain the association cube, the population cube and the base cube that can be updated from each new copy of volume cube. Below, we discuss several cases to show how a GDOS can mine association rules by incorporating the partial results computed at LDOSs 267  The first case is to sum up volume-cubes generated at multiple LDOSs. Let C v,i be the volume-cube generated at LDOS i The volume-cube generated at the GDOS by combining the volume-cubes fed from these LDOSs is 345   n i i v v C C 1  The association rules are then generated at the GDOS from the centralized C v  214  The second case is to mine local rules with distinct bases at participating LDOSs, resulting in a local association cube C a,I a local population cube C p,I  and a local base cube C b,i at each LDOS. At the GDOS, multiple association cubes, population cubes and base cubes sent from the LDOSs are simply combined, resulting in a summarized association cube and a summarized population cube, as 345   n i i a a C C 1   345   n i i p p C C 1  and 345   n i i b b C C 1  The corresponding confidence cube and support cube can then be derived as described earlier. Cross-sale association rules generated from distinct customers belong to this case In general, it is inappropriate to directly combine association cubes that cover areas a 1 205, a k to cover a larger area a In the given example, this is because association cubes record counts of customers that satisfy   customer product merchant time area Doe TV Dept Store 98Q1 California Doe VCR Dept Store 98Q1 California customer product merchant time area Doe VCR Sears 5-Feb-98 San Francisco Joe PC OfficeMax 7-Feb-98 San Francisco customer product merchant time area Doe TV Fry's 3-Jan-98 San Jose Smith Radio Kmart 14-Jan-98 San Jose Association   population      base          confidence      support cube               cube                cube         cube                cube LDOS LDOS GDOS 


the association condition, and the sets of customers contained in a 1 205, a k are not mutually disjoint. This can be seen in the following examples 214  A customer who bought A and B in both San Jose and San Francisco which are covered by different LDOSs , contributes a count to the rule covering each city, but has only one count, not two, for the rule A  336  B covering California 214  A customer \(e.g. Doe in Figure 3\who bought a TV in San Jose, but a VCR in San Francisco, is not countable for the cross-sale association rule TV  336 VCR covering any of these cities, but countable for the rule covering California. This is illustrated in Figure 3 6  Conclusions In order to scale-up association rule mining in ecommerce, we have developed a distributed and cooperative data-warehouse/OLAP infrastructure. This infrastructure allows us to generate association rules with enhanced expressive power, by combining information of discrete commercial activities from different geographic areas, different merchants and over different time periods. In this paper we have introduced scoped association rules  association rules with conjoint items and functional association rules as useful extensions to association rules The proposed infrastructure has been designed and prototyped at HP Labs to support business intelligence applications in e-commerce. Our preliminary results validate the scalability and maintainability of this infrastructure, and the power of the enhanced multilevel and multidimensional association rules. In this paper we did not discuss privacy control in customer profiling However, we did address this issue in our design by incorporating support for the P3P protocol [1 i n  ou r data warehouse. We plan to integrate this framework with a commercial e-commerce system References 1  Sameet Agarwal, Rakesh Agrawal, Prasad Deshpande Ashish Gupta, Jeffrey F. Naughton, Raghu Ramakrishnan, Sunita Sarawagi, "On the Computation of Multidimensional Aggregates", 506-521, Proc. VLDB'96 1996 2  Surajit Chaudhuri and Umesh Dayal, \223An Overview of Data Warehousing and OLAP Technology\224, SIGMOD Record Vol \(26\ No \(1\ 1996 3  Qiming Chen, Umesh Dayal, Meichun Hsu 223 OLAPbased Scalable Profiling of Customer Behavior\224, Proc. Of 1 st International Conference on Data Warehousing and Knowledge Discovery \(DAWAK99\, 1999, Italy 4  Hector Garcia-Molina, Wilburt Labio, Jun Yang Expiring Data in a Warehouse", Proc. VLDB'98, 1998 5  J. Han, S. Chee, and J. Y. Chiang, "Issues for On-Line Analytical Mining of Data Warehouses", SIGMOD'98 Workshop on Research Issues on Data Mining and Knowledge Discovery \(DMKD'98\ , USA, 1998 6  J. Han, "OLAP Mining: An Integration of OLAP with Data Mining", Proc. IFIP Conference on Data Semantics DS-7\, Switzerland, 1997 7  Raymond T. Ng, Laks V.S. Lakshmanan, Jiawei Han Alex Pang, "Exploratory Mining and Pruning Optimizations of Constrained Associations Rules", Proc ACM-SIGMOD'98, 1998 8  Torben Bach Pedersen, Christian S. Jensen Multidimensional Data Modeling for Complex Data Proc. ICDE'99, 1999 9  Sunita Sarawagi, Shiby Thomas, Rakesh Agrawal Integrating Association Rule Mining with Relational Database Systems: Alternatives and Implications", Proc ACM-SIGMOD'98, 1998   Hannu Toivonen, "Sampling Large Databases for Association Rules", 134-145, Proc. VLDB'96, 1996   Dick Tsur, Jeffrey D. Ullman, Serge Abiteboul, Chris Clifton, Rajeev Motwani, Svetlozar Nestorov, Arnon Rosenthal, "Query Flocks: A Generalization of Association-Rule Mining" Proc. ACM-SIGMOD'98 1998   P3P Architecture Working Group, \223General Overview of the P3P Architecture\224, P3P-arch-971022 http://www.w3.org/TR/WD-P3P.arch.html 1997 


Plenary Panel Session 30 XML Databases   Moderator: Michael Carey, IBM Almaden Research Center USA Panelists Adam Bosworth, Microsoft Corporation USA David De Witt University of Wisconsin-Madison, USA Alon Levy University of Washington USA Bruce Lindsay IBM Almaden Research Center USA Jennifer Widom Stanford University USA Demo Session 1 Web Query Optimizer  661 V Zadorozhny L Bright L Raschid T Urhan and M Vidal ReQueSS: Relational Querying of Semi-structured Data  664 R Sunderraman The IDEAL Approach to Internet-Based Negotiation for E-Business  666 J Hammer C Huang Y Huang C Pluempitiwiriyawej M Lee H Li L Wang Y Liu and S Su READY A High Performance Event Notification Service  668 R Gruber B Krishnamurthy, and E Panagos A Multimedia Information Server with Mixed Workload Scheduling  670 G Nerjes DISIMA An Object-Oriented Approach to Developing an Image Database System  672 V Oria T Ozsu P Iglinski B Xu and L Cheng Demo Session 2 The Collaboration Management Infrastructure  677 H Schuster D Baker A Cichocki D Georgakopoulos and M Rusinkiewicz Assisting the Integration of Taxonomic Data The LITCHI Toolkit  679 I Sutherland J Robinson S Brandt A Jones S Embury W Gray R White and F Bisby TheaterLoc: Using Information Integration Technology to Rapidly Build Virtual Applications  681 G. Barish Y.4 Chen D Dipasquo, C Knoblock S Minton I Muslea and C Shahabi Lineage Tracing in a Data Warehousing System  683 Y Cui and J Widom xiii 


The Mentor-Lite Prototype A Light-Weight Workflow Management System  685 J Weissenfels M Gillmann 0 Roth, G Shegalov and W Wonner Location Prediction and Queries for Tracking Moving Objects  687 0 Wolfson B Xu and S Chamberlain Semiorder Database for Complex Activity Recognition in Multi-Sensory Environments  689 S Bhonsle A Gupta S Santini and R Jain Tutorial 1 Web Information Retrieval  693 M Henzinger Tutorial 2 Mobile and Wireless Database Access for Pervasive Computing  694 P Chrysanthis and E Pitoura Tutorial 3 Data Mining with Decision Trees  696 J Gehrke Tutorial 4 Directories Managing Data for Networked Applications  697 D Srivastava Tutorial 5 Indexing High-Dimensional Spaces Database Support for Next Decade\222s Applications  698 S Berchtold and D Keim xiv 


 T5.I2.D100K T10.I4.D100K T15.I4.D100K T10.I6.D400K T10.I6.D800K T10.I6.D1600K Optimizations across Databases 5 0 5 10 15 20 25 30 35 40 45 Improvement COMP TREE COMP-TREE 1 2 4 8 1 2 4 8 1 2 4 8 2 4 8 2 4 8 1 2 4 8 Processors Databases Figure 5 Effect of Computation and Hash Tree Balancing good as the COMP optimization The reason that the hash tree balancing is not suf\336cient to offset inherent load imbalance in the candidate generation in this case The most effective approach is to apply both optimizations at the same time COMP-TREE The combined effect is suf\336cient to push the improvements in the 40 range in the multiple-processor case On 1 processor only hash tree balancing is bene\336cial since computation balancing only adds extra cost 5.4 Short-circuited Subset Checking Figure 6 shows the improvement due to the short-circuited subset checking optimization with respect to the unoptimized version The unoptimized version is the Apriori algorithm due to Agrawal et al 5 The results are presented for dif ferent number of processors across dif ferent databases The results indicate that while there is some improvement for databases with small transaction sizes the optimization is most effective when the transaction size is large In this case we get improvements of around 25 r the unoptimized version To gain further insight into this optimization consider 336gure 7 It shows the percentage improvement obtained per iteration on applying this optimization on the T20.I6.D100K database It shows results only for the uni-processor case r similar results were obtained on more processors We observe that as the iteration k increases there is more opportunity for shortcircuiting the subset checking and we get increasing bene\336ts of up to 60 The improvements start to fall off t the high end where the number of candidates becomes small resulting in a small hash tree and less opportunity for short-circuiting It becomes clear that is an extremely effective 15 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


 T5.I2.D100K T10.I6.D800K T15.I4.D100K T20.I6.D100K procs across Databases 0 5 10 15 20 25 Improvement 1 2 4 8 Figure 6 Effect of Short-circuited Subset Checking 23456789101112 Iterations 0 10 20 30 40 50 60 improvement T20.I6.D100K Figure 7  Improvement per Iteration  proc   16 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


optimization for larger transaction sizes and in cases where there are large number of candidate k itemsets 6 Conclusions In this paper e presented a parallel implementation of the Apriori algorithm on the SGI Power Challenge shared memory multi-processor We also discussed a set of optimizations which include optimized join and pruning computation balancing for candidate generation hash tree balancing and short-circuited subset checking We then presented experimental results on each of these Improvements of more than 40 were obtained for the computation and hash tree balancing The short-circuiting optimization was found to be extremely effective for databases with large transaction sizes Finally we reported the parallel performance of the algorithm While we d good speed-up we observed a need for parallel I/O techniques for further performance gains References  R Agra wal T  Imielinski and A Swami Database mining A performance perspecti v e  I n IEEE Trans on Knowledge and Data Engg  pages 5\(6 1993  R Agra wal T  Imielinski and A Swami Mining association rules between sets of items in lar ge databases In Proc M SIGMOD Intl Conf Management of Data  May 1993  R Agra wal H Mannila R Srikant H T o i v onen and A I V erkamo F ast disco v ery of association rules In U F et al editor Advances in Knowledge Discovery and Data Mining  MIT Press 1996  R Agra wal and J Shafer  P arallel mining of association rules design implementation and e xperience Technical Report RJ10004 IBM Almaden Research Center San Jose CA 95120 Jan 1996  R Agra wal and R Srikant F ast algorithms for mining association rules In Proc 20th VLDB Conf  Sept 1994  M Cierniak W  Li and M J Zaki Loop scheduling for heterogeneity  I n 4th IEEE Intl Symposium on High-Performance Distributed Computing also as URCS-TR 540 CS Dept Univ f Rochester  Aug 1995  M Holsheimer  M  K ersten H Mannila and H T o i v onen A perspecti v e on databases and data mining In 1st Intl Conf Knowledge Discovery and Data Mining  Aug 1995  M Houtsma and A Swami Set-oriented mining of association rules In RJ 9567  IBM Almaden Oct 1993  H Mannila H T o i v onen and I V erkamo Ef 336cient algorithms for disco v ering association rules In AAAI Wkshp Knowledge Discovery in Databases  July 1994  J S P ark M Chen and P  S Y u  A n e f fecti v e hash based algorithm for mining association rules In Proc M SIGMOD Intl Conf Management of Data  May 1995 17 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


 J S P ark M Chen and P  S Y u  E f 336cient parallel data mining for association rules T echnical Report RC20156 IBM T J Watson Research Center Aug 1995  G Piatetsk y-Shapiro Disco v ery  presentation and analysis of strong rules In G P S et al editor  KDD  AAAI Press 1991  A Sa v asere E Omiecinski and S Na v athe An ef 336cient algorithm for mining association rules in large databases In Proc 21st VLDB Conf  1995  M J Zaki M Ogihara S P arthasarathy  and W  Li P arallel data mining for association rules on shared-memory multi-processors Technical Report 618 Department of Computer Science University of Rochester 618 1996 18 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


