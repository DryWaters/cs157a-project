An Improved Apriori Algorithm Yongge Shi department  of computer Nanchang university NanChang, China e-mail: ncsyg@163.com Yiqun Zhou department  of computer Nanchang university NanChang, China e-mail: yiqun4962@sina.com   Abstract In order to improve effciency of excavation in relational database with multidimensional association rules this paper analyzed Apriori algorithm and BUC algorithm based on practice .Then an improved Apriori algorithm-DGP algorithm which based on the mult-idimensional association rule was presented,it has more efficient and it will be used in 
the relational database.At last it was applied for analyzing the reasons for users’ line which not reach the standard. It can improve the speed of Data mining effectively ,enhance the ability of ADSL line quality’ s analyzing and solving Keywords- Data mining; Mu lti-dimensional association rules; Apriori algorithm BUC algorithm;DGP algorithm I   I NTRODUCTION  Knowledge Discover in Databases\(KDD\s a hot research area in artificial intelligence and the database currently[1 a t a Mi ni ng  D M   w hi c h i s  a ve r y i m po r t a n t  step in KDD, involves various extraction algorithm of knowledge pattern. The data mining is to discover the fixed pattern or the abnormal phenomenon from the data that 
naked eye can’t discover, then summaries, analyzsis, and extracts meaningful information and knowledge.The data mining technology is widely researched and applied in many fields in recent years. Not only in computer-related professional, but also in scientific, statistics, artificial intelligence, clinical medicine etc. and it cannot separate with the database widespread application, but the data mining is precisely the database research, develops and applies a most active aspect. It can’t develop so quickly without the wide used of database. and data mining is one of the most active aspect in database research, development and application. In this information explosion age, database can 
be used in any system. There is mass data in the database, it will have a significance if useful knowledge can be found from these mass data and make the system not only have the OLTP function but also have the OLAP function. Through the data warehouse and data mining system, staff can acquire guidance knowledge and it makes them more efficient in their business area . So the data mining industries are very broad in application prospect. Therefore, data mining has a broad applications prospect in many industries As one of the important part of the data mining Association rules analysis is a very useful knowledge model in database, its mining algorithm has been relatively widely 
focused and researched. And great progress has been made Its algorithm is mainly to discover K itemsets which presents frequently in database and then calculate corresponding association rules. Now many correlation algorithms are improved based on the traditional correlation algorithms including efficiency of the algorithm, excavation interactive excavation language research and increasing excavation research and so on[4   In addition, Multi-dimensional Data analysis and Multidimensional Data Cube,which emerged in recent years, are new and effective methods for Data organization, storage analysis and processing[2  T h e  m u ltid i m e n s io n a l  
connection rule refers to the connection rule which exists between each attribute. This paper is mainly about an improved algorithm based on traditional Apriori mining algorithm which was used in multi-dimensional association rule excavation and in practical project II  ALGORITHM  DESCRIPTION  AND  ANALYSIS At present, the Apriori algorithm is a common algorithm used in data mining association rule analysis, which discovers frequent itemsets by cascade iteration method based on the candidate produces  Bu t A p r i o r i a l g o r i t h m i s  generally used in transaction database which has the characteristics of integrated multiple dimensions, namely 
there are multiple items for each dimension .It must be converted to a transaction database if we want to use Apriori algorithm in a relational database,which is not convenient Moreover, we only need to calculate frequent itemsets between dimensions when calculating frequent itemsets, but the Apriori algorithm possibly calculates dimension's candidate item set, which increases the times of scanning database, cuts the association rule excavation efficiency. The database is generally multi-dimensional in the reality, for example telecommunication enterprise's data, usually stored in relational database and data warehouse, we must make the corresponding improvement using the data cube knowledge 
when excavating in the multi-dimensional association rule The BUC\(Bottom-Up Constructioin\ algorithm, which is commonly used in the computation sparse iceberg cube ,is based on apriori pruning algorithm.It has certain efficiency to calculates the sparse iceberg cube,but it is slower than the Apriori algorithm when it is used to calculate the frequent itemsets. The main reason lies in the BUC algorithm use recursive method which makes both space complexity and time complexity is larger than Apriori algorithm. Therefore 
2010 IEEE International Conference on Granular Computing 978-0-7695-4161-7/10 $26.00 © 2010 IEEE DOI 10.1109/GrC.2010.79 759 


in order to improve the efficiency and keep the multidimensional, this paper puts forward a kind of DGP\(Dimension Group Parallel\lgorithm which is't used recursion,namely this algorithm is designed through group by dimension and divide dimension before the process in order to avoid the repeated division in BUC recursion algorithm A  Algorithm Supposes a cube has A, B, C, D four dimensions, and dimension A has four different value a1, a2, a3, a4; B has four different value b1, b2, b3, b4; C has two different value c1, c2; D also has two different value d1, d2. Add an empty set for each dimension then get the following results 002     4 3 2 1 a a a a 002     4 3 2 1 b b b b 002   2 1 c c 002   2 1 d d Each two dimensions divides into a group, then A, B divides into group 1 L and C, D divides into group 2 L a1 for example, will produce 1 1  b a 2 1  b a 3 1  b a 4 1  b a 002  1 a  002  1 a is an itemset, and 2 L also have the similar candidate two itemsets or an itemset. When 1 L 2 L formed, counting each itemset except 002 002  in 1 L 2 L After pruning, then carries on the connection to form L, which including four candidate itemsets, three candidate itemsets, two itemsets or an itemset For example 1 1 2 1    d c b a is four candidate itemsets 002    1 2 1 c b a is three candidate itemsets 002 002    2 1 c a is two candidate itemsets, then compress the combination which has empty itemset and delete empty itemset. scanning and counting itemset in  We carries the numerical marking to the dimension in the computational process, A, B, C, D were recorded as 0,1,2,3.,then from the beginning time we only needs to scan every two rows which marked 0,1 or marked 2,3 in the relational array when every two dimension connect and count.In this way we reduce the quantity of scanning and there is no need to scan all database when formed an itemset B  Algorithm  description Input: a relational database D, support Output: L \(frequent itemsets main procedure DGP 002Ä\002  1  Create fre_item 002 create fre_item array for frequent itemsets 2  Create fre_item_num 002 create fre_item_num array for the counting of frequent itemsets 3  for 002 i=0;i<dimnumber;i 002  4  dim p ar titi o n 002 i 002Å\002 create divison for demension i according the value of attribute and save //the result 5  n=dimnumber 002  6  d=1 002  7  while 002 n>1 002  8   9  n=n/2 002  10  d=d*2 002 the count of demension 11  k=n%2 002  12  for 002 i=0 002 i<n 002 i 002  13   14  create i thread  15  thread[i i;//s to r e th e v a lu e o f i t o th r e a d a r r a y 001  16   i thread start 002Ä\002 threads start 17   18   Procedure thread 1  create temp_l 002 create temporary array 2  for 002 i=0 002 i<dim[thread[n   c o u n t 002 i 002  3  for 002 j=0 002 j<dim[thread[n   c o unt 002 i 002  4   5  dim[thread[n i  000\024\000\022 dim[thread[n 1][j  002  connection steps 6  using{ dim[thread[n i  002 dim[thread[n 1  j   7  scan d 002 thread[n 1 002 d 002 d 002 thread[n  1 002  at ab as e 002  8  if 002 dim[thread[n i  002  dim[thread[n 1  j  c ou n t s u p p o r t 002  9  temp_l.add 002 dim[thread[n i  002  dim[thread[n 1  j  002Å\002  10  fre_item.add 002 dim[thread[n i 002  dim[thread[n 1  j  002Å\002  11  fre_item.num.add 002 count 002Å\002 save the conut of frequent itemsets 12   13  dim[thread[n c lea r 002Ä\002Å\002 free dim[thread[n  14  dim[thread[n tem p_l 002  C  Algorithm  analysis Compared with the Apriori algorithm, the improved algorithm reduced the number of itemsets in demension when two frequent itemsets formed, so it can reduce the quantity of scanning in relational database. Moreover ,we only need to scan the specific attribute not the whole database when scanning database.namely, before scanning the database, carries on attribute marking for each item when k candidate itemsets formed and determine which column each item belongs to.When scanning the database, there is only need to scan the corresponding column, so it reduce the possibility of scanning the whole database Meanwhile, the improvement algorithm is more suitable for association rule excavation in multi-dimensional 
760 


database, and is advantageous for later's function improvement. For example, analysts can choose attributes that he interest. but the Apriori algorithm is one-dimensional which has only an attribute, therefore it is less flexible than the improved algorithm in attribute choice  III  ALGORITHM  APPLICATION The improvement Apriori algorithm can be used for telecom operators in broadband line classification and in substandard lines’s analysis A  Data pre-processing Test data is the data that didn’t meet the line standards in local network. In here standard of comparison is the average of the actual line-down rate is less than the average of the configuration line-down rate. Cut the basic data cube in statistical analysis report form according to the test condition,then formed a table that didn’t meet the rate standards. The following are the main work of data mining preprocessing 1\ data extraction: This process can be regarded as the process of cutting the basic cube , extract and association analysis the data that didn’t meet the standards in a month And calculate the average value of the same user 2\ data integration: Integrate the extracted data ,the user table and the measuring unit table, and form the excavational table datamine. The user table mainly consists user accounts IP address and port address; etc. The measuring unit table mainly consists the name of the studio and  area’s flag 3\ data cleaning: Process the datamine table by method of ignore the tuple.It will be ignored if the attribute in the record is null 4\ data conversion: Process the attribute Town_flag\(area’s flag\ in measuring unit table by using data generalization method, it will be generalized as downtown if the attribute’s value is A, and it will be generalized as the suburbs if the attribute’s value is B or C. The attribute of Pname equipment name\ill be generalized as huawei MA5600 huawei MA5100 ,ZTE and other equipment. Process other attributes by using discretization method. The discretizated attributes's value will be designated to marked interval.Each attribute will be divided into three barrels by frequency ways, as table 1  Table 1 Quantitative Attributes Discretization Table   Attribut es Barrel 1 Barrel 2 Barrel 3 Interval Attributue flag Interval A ttributue flag Interval A ttributue flag Dnattsp eed 1600 Dnattspee d0 1600  n attspeed1 >2976 D nattspeed2 Dncfgra te 2048 Dncfgrate 0 2048  D ncfgrate1 >3072 D ncfgrate2 Dnsnrm gn 7.6 Dnsnrmgn 0 7.6 D nsnrmgn1 >17 D nsnrmgn2 Dncurra te 1215 Dncurrate 0 1215  D ncurrate1 >2011 D ncurrate2 Dncurat n 10.8 Dncuratn0 \(10.8 D ncuratn1 >27 Dncuratn2  Deviatio n_dn 685 Deviation_ dn0 685  e viation_dn 1 1387 Deviation _dn2  The database formed by data extraction, integration cleaning, and conversion.The follow shown is part of the result Fig. 1 data excavation databse B  Data  maintaining After this, we can excavate the data excavation database by using the improved Apriori algorithm. For example, when set support=20% and confidence=50%, excavate the database with association rules.We can get the following significant rules DNCFGRATE – 0=> DOWNTOWN, support =27.8 and confidence = 68 DNCFGRATE – 0=> DNATTSPEED - 0, support 22.0% and confidence = 54 Huawei MA5100 && DOWNTOWN DNCURATN=>0 support=21.6% and confidence= 51 Huawei MA5600=> DNSNRMGN - 0, support =20.5 and confidence= 50 Huawei MA5600=> DNCURATN - 2, support=30.1 and confidence=73 DNATTSPEED – 0=> DNCURRATE - 0, support 26.0% and confidence= 77 DNCFGRATE – 0=> DNCURRATE - 0, support = 54 and confidence= 54  Rule 1  It is usually downtown users in those who’s line did’nt meet the standards if he has a low configuration linedown rate. So we can do a concentration remediate in downtown Rule 2  It will make the up line-down rate low if the configuration line-down rate is low,which will the line don't meet the standards.For those users, we should check configuration problem Rule 3  Huawei MA5100 in downtown attenuate very fast,so we can check such equipment Rule 4  We should inspect Huawei MA5600 because such equipment has low noise tolerance and it will lead to error and packet loss 
761 


Rule 5 It is one of the reasons for users drop and substandard that Huawei MA5600 attenuate very fast Rule 6 If the up line-down rate is low, the actual linedown rate will be low too, and it will make the line wouldn't meet the standards.So we shoud remediate the line of such users Rule 7 It will make the actual line-down rate low if configuration line-down rate is low. So we can check the configuration rate Thus, the telecommunications staff can use these regular expressions produced by association rules in the broadband line management.It not only can qualitative analyze various problems,but also can pre-process and make a concentration remediate  IV   C ONCLUSION  With specific application requirements for telecom broadband line quality analysis and in order to improve effciency of excavation in relational database with multidimensional association rules. this paper presented an improved Apriori algorithm-DGP algorithm which based on the multi-dimensional association rules. And it was applied for analyzing the reasons why users’ line  didn't meet the standards. Practical application shows that the improved algorithm can effectively improve the speed of data mining and enhance the ability of ADSL line quality’ s analyzing and solving    R EFERENCES  1  Joyce Bischoff, Ted Alexander. Data warehouse technology   ChengDong,Wei Liyuan.Translate. Beijing: Electronic Industry Press since.1998 2  Pei Jian,Cai Wei,Tang Shiwei,etc.OLAP data cube algebra[J  Software journal,1999 ,6 \(10\ : 561 - 569 3   JiaWeiHan,Micheline Kamber.Data Mining Concepts and Techniques  F a n Mi n g  X i a o-Fen g  M e n g  T ra n s la t e  S ec ond edition.Beijing.Machinery Industry Press.2 005 4  Huang Yu.Association Rules in Telecommunication Alarm Systems Research and Application[D  U n i vers i t y of E l ec t r on i c Sci e n c e a nd Technology,2007 5  Hu Kai.Association rule mining algorithm and its application in telecommunications[D Z he ji ang U n i v e r s i ty 200 8  6  Cheng JingBo.CRM Data Mining for Telecommunications Research[D  S o ut he ast U n iv e r sity 20 0 6   7  Hai-Lin Xiao.Network Alarm Association Rules Mining System Design[D n iv e r s i ty o f E l e c tr o n ic S c ie nce  an d T e ch no l o gy 200 7  8  J.Hipp,U.Guntzer,G.Nakhaeizadeh. Algorithms for association rule mining-a general survey and comparison.[C  SI GK D D  Explorations,2000:58-64 9  M.Raty and A.Kangas.Localizing general models with classification and regression trees[J  Scan di na vi an  j o u r n a l of F o res t  Research,2008:419-430   S.Akhtar,A proposed model to use ID3 algorithm in the classifier of A network intrusion detection system[C  P r o c e e d ing s o f t h e I N M I C 2005:9th International Mulitopic        Conference,2005:205-212,788   P.He,L.Chen,and X.H.Xu.Fast C4.5  Proc eed in gs of 20 07 International Conference on Machine Learning and Cybernetics,2007:2841-2846,4236   J.W.Han,H.Cheng,D.Xin,and X.F.Yan.Frequent pattern mining:current status and future directions[J a ta M i ni ng a n d  Knowledge Discovery,2007:55-86   
762 


Esc.Coli in our case so we should be prepared to avoid the spread of this organism We claim hospitals could bene\002t from this framework and can exploit all these observations in order to prevent hospital-acquired infections Figure 2 presents some of our predictions It is clear from the results that predicted values for con\002dence and leverage are very close to the real values and assure thus a robust prediction framework in this context The prediction error is calculated as follows error  j expectedvalue 000 predictedvalue j  Figure 2 con\002dence and leverage values which produced via the Apriori Algorithm As we can see at the values there are some repeated peaks of the leverage and con\002dence among the time which inform us about high Sensitivity\(S at the antibiotic AMC of the E.coli organism eco Regarding the linear regression method we used ten 10 time points in order to determine the curve  y  ax  b see section 2.3 and we predicted six 6 time points based on curve which calculated before In the graph of 002g.3 is illustrated the amount of prediction error and is indicated how low is for each rule Through the Linear regression we can predict the future importance of the rule and as a result forecast outbreaks to the presence of a pathogen organism For example If a rule like Urine Gr0061 out t1  E:coli occurred with a con\002dence near the value 1 we could inferred that in the urine at Gr0061 and in the outpatient department and at the time point t1 Escherichia coli is isolated in a rate higher than expected Furthermore due to the visualization Figure 3 Regression Error rate for predicted con\002dence and leverage values of the data we can observe some repeated trends and patterns during the months 3.2.2 Classi\002cation Valid and reliable automatic disease classi\002ers are considered as vital components of a antibiotic resistance monitoring system In our work we measured the actual performance of three classi\002ers Naive Bayes SVM C4.5 implemented in the open source library of Weka 3.7 designed to early detect special cases of antibiotic resistance that have regularly occurred often in hospitals We formulated a classi\002cation problem aiming to predict the antibiotic resistance of a pathogen based on data concerning the following attributes hospital specimen group department of a hospital the pathogen organism and the respected season The accuracy results of our implementation are shown in Table 4 As we can see all three algorithms have similar results according to the measures mentioned above However Support Vector Machines has achieved the best results in comparison to the rest of the algorithms according to F-measure which is essential for distinguishing accurate from inaccurate structures Furthermore TPrate values are considerably high which means that all three algorithms can predict correctly pathogen organisms which may observed in a hospital With this type of predictions it is feasible to forecast possible diseases that could be acquired during the upcoming trimester and the resistance on antibiotics for these diseases These algorithms models are being trained on historical data stored in our data warehouse and a prediction on the antibiotic resistance of the pathogen organism is made for the next trimester For a example for a given organism spec 


imen group antibiotic hospital and season we can predict with 98 percent accuracy the antibiotic resistance for the speci\002c organism In Table.2 we illustrate a prediction accuracy of each aforementioned algorithm Measure Model Naive Bayes C4.5 SVM TP Rate 0.946 0.935 0.978 FP Rate 0.469 0.78 0.157 Precision 0.942 0.915 0.978 Recall 0.946 0.935 0.978 F-measure 0.943 0.919 0.978 Table 4 Prediction Quality for Escerichia coli The results are apparently very attractive as all the used measures reveal a quite precise prediction rate for all measures and algorithms In most of the cases the Support Vector Machines algorithm gives the best prediction results 4 Conclusion and Discussion Surveillance of nosocomial infections as well as antibiotic resistance are two of the most important functions of a hospital infection control program In public health and more speci\002cally in surveillance of antibiotic resistance it is important to discover new associations and patterns before they become widely spread in a hospital or a region Furthermore is real important to predict future behavior from epidemic data in order for hospitals to be prepared for outbreaks at the isolation of pathogen organisms In this paper we have presented a fully functional and implemented framework for predictions and visualization for in this context The systems capitalize on the real world data of the Greek national network for continuous monitoring of bacterial antibiotic resistance in the Greek hospitals Greek System for the Surveillance of Antimicrobial Resistance in place since 1995 W e achie v ed rob ust and accurate predictions that are quite promising in terms of better understanding the problem and patterns of Nosocomial infections Moreover the system offers a friendly interface which could be used by people who are not data mining experts The results were achieved using data with patients over the last seven years Finally future work will be devoted in using larger data set collections spanning proactive time periods Likewise infection control systems require or will require data mining tools such as clustering for further research about future trends The system implementation and full functionality is available on line at http://195.251.235.83/en/index.html  References  R P  T rueblood J N Lo v ett,Jr  Data Mining and Statistical Analysis Using SQL Apress Berkeley California 2001  Eugenia G Giannopoulou V  P  K emerlis Michalis Polemis J Papaparaskevas Alkiviadis C Vatopoulos Michalis Vazirgiannis A Large Scale Data Mining Approach to Antibiotic Resistance Surveillance cbms pp.439-444 Twentieth IEEE International Symposium on Computer-Based Medical Systems 2007  Myk ola Pechenizkiy  Ale x e y Tsymbal Seppo Puuronen Michael Shifrin Irina Alexandrova Knowledge Discovery from Microbiology Data Many-Sided Analysis of Antibiotic Resistance in Nosocomial Infections in WM05 3rd International Conference on Professional Knowledge Management Experience and Visions Kaiserslautern Germany pp 360-372 April 2005  G Cohen M Hilario H Sax S Hugonnet C Pellegrini A Geissbuhler An Application of One-Class Support Vector Machines to Nosocomial Infection Detection in In Proc of Medical Informatics 2004  Brossette SE Sprague AP  Jones WT  et al A data mining system for infection control surveillance Methods Inf Med 2000;39:303-10  V atopoulos A C Kalapothaki V  Le g akis NJ An electronic network for the surveillance of antimicrobial resistance in bacterial nosocomial isolates in Greece The Greek Network for the Surveillance of Antimicrobial Resistance Bull World Health Organ 1999;77:595-601  O'Brien TF  Stelling JM WHONET  an information system for monitoringantimicrobial resistance Emerg Infect Dis 1995;1:66  Stelling JM WHONET  remo ving obstacles to the full use o\002nformation about antimicrobial resistance Diagn Microbiol Infect Dis 1996;25:162-8  Samore M Lichtenber g D Saubermann L Ka w achi C Carmeli Y A clinical data repository enhances hospital infection control Proc AMIA Annu Fall Symp 1997:56?60  Sterlin P  Ov er\002tting pre v ention with crossvalidation Master?s thesis University Pierre and Marie Curie Paris VI Paris France 200 


