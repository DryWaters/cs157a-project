Discovering Calendar-based Temporal Association Rules Yingjiu Li Peng Ning X Sean Wang Sushi1 Jajodia Center for Secure Information Systems George Mason University Fairfax VA 22030 USA yli pning xywang jajodia ise.gmu.edu Abstract A temporal association rule is an association rule that holds during spec time intervals An example is that eggs and coffee are frequently sold together in moming hours This paper studies temporal association rules dur ing the time intervals specijied by user-given calendar schemas Generally, the use of calendar schemas 
makes the discovered temporal association rules easier to under stand An example of calendar schema is yeal month day which yields a set of calendar-based pattems of the form d3 dz dl where each di is either an integer or the symbol  For example 2000  16 is such a pattem which cor responds to the time intervals each consisting of the 16th day ofa month in year 2000 This paper defines two types of temporal association rules precise-match association rules that require the association 
rule hold during every interval and fuuy-match ones that require the association rule hold during most of these intervals The paper extends the well known Apriori algorithm and also develops two optimiza tion techniques to take advantage of the special properties of the calendar-based pattems The experiments show that the algorithms and optimization techniques are eflective 1 Introduction Among various types of data mining applications the analysis of transactional data has been considered impor tant The notion of association rule was proposed to capture the cooccurrence of items in transactions 
111 For example given a database of orders transactions placed in a restau rant we may have an association rule of the form egg coffee support 3 confidence 80 which means that 3 of all transactions contain the items egg and coffee and 80 of the transactions that have the item egg also have The work was partially supported by ARO under contract number DAAG-55-98-1-0302 Work of Wang was also partially supported by the NSF Career award 98751 14 the item coffee in them The two 
percentage parameters are referred to as support and conjidence respectively An interesting extension to association rules is to include a temporal dimension. For example if we look at a database of transactions in a supermarket we may find that turkey and pumpkin pie are seldom sold together However, if we only look at the transactions in the week before Thanksgiv ing we may discover that most transactions contain turkey and pumpkin pie i.e the association rule 223turkey  pump kin pie\224 has a high support and a high confidence in the transactions that happen in the week before Thanksgiving 
The above suggests that we may discover different asso ciation rules if different time intervals are considered Some association rules may hold during some time intervals but not during others Discovering temporal intervals as well as the association rules that hold during the time intervals may lead to useful information For example by considering each IP packet in a computer network as a transaction and the attributes in the IP header as items in the transaction we can use temporal association rules to represent normal network activities in different time periods of 
a day; attacks to the network may be flagged when the network behaves differently from its normal behaviors Informally we refer to the association rules along with their temporal intervals as temporal association rules In this paper we propose to use calendar schemas as frame works to discover temporal association rules A calendar schema is determined by a hierarchy of calendar units For example, a calendar schema can be year month day A calendar schema defines a set of simple calendar-basedpat tems or calendar pattems for short For example given the above calendar schema 
we will have calendar pattems such as every day of January of I999 and every I6th day of January of every year Basically, a calendar pattem is formed for a calendar schema by fixing some of the cal endar units to specific numbers while leaving other units 223free\224 so it\222s read as 223every\224 It is clear that each calendar pattem defines a set of time intervals We assume that the transactions are timestamped so we can decide if a transaction happens during a specific time 0-7695-1 107401 10.00 0 2001 IEEE 111 


interval. Given a set of transactions and a calendar schema our first interest is to discover all pairs of association rule and calendar pattern such that for each pair T e the as sociation rule r satisfies the minimum support and confi dence constraint among all the transactions that happen dur ing each time interval given by the calendar pattern e For example we may have an association rule turkey i pump kin pie along with the calendar pattern every day in every November We call the resulting rules temporal association rules w.~t precise match In some applications the above temporal association rules may be too restrictive Instead we may require that the association rule hold during 223enough\224 number of inter vals given by the corresponding calendar pattem For ex  ample the association rule turkey  pumpkin pie may not hold on every day of every November but holds on more than 80 of November days We call such rules temporal association rules w.r.t fizzy match Our data mining problem is to discover from a set of timestamped transactions all temporal association rules w.r.t precise or fuzzy match for a given calendar schema We extend an existing algorithm Apriori 2 to discover all such temporal association rules In addition based on the observation that the calendar patterns formed from a calen dar schema are not isolated but related to each other we de velop two optimization techniques called temporal aprior iGen and horizontal pruning which can be applied to both classes of temporal association rules with some adaptation Our contribution in this paper is two-fold First we de velop a new representation mechanism for temporal associ ation rules based on calendars and identify two classes of interesting temporal association rules Our representation  requires less prior knowledge than the previous methods and the resulting rules are easier to understand Second, we extend Apriuri and develop two optimization techniques to discover both classes of temporal association rules Experi ments show that our optimization techniques are effective The rest of the paper is organized as follows The next section defines temporal association rules in terms of cal endar patterns Section 3 extends Apriori to discover large itemsets for temporal association rules and presents our op timization techniques. Section 4 presents the experimental evaluation of our algorithms. Section 5 describes the related work and section 6 concludes the paper 2 Problem Formulation 2.1 Simple Calendar-based Pattern A calendar schema is a relational schema R  G  D G,-1  Dn-l   G1  01 with a valid constraint Each attribute G is a granularity name like year month and week Each domain D is a finite subset of the positive  integers The constraint valid is a Boolean function on D  x D,-1 x   x D1 specifying which combinations of the values in D x D,-1 x  x D1 are 223valid\224 The purpose is to exclude the combinations that we are not interested in or that do not correspond to any time intervals For example if we do not want to consider the weekend days and holidays we can let valid evaluate to False for all such days For brevity we omit the domains D and/or the constraint valid from the calendar schema when no confusion arises Given a calendar schema R  G  Dn,Gn--l  Dn-1   G1  Dl a simple calendar-based pattem or calendar pattem for short on R is a tuple of the form d d,-1   dl where each d is in D or the wild-card symbol  The calendar pattern dn dn-1  dl repre sents the set-of time intervals intuitively described by \223the 4h G1 of the dih Gs    of dkh G,.\224 If d is the wild card symbol 221*\222 then the phrase \223the dth\224 is replaced by the phrase \223every\224 For example given the calendar schema week, day hour the calendar pattern   1 lo means \223the 10th hour on the first day i.e Monday of every week\224 Each calendar pattern intuitively represents the time inter vals given by a set of valid tuples in D x D,-1 x   x D1 We say a calendar pattern e covers another calendar pat tern e\222 in the same calendar schema if the set of time in tervals of e\221 is a subset of the set of intervals of e For example given the calendar schema week day huw l,*,lO covers l,l,lO It is easy to see that for a given calendar schema G G,-1   GI a calendiir pattern GI dn-l    dl covers another calendar pattern d dLp1    di if and only if for each i 1 5 i 5 n either d  221*\222 or d  d For simplicity we require that in a calendar schema G G 1    GI each unit of G is contained in a unit of G,+1 for 1 5 i  n For example month,day is allowed since each day is contained a unique month How ever the schema year month week is not allowed be cause a uleek may not be contained in a unique month For the sake of presentation, we call a calendar pattem with k wild-card symbols a k-star calendar pattem de noted e and a calendar pattern with at least one wild-card symbol a star calendarpattem In addition we call a calen dar pattern with no wild-card symbol i.e., a 0-star calendar pattern a basic time interval if the combination is 223valid\224 2.2 Teimporal Association Rules Let us first review the concept of association rule which was originally presented in l Let Z denote a set of data items Both transaction and itemset are defined to be sub sets of 1 Given a set 7 of transactions an association rule of the form X  Y is a relationship between the two dis joint itemsets X and Y An association rule satisfies some user-given requirements The support of an itemset by the 112 


set of transactions is the fraction of transactions that contain the itemset An itemset is said to be large if its support ex ceeds a user-given threshold minsupport The confidence of X  Y over 7 is the fraction of transactions contain ing X that also contain Y The association rule X  Y holds in 7 if X U Y is large and its confidence exceeds a user-given threshold mincon f idence We assume that each transaction is associated with a timestamp e.g November I 2000 Given a basic time interval t or a calendar pattern e on a calendar schema we denote the set of transactions whose timestamps are covered by t or e as 7[t or 7[e Syntactically, a temporal association rule over a calen dar schema R is a pair r e where r is an association rule and e is a calendar pattern on R However multiple mean ingful semantics can be associated with temporal associa tion rules For example given a set of transactions one may be interested in the association rules that hold in the transactions on each Monday or the rules that hold on more than 80 of all Mondays, or the rules that hold in all trans actions on all Mondays \(i.e consider the transactions on all Mondays together In the following we identify two classes of temporal association rules on which we focus in this paper Other kinds of temporal association rules may be interesting but we consider them as possible future work Precise Match Given a calendar schema R  G G,-1     GI and a set 7 of timestamped transactions, a temporal association rule r e holds w.st precise match in 221T if and only if the association rule r holds in 7[t for each basic time interval t covered by e For example, given the calendar schema year month Thursday we may have a temporal asso ciation rule turkey  pumpkin pie  11,4 that holds w.r.t precise match This rule means that the association rule turkey  pumpkin pie holds on all Thanksgiving days i.e the 4th Thursday in November of every year Fuzzy Match Given a calendar schema R  Gn,G,-l,...,G1 a set 7 of timestamped transactions and a real number m 0  m  1 called match ratio a temporal association rule r7 e holds wxt fuuv match in 7 if and only if for at least loom of the basic time intervals t covered by e the association rule r holds in 7[t For example, given the calendar schema year month day and the match ratio m  0.8 we may have a temporal association rule turkey  pumpkin pie  11  that holds w.r.t fuzzy match This means that the association rule turkey  pumpkin pie holds on at least 80 of the days in November Given a calendar schema we want to discover all inter esting association rules with all their calendar patterns w.r.t precise match and fuzzy match respectively Note that in many cases we are not interested in the association rules that only hold during basic time intervals Temporal Association Rules w.r.t Temporal Association Rules w.r.t 3 Finding Large Itemsets 3.1 Overview of Our Algorithms Mining temporal association rules can be decomposed into two steps: \(1\finding all large itemsets for all star cal endar patterns on the given calendar schema, and 2 gen erating temporal association rules using the large itemsets and their calendar patterns The first step is the crux of the discovery of temporal association rules in the following we will focus on this problem The generation of tempo ral association rules from large itemsets and their calendar patterns is straightforward and can be resolved using the method discussed in 2 The algorithm Apriori consists of a number of passes During pass k the algorithm tries to find large k-itemsets Lk i.e itemsets with IC items that have at least the min imum support from a set of candidates Ck through counting the support of each candidate against the entire database The set of candidates ck is generated from the set of large \(k-1 Lk-1 ensuring that all IC  1 item subsets of each candidate in ck are in Lk-1 We extend Apriori 2 to discover large itemsets w.r.t precise and fuzzy match When precise match is consid ered the input of our algorithms consists of a calendar schema R a set 7 of timestamped transactions, and a min imum support minsupport When fuzzy match is consid ered, an additional input a match ratio m is given De pending on the data mining tasks, our algorithms output the large itemsets for all possible star calendar patterns on R in terms of precise match or fuzzy match Figure 1 shows the outline of our algorithms This out line is generic for both precise and fuzzy match as well as with and without our optimization techniques discussed later For different algorithms, appropriate procedures will be supplied.\The algorithms work in passes In each pass the basic time intervals in the calendar schema are pro cessed one by one During the processing of basic time interval eo in pass IC the set of large k-itemsets Lk\(eo is first computed and then Lk\(e0 is used to update the large k-itemsets for all the calendar patterns that cover eo The first pass is specially handled In this pass, we com pute the large 1-itemsets for each basic time interval by counting the supports of individual items and comparing their supports with minsupport In the subsequent passes we divide the processing of each basic time interval into three phases Phase I generates candidate large itemsets for the basic time interval Phase I1 reads the transactions whose timestamps are covered by the basic time interval updates the supports of the candidate large itemsets and discovers large itemsets for this basic time interval Phase III uses the discovered large itemsets to update the large itemsets for each star calendar pattern that covers the basic 113 


1 forall basic time intervals eo do begin 2 3 4 5 end 6 for k  2 3 a star calendar pattern e such that 7 8 9 10  subset Ck\(eo T  ccount  if IC E Ck eo is contained in T 11 L1 eo  large 1-itemsets in 221?-[eo forall star patterns e that cover eo do update L1 e using LI eo Lk-l\(e 0;Ic ford basic time intervals eo do begin  Phase I generate candidates generate candidates ck eo   Phase II scan the transactions forall transactions T E 221?-[eo do eo  c E Ck\(eo 2  Phase 111 update for star calendar patterns forall star patterns e that cover eo do minsupport 12 13 update e using Lk\(e0 14 end 15 16 end Output Lk e e for all star calendar pattern e Figure 1 Outline of our algorithms for finding\221 large k-itemsets time interval At the end of each pass it outputs the set of large k-itemsets Lk e for all star pattems e w.r.t precise or fuzzy match Phase I is the-critical step Indeed, the fewer candidate large itemsets are generated in phase I the less time phase II will take Several observations can be used to reduce the number of candidate large itemsets We will discuss phase I in detail in the following subsections Phase II is performed in the same way as in Apriori by using the candidate large itemsets generated in phase I We use a hash tree to store all candidate itemsets for a basic time interval eo and scan all transactions in T[eo to com pute their supports In Figure 1 function subset traverses\221 the hash tree according to transaction T and increments the supports of the candidate itemsets contained in T Then the set of large itemsets for eo Lk eo is computed by remov ing the itemsets that do not have the minimum support Now let us explain phase 111 After the basic time interval eo is processed in pass k the large k-itemsets for all the calendar pattems that cover eo are updated as follows For precise match this is done by intersecting the set Lk\(e0 of large k-itemset for the basic time interval eo with the set Lk\(e of large k-itemsets for the calendar pattem e i.e Lk\(e  Lk\(e n Lk\(e0 Certainly Lk\(e  Lk\(e0 when Lk\(e is updated for the lirst time It is easy to see that after all the basic time intervals are processed, the set of large Ic-itemsets for each calendar pattem consists of the k-itemsets that are large for all basic time intervals covered by the pattem Update for fuzzy match is a little more complex We as sociate a counter capdate with each candidate large item set for each star calendar pattem The counters are ini tially set to 1 When Lk\(e0 is used to update Lk\(e in phase 111 the counters of the itemsets in L k e that are also in Lk\(e0 are incremented by 1 and the itemsets that are in Lk\(e0 but not in Lk\(e are added to Lk\(e with the counter set to 1 Suppose there are totally N basic time intervals covered by e and this is the n-th update to L e We drop an itemset if its counter c-update does not satisfy c-update  N  n 2 m  N It is easy to see that a dropped itemset cannot be large for e on the other hand if an item set remains in Lk\(e then its counter c-update  m  N since it is not dropped in the last update 3.2 Generating Candidate Large Itemsets 3.2.1 Direct-Apriori A naive approach to generating candidate large itemsets is to treat each basic time interval individually ahd directly apply Apriori\222s method for candidate generation We call this approach Direct-Apriori for precise or fuzzy match de pending on the context Phase I of Direct-Apriori is instan tiated as follows Ck\(e0  aprioriGen\(Lk-l\(e0 Here function aprioriGen is used to generate Ck\(eo the set of candidate large k-itemsets, from the set of large k-1 itemsets Lk-l\(eo ensuring that all IC  1\subsets of each ciindidate in Ck\(e0 are in Lk-l\(eo  According to Apriori 2 the set of candidate large k itemsets CI eo is a super set of all the large k-itemsets for eo Thus, phase I1 of the algorithm will correctly gen erate the set of large k-itemsets for eo By the argument in subsection 3.1 for each calendar star pattem e Lk\(e will consist of the k-itemsets that are large w.r.t precise or fuzzy match\for e after all the basic time intervals are processed 3.2.2 Temporal-Apriori Note that in many cases we may not be interested in the as sociation rules that only hold in basic time intervals Direct Apriori does not take this into consideration and thus may lead to unnecessary data processing In the following we present two optimization techniques, which we call tempo ral aprioriGen and horizontal pruning to improve the can didate generation for situations where temporal association rules for basic time intervals are not considered The re sulting algorithm is called Temporal-Apriori for precise or fuzzy match according to the context 114 


Temporal aprioriGen is partially based on the assump tion mentioned above Since we do not need to find the large itemsets for basic time intervals, we do not need to count the supports for all the potentially large Ic-itemsets generated by Ck\(e0  aprioriGen\(lk-l\(e0 for each basic time interval eo Indeed we only need the supports of the itemsets that are potentially large for some star calendar patterns that covers eo In other words given a basic time interval eo if a candidate large k-itemset cannot be large for any of the star calendar pattems that cover eo we can ignore it even if it could be large for eo Therefore, we can generates candidates Ck eo as follows Example 1 Consider a fuzzy-match temporal association rule discovery using the calendar schema R  week  1,-..,5},day  1,...,7 Suppose we have com puted the following large 2-itemsets L2\(\(3,2  AB AC AD AE, BD CD CE L2\(\(*,2  AB AC AD BC BD CE L2\(\(3  AB AC AD BD CD and L2  AB AD BD CD AC AE To compute the candidate large 3-itemsets for the basic time interval 3,2 we first get LT  L2\(\(*,2 n L2\(\(3,2  AB AC AD BD CE and then gener ate C3\(\(*,2  aprioriGen\(LT  ABD Similarly wecanget C3\(\(3  ABD,ACD andC3  ABD ACE Then the set of candidate large 3-itemsets is C3\(\(3,2  C3 2 U C3\(\(3  U C3  ABD ACD ACE 0  The above method works well for both precise and fuzzy match Note that we can use Lk-l\(e instead of Lk-l\(e n Lk-l\(eo for precise match, since Lk-l\(e is a subset of Lk-1 eo Moreover we can improve the can didate generation for precise match on the basis of the fol lowing Lemma Lemma 1 Given a star calendar pattem e an itemset is large for e wxt precise match only if it is large w.r.t precise match for all 1-star calendarpattems covered by e Consider CI eo the set of candidate large k-itemset for eo We only need Ck eo to generate large itemsets for pat terns e that cover eo According to Lemma 1 an itemset is large for a given star calendar pattern e only if it is large for all 1 star calendar patterns covered by e Thus we can generate the candidate large k-itemsets k  1 for precise match as follows Crc\(eo  U COuerS eo aprioriGen\(b-l\(e1 Example 2 Consider a precise-match temporal association rule discovery using the calendar schema R  week  1,...,5},day  1,..-,7 Suppose we have the fol lowing large 2-itemsets L2\(\(3,2  AB AC AD AE BC BD CD CE L2\(\(*,2  AB AC 115 AD BC BD CE andL2\(\(3  AB AC AD BD CD To compute the candidate large 3-itemsets for 3,2 we will first generate C3 2  ABC ABD and C3\(\(3  ABD,ACD Then the set of candidate large 3-itemsets is C3\(\(3,2  C3\(\(*,2 U C3\(\(3  ABC, ABD ACD In contrast, if we use Direct-Apriori, we will generate the candidates from L2\(\(3,2 and have the set of candidate large 3-itemsets as CA\(\(3,2  ABC, ABD ACD ACE BCD 0 Our second optimization technique horizontal pruning is also based on Lemma 1 but applied during a pass We first discuss the precise match case Consider pass k For each basic time interval eo we update among oth ers Lk\(e1 for each el that covers eo After the first time Lk\(e1 is updated, for every eo processed we update el to be Lk\(e1 n Lk\(eo i.e drop the itemsets in Lk\(e1 that do not appear in Lk\(e0 Hence, after the first time Lk el is updated LI el always contains all the large Ic-itemsets for el plus other itemsets that will eventually be dropped In other words at any time of the processing \(ex cept before the first update if a Ic-itemset 1 does not appear in Lk\(el is notlarge forel Now we can use the tentative Lk\(e1 i.e updated at least once to prune the candidate large k-itemsets in Ck eo as follows If an itemset 2 in Ck\(e0 does not appear in any of the tentative Lk\(el where el is a 1-star pattern that covers eo then 1 cannot be large for any star pattern e that covers eo Indeed any star pattern e covering e 0 must cover at least one of the 1-star pattems that cover eo Let this particular 1-star pattern be e Since I is not large for any 1 star pattern that covers eo 1 is not large for e By Lemma 1 1 cannot be large for e and we may drop 1 from ck eo Example 3 Let us continue example 2 Suppose when 3,2 is being processed we already have L3 2  ABD and L3\(\(3   ABD ACD Then we can further prune C3\(\(3,2 which is ABC,ABD,ACD by C3\(\(3,2  73\(\(3,2 J53 2 U L3\(\(3   ABD ACD 0 Horizontal pruning for precise match cannot be directly applied to fuzzy match This is because fuzzy match al lows a large itemset to be small for some basic time inter vals Nevertheless, a similar idea can be applied to fuzzy match The idea is based on the observation that an item set is not large for a calendar pattern if it is not large for a certain number of basic time intervals covered by the pat tern For example, an itemset 1 can never be large for 80 of all Mondays if it is already known not to be large for 20 of the Mondays Therefore we discard the candidate large itemsets for eo that cannot be large for any star pattern e that covers eo even if these itemsets are large for eo Example 4 Let us continue example 1 We already have c3\(\(3,2  ABD ACD ACE Suppose all of L3 2 L3\(\(3  and L3  have been up 


dated at least once Then we can update a copy of L3  2 with C3 3,2 and get the result for example C3\(\(*, 2  ABD, ABE If we also get C3\(\(3   ABD, ACD and C3   ABD then C3\(\(3,2 canbeprunedasC3\(\(3,2  C3\(\(3,2 C3\(\(*,2 0 We prove the correctness of Temporal-Apriori for pre cise match as follows First we show that the algorithm has the same output as Direct-Apriori if for each e 0 it uses a super set of the union of large k-itemsets for all 1-star calendar patterns that cover eo Then we prove the equiv alence of Temporal-Apriori and Direct-Apriori by showing that the set of candidate large IC-itemsets used for each basic time interval in Temporal-Apriori is such a super set The correctness of Temporal-Apriori for fuzzy match is proved similarly This result is summarized in the following Lem mas arid Theorems Please refer to SI for the details Lemma 2 If Temporal-Apriori for precise match uses a su per set of Ue covers eo Lk\(e1 as the set of candidate large k-itemsets for each eo then it has the-same output as Direct Apriori for precise match Theorem 1 Temporal-Apriori for precise match is equiva lent to Direct-Apriori for precise match Lemma 3 If Temporal-Apriori forfuzzy match usesa super set of U covers eo Lk\(e as the set of candidate large k itemsets for each eo then it has the same output as Direct Apriori forfuzzy match Theorem 2 Temporal-Apriori for fuuy match is equivalent to Direct-Apriori for fuzzy match C3\(\(3  U C3   ABD ACD 4 Experiments To evaluate the performance of our algorithms and opti mization techniques, we performed a series of experiments using both a real-world data set \(KDD Cup 2000 7 and synthetic data sets Due to space reasons we only report the results on the synthetic data sets in this paper A de tailed description of the experiments is available in 8 In order to generate data sets with various characteris tics we extend the data generator proposed in 2 to in corporate temporal features For each basic time interval eo in a given calendar schema, we first generate a set of maximal potentially large itemsets called per-interval item sets and then generate transactions 7[eo from per-interval itemsets following the exact method in 2 Specifically the sizes of each transaction and each per-interval itemset are picked from Poisson distribution with mean p equal to IT1 and 111 respectively Each per-interval itemset is gen erated by copying a half of its items from its previous one the first per-interval itemset is generated totally randomly and randomizing the other half Each per-interval itemset  Meaning Number of transactions per Avg size of the transactions Average size of the maximal potentially large itemsets Num of per-interval itemsets Num of items basic time interval Pattern-ratio Num of star calendar patterns Der oattem itemset Default value 10,Ooo 10 4 1 OOo 1 OOo 0.4 40 Figure 2 Parameters for data generation is also assigned a weight from an exponential distribution with unit mean After all per-interval itemsets are gener ated eaclh transaction is formed by incorporating a set of per-interval itemsets selected according to their weights To model the phenomenon that some itemsets may have temporal patterns but others may not we choose a subset of the per-interval itemsets from a common set of itemsets calledpanern itemsets shared by all basic time intervals but generate the others independently for each basic time inter val We use a parameterpattern-ratio, denoted Pr  to decide the percentage of per-interval itemsets that should be cho sen from the pattern itemsets To decide which pattern itemsets should be used for a ba sic time interval we associate several star calendar patterns with each pattem itemset For each basic time interval we choose itemsets repeatedly and randomly from the pattern itemsets until we have enough number of pattern itemsets Each time when a pattern itemset is chosen, we use it as a per-intend itemset if it has a calendar pattern that covers the basic time interval otherwise theitemset is ignored We use a parameter N to adjust this feature such that the number of calendar patterns assigned to each pattern item set conforms to a Poisson distribution with mean N The calendar patterns assigned to pattem itemsets are se lected from the space of all star calendar patterns In order to model the phenomenon that the calendar patterns cover ing more basic time intervals are less possible than those covering fewer ones we associate with each calendar pat tern a weight which corresponds to the probability that this calendar pattern is selected The weight of a calendar pat tern is set to 0.5k where IC is the number of wild-card sym bols in the calendar pattern The weight is then normalized so that the sum of the weights of all calendar patterns is 1 Our data generation procedure takes the calendar schema year   1995  1999 month day and the parameters shown in1 Figure 2 To examine the performance of the al gorithms, we generated a series of data sets by varying one parameter while keeping others at their default values The size of thie data sets ranges from 739 MB to 5.41 GB 116 


O'h Minimum support  1owM d Fuzzy malch mO.9 minsup=0.75 3 4 5 6 Pass Number a Precize match tnmwtk0.75  TemporaLApliori  Diruct-Apriwi zoo 4 5 6 Avg sized potentially large temseo Ill Q Furry match m0.0 mhup=O 75 O3  Minimum supxt  e Pm&a match minsup.O.75 I h Furry match mO.9 mlnsupO.75  m 1 0.95 0.9 0.8 0.7 Match ratio in I 3 4 5 6 Paso Number f P match mW.75 1woO I Scale-up tests for TemporaU\\prkri mhsup=0.759  Figure 3 Experimental result on synthetic data sets Figures 3\(a and 3\(b show the effectiveness of our opti mization techniques For precise match Temporal-Apriori is 5 to 22 times faster than Direct-Apriori for fuzzy match Temporal-Apriori is 2.5 to 12 times faster than Direct Apriori Figures 3\(c and 3\(d give the total number of candidate large itemsets for the experiments with the min imum support 0.75 showing that the optimization tech niques greatly reduced the number of candidates in each pass In figures 3\(e through k we generate different data sets by varying parameter PT Np and m In all experiments Temporal-Apriori performs significantly better than Direct Apriori Figure 3\(1 shows that Temporal-Apriori scales well when the number of transactions grows large 117 


5 Related Work Since the concept of association rule was kst intro duced in El discovery of association rules has been ex tensively studied The concept of association rule was also extended in several ways, including generalized rules and multi-level rules e.g SI quantitative rules e.g 12 and constraint-based rules e.g 4 Among these exten sions is the discovery of temporal association rules There are several kinds of meaningful temporal associ ation rules 3 5 10 9 111 The problem of mining cyclic association rules i.e the association rules that occur pe riodically over time has been studied in Several al gorithms and optimization techniques were presented and shown effective however this work is limited in that it cannot deal with multiple granularities and cannot describe real-life concepts such as the first business day of every month In ll the work in  was extended to approx imately discover user-defined temporal patterns in associ ation rules The work in ll is more flexible and practi cal than  however it requires user-defined calendar al gebraic expressions in order to discover temporal patterns Indeed this is to require user\222s prior knowledge about the temporal patterns to be discovered Our work differs from 9 and ll in that instead of using cyclic patterns or user-defined calendar algebraic ex pressions, we use calendar schema as a framework for tem poral patterns As a result our approach usually requires less priori knowledge than 9 and ll i.e we need not know or describe each individual \223interesting\224 temporal pattern In addition unlike ll which discover temporal association rules for one user-defined temporal pattern our approach considers all possible temporal patterns in the cal endar schema thus we can potentially discover more tem poral association rules 6 Conclusion and Future Work In this paper we proposed two classes of temporal as sociation rules temporal association rules w r.t precise match and temporal association rules w.r.t fuuy match to represent regular association rules along with their tem poral pattems in terms of calendar schemas An immedi ate advantage is that the-corresponding data mining prob lem requires less prior knowledge than the prior methods and hence may discover more unexpected rules In addi tion we extended Apriori to discover temporal association rules w.r.t both precise match and fuzzy match To deal with the situation when we are not interested in the tem poral association rules involving only basic time intervals i.e time intervals represented by a calendar pattern with 0 wildcard symbols\we developed two optimization tech niques by studying the relationships among calendar pat terns Our experiments showed that our optimization tech niques are quite effective Similar optimization techniques apply to situations where we are only interested in time in tervals iepresented by a calendar pattern with at least k  1 wildcard symbols The fuiture work includes two directions. First we would like to explore other meaningful semantics of temporal as sociation rules and extend our techniques to solve the cor responding data mining problems Second, we would like to consider temporal patterns in other data mining problems such as clustering References l R Agrawal T Imielinski and A N Swami Mining as sociation rules between sets of items in large databases In Proc of the I993 Int\222l Con on Management of Data pages Z R A.grawal and R Srikant Fast algorithms for mining as sociation rules in large databases In Proc of the I994 Int\222l ConJE on Very Large Data Bases pages 487499 1994 3 J Ale and G Rossi An approach to discovering temporal association rules In Proc of the 2000 ACM Symposium on Appr\221ied Computing pages 294-300,2000 4 R Bayardo Jr R Agrawal and D Gunopulos Constraint based rule mining in large, dense databases In Proc ofthe 15th Int\222l Con on Data Engineering pages 188-197 1999 5 X C\221hen and I Petrounias Mining temporal features in as sociation rules In Proc of the 3rd European Con on Prin ciples and Practice on Knowledge Discovery in Databases pages 295-300 1999 6 J Han and Y Fu Discovery of multiple-level association rules from large databases In Proc of2lth Znt\222l Con on Very Large Data Bases pages 420-431 1995 7 R Kohavi and C Brodley 2000 knowledge discov ery and data mining cup Data for the Cup was pro vided by Blue Martini Software and Gazelle.com 2000 http www.ecn.purdue.edu/KDDCUP Discover ing calendar-based temporal association rules Manuscript http..//www.ise.gmu.edul-pning/tdm.ps Nov 2000 9 B Ozden S Ramaswamy, and A Silberschatz Cyclic as sociation rules. In Proc of the 14th Int\222l Con on Data En gineering pages 412421 1998 lo C. Rainsford and J Roddick Adding temporal semantics to association rules In Proc of the 3rd European con on prin ciples and practice of knowledge discovery in databases pages 504-509 1999 ll S R.amaswamy S Mahajan and A Silberschatz On the discovery of interesting patterns in association rules In Proc of the 1998 Int\222l Con on Very Large Data Bases pages 368-379 1998 12 R Srikant and R Agrawal Mining quantitative association rules in large relational tables In Proc of the I996 ACM SIGMOD Int\222l Con on Management of Data pages 1-12 1996 207-216 1993 8 Y Li P Ning X S Wang and S Jajodia 118 


 0 500 1000 1500 2000 2500 3000 3500 4000 4500 3 4 5 6 7 8 Total Time\(in secs Itemset Size sequential interleaved Figure 5 Execution time vs large itemset size for the two algorithms 0 2000 4000 6000 8000 10000 10k 25k 50k 75k 100 k Total Time\(in secs Number of transactions in a time segment interleaved Figure 6 Execution time for the interleaved algorithm as the data size for a single time segment increases from 10 k transactions to 100 k transactions This corresponds to increasing the total database size from 155 MB to 1  5GB of work performed by the sequential algorithm increases dramatically This is because each large itemset of size l that does not contribute to a cycle forces the sequential algorithm to calculate support counts for all its 2 l subsets without producing any useful results Further the association rules computed by the sequential algorithm do not 256t in memory and it starts incurring signi\256cant I/O overhead as well contributing to the large jump in execution time as we go from itemset size 5 to 6 In fact we had to terminate the experiments with the sequential algorithm for itemset sizes 7 and 8 because they ran for over a day each wit hout completing This experiment conclusively demonstrated the superiority of the interleaved algorithm over the sequential algorithm 5.4 Data Size Scaleup Figure 6 shows the running time of the interleaved algorithm as the time segment size is increased from 10 k transactions to 100 k transactions The database size increased from 155 MB to 1  5 GB The interleaved algorithm shows nearly linear scaleup This illustrates its ability to handle large database sizes gracefully 5.5 Experimental Conclusions Through a series of experiments we have shown that the interleaved algorithm is signi\256cantly better than the sequential algorithm The interleaved algorithm performs at least as well and often times signi\256cantly better than the sequential algorithm Performance bene\256ts range from 5 when support is very high to several hundred percent when large itemset sizes are over 5 Much of this overhead comes from the increased I/O costs that the sequential algorithm incurs Further the interleaved algorithm scales nicely with increasing data Thus one can conclusively say that the interleaved algorithm and the pruning ideas behind it provide signi\256cant gains in performance 6 Conclusions and Future Directions In this paper we have studied the problem of discovering association rules that display regular cyclic variation over time Information about such variations will allow marketers to better identify trends in association rules and help better forecasting By explo iting the relationship between cycles and large itemsets we identi\256ed optimization techniques that allow us to minimize the amount of wasted work performed during the data mining process We demonstrate the usefulness of these techniques through an extensive experimental study The study showed that performance bene\256ts ranging from 5 to several hundred percent can be obtained through the use of the optimizations when compared to the more straightforward approach Recently we have explored in RMS97  t h e i n t e g r at i o n of calendars into an association rule mining framework This lets us consider rules like 252 X  Y the\256rstworking day of every month.\272 In RMS97  w e a l s o a ddre s s t he problem of approximate matching which relaxes the rather rigid de\256nition of when a cycle belongs to an association rule Interesting open problems include the handling of multiple time units like hours weeks days etc simultaneously and ef\256ciently integrating cycles and calendars into the numeric  rather than the boolean domain handled by the association rules in this paper Acknowledgements We would like to thank the anonymous referees for their helpful comments on the paper References AIS93 R a k e s h A g raw a l T o m a s z Im ie lin s k i a n d A ru n Swami 252Mining Association Rules between Sets of Items in Large Databases\272 In Proceedings of the 1993 ACM SIGMOD International Conference on Management of Data  pages 207\320216 Washington,DC May 1993 A R  A g r a w a l a nd R  Sr i k ant  252F ast A l gor i t h m s f o r Mining Association Rules in Large Databases\272 In Proceedings of the 20th International Conference on Very Large Data Bases  pages 487\261499 Santiago Chile September 1994 FMMT T  Fukuda Y  M or i m ot o S M o r i shi t a  a nd T Tokuyama 252Data Mining Using TwoDimensional Optimized Association Rules\272 In Proceedings of the 1996 ACM SIGMOD International Conference on Management of Data  pages 13\26123 Montreal Canada June 1996 


HF95 J  H a n a n d Y  F u  252 D i s c o v e ry o f Mu lti-le v e l A s s o c i ation Rules From Large Databases\272 In Proceedings of the 21st International Conference on Very Large Data Bases  pages 420\261431 Zurich Switzerland September 1995 PCY J S P a r k  M  C hen and P  Y u 252 A n E f f ect i v e H ashbased Algorithm for Mining Association Rules\272 In Proceedings of the 1995 ACM SIGMOD International Conference on Management of Data  pages 175\261186 May 1995 RMS S R a m a sw am y  S M a haj a n and A  S i l b er schat z  Calendric association rules Technical report Bell Labs 1997 Subm itted for publication Available upon request SA R  Sr i k ant a nd R  A g r a w a l  252M i n i n g G ener al i zed A s sociation Rules\272 In Proceedings of the 21st International Conference on Very Large Data Bases  pages 407\261419 Zurich Swizerland September 1995 SA96 R  S r ik a n t a n d R  A g ra w a l 252 M in in g Q u a n tita ti v e Association Rules\272 In Proceedingsof the 1996 ACM SIGMOD International Conference on Management of Data  pages 1\26112 Montreal Canada June 1996 SON A  Sa v a ser e  E  O m i eci nski  a nd S N a v a t h e 252 A n Ef\256cient Algorithm for Mining Association Rules in Large Databases\272 In Proceedings of the 21st International Conference on Very Large Data Bases  pages 432\261444 Zurich Swizerland September 1995 Toi H  T o i v onen 252 S am pl i n g L ar ge D a t a bases f or A s sociation Rules\272 In Proceedings of the 22nd International Conference on Very Large Data Bases  Bombay India September 1996 


according to section m and grounded Under certain unusual conditions the facilities need not to be grounded in accordance with these requirements There must be 1 no possibility of contact with another energized source and 2 no hazard of induced voltage This section Requires temporary protective grounds at each work location or on either side of the location if one location is not feasible Requires grounding equipment to have proper ampacity No 2 AWG copper minimum and low enough impedance to permit operation of protective devices in case of accidental energization Requires testing before grounding to determine absence of voltage Requires the ground end of the protective ground to be connected first, then the line end, using an insulated device Requires removal first from the line end using an insulated device Prohibits grounding cables at a remote location if a hazardous transfer of potential could occur under fault conditions Allows grounds to be temporarily removed for tests but requires previously grounded line to be considered energized during to test Comments n APPA comments that this section on grounding should apply to systems greater than 600 volts only Additionally both EEI and APPA submitted similar comments regarding flexibility which should be included to allow either single or dual point grounding or a combination of the two methods to allow employers to choose the method best for the particular situation APPA recommends that grounding should be allowed on lines where nominal voltage is not found In many cases facilities may be grounded when induced or static voltages are present APPA also comments that removal of grounds for cables being tested with low voltage should not require treatment of these cables as energized EEI believes that OSHA's requirement to require work location grounding where feasible is not workable, objecting to the word feasible as all encompassing Testing and Test Facilities 0 This section covers the proposed safe work practices for high-voltage and high-power testing performed in laboratories in shops and in substations under the exclusive control of an electric utility It does not cover routine functions for metering, relaying and normal line work Requirements addressed include the following Guarding of test areas  walls fences and barriers Grounding practices  similar to grounding requirements of other sections but requires isolated ground-return conductor system for high current testing Control and measuring circuits Safety check of test areas at beginning of each group of continuous tests Comments 0 APPA provided the following comments on this section Recommends clarification of the wording so that there is a clear distinction between this specialized testing and routine operations such as phasing and low voltage testing Recommends deletion of the requirement for an isolated ground return during high current testing citing that staged fault tests often involve large areas which would not allow this requirement to be met  asks that A2-10 


the rule be modified to require limitation of fault currents to ground faults currents which do not result in hazardous voltage or by limiting access to areas that may be hazardous Recommends that separate equipment grounds not be required for test equipment where any equipment ground is not included in the cord. Suggests that the employee be required to provide alternative protection during the test Separation of power cables  modify language to include shall be made secure against damage accident, interruptions and other hazards Mechanica 1 Euuivment vj This section requires critical safety components of mechanical elevating and rotating equipment to be inspected on each shift in which such equipment is used Requirements are contained for Vehicles Booms winches and associated controls Rollover protective structures Outriggers Load limits for lifting equipment Tables R-6 and R-7 from section 1 are referred to for clearances between equipment and live parts If these clearances cannot be maintained and the mechanical device must come closer then two alternatives are addressed 1 equipment and any attached load must be treated as live parts or 2 equipment must be inspected for the voltage involved so that insulated portions observe the R-6 and R-7 clearances Grounding the equipment is not considered by OSHA to provide protection since the potential of the equipment can still rise with respect to earth only a few feet from the grounding points OSHA requested comments on this area to provide additional protection for employees Comments p APPA provided the following comments All safety equipment on mechanical elevating and rotating equipment may not be designed to allow frequent inspection Recommends that section be modified to include to the extent practicable in inspecting critical safety components APPA believes that requirements for the operation of mechanical equipment near energized lines or equipment is too vague and recommends modifications to  Require that Tables R-6 and R-7 are complied with for systems greater than 600 volts  Stipulate that the required clearances be maintained unless 1 under supervision of a qualified person responsible for maintenance of safe conditions and 2 mechanical equipment certified for work at the applicable voltage or 3 insulated barrier is installed between the energized part and mechanical equipment or 4 mechanical equipment is insulated 5 grounded or barricaded and considered as energized equipment EEI objects to the use of language which includes all mechanical equipment where contact with exposed energized conductors is possible EEI has also submitted a complete revision of Section p 4 entitled Operations Near Energized Lines or Equipment This revision includes elimination of the word possible and provides for mechanical equipment to be grounded which is a revision which is proposed by both EEI and IBEW In accordance with OSHA's position that grounding does not provide complete protection EEI's proposal includes stipulating methods of protection for employees on the A2-1 1 


ground which includes establishing a perimeter or restricted area and identifying a qualified employee designated as the person in charge of the activities within the restricted area Overhead Lines 4 This section provides additional requirements not covered in other portions of the Rules for work performed on or near overhead lines and equipment The section contains requirements in the following areas Poles and towers  Employees must determine that poles and towers are of adequate strength  Poles must be protected from contact with energized lines and employees must be insulated from the pole  Employees must be protected from falling in pole holes by guarding with barriers or other employees Installing and removing overhead lines  these requirements were taken from the construction rules 1926.955 Subpart V  Precautions must be taken to prevent lines from contacting other energized lines  Barriers and tension stringing methods are stipulated  Lines and equipment to be installed should be treated as energized under certain conditions  Employees working aloft are to be protected by grounding the line being installed  Automatic reclosing must be disabled on any circuit greater than 600 volts which would be passed over  Employees must be protected from induced voltages due to parallel lines  OSHA requested comments on grounding to protect employees from hazards from induced voltages  Precautions must be taken to prevent failure of line pulling equipment and accessories  Communication must be maintained between reel tender and pulling rig operator and operation of pulling rig is prohibited under unsafe conditions  Employees are prohibited from unnecessarily working directly beneath overhead operations or on the crossarm during a pulling operation Live line bare hand technique  Training and retraining of employees is required  Determination of the voltage of the circuit is required so that clearances will be maintained  Insulated tools and equipment must be designed, tested and intended for live line work  kept clean and dry  Automatic reclosing must be made inoperative  Live line bare hand work is prohibited during thunderstorms or under conditions where clearances may be reduced such as due to wind  A conductive device bucket liner is required to create an area of equipotential for the worker  The conductive device must be bonded before the employee contacts the conductor A2-12 


I  Aerial lifts must have upper and lower controls  OSHA proposed that ground level controls not be operated in case of emergency  OSHA asked for comments on use of lower controls  Checking of aerial lift controls is required  The truck is to be grounded or treated as energized The aerial lift boom must have a current test made each day before beginning work  or when a higher voltage is encountered  the test to be according to ANSI applicable standard Related work must be suspended any time malfunction of equipment is evident The clearance distances specified in Table R-8 must be maintained from grounded objects and from objects at a potential different from that at which the bucket is energized TABLE R-8  AC MINIMUM CLEARANCE FOR LIVE-LINE BARE-HAND WORK Nominal voltage 1 The minimum phase-to-ground clearance distance may be reduced to the length of the line insulator if a smaller distance is needed to do the work The minimum phase-to-phase clearance distance may be reduced to 1.73 times the length of the line insulator if a smaller clearance is needed to do the work A2-13 


 The use of hand lines between the bucket and boom and between bucket and ground is prohibited  The passing of uninsulated equipment or materials to an employee bonded to an energized part is prohibited  A durable chart showing clearances in Table R-8 must be mounted so that it is visible to the boom operator  Requires a non-conductive measuring device to be available to an employee in lift Towers and Structures  addresses hazards associated with towers and other structures supporting overhead lines  Standing under a tower is prohibited unless presence is necessary to assist  Tag lines are required for tower sections being positioned  Load lines must remain in place until load is secured  Non-emergency work from towers is prohibited in some weather Comments a1 EEI and APPA submitted similar comments on the overhead lines section as follows Recommends the modification of q involving setting of poles to refer to circuits greater than 600 volts APPA commented that a utility cannot guarantee that poles will not occasionally contact energized conductors Recommend modification of the applicable portions of q to include the EEI/IBEW proposal in its entirety covering passing over energized lines  Stating that it should cover only facilities 600 volts or greater and  That other protective measures are included such as rope nets guard structures protective coverings and isolation of workers and  That disabling automatic reclosing is not sufficient protection when other protections are available Recommends increased emphasis on grounding APPA proposes the addition of new Table R 9 for DC minimum clearances for live line bare hand work extrapolated from ANSI/IEE Standard 516-89 page 18 Table 5 State of California Work Rules and OSHA's 29 CFR 1926.956 Table V-2 EEI proposes that this section of the proposed rules also address live line bare hand work Line-Cleararrce Tree Triinininq  rl This paragraph addresses safety considerations relating to line maintenance tree trimming based in large part on ANSI 2133.1-1982, "ANSI Safety Requirements for Pruning Trimming Repairing Maintaining and Removing Trees and for Cutting Brush A line-clearance tree trimmer is defined by the Rules as an employee who through related training or on-the-job experience or both is familiar with the special techniques and hazards involved in line-clearance An employee who is regularly assigned to a line-clearance tree trimming crew and who is undergoing on-the job training and who in the course of such training has demonstrated an ability to perform duties safely at his or her level of training and who is under the direct supervision of a line clearance tree trimmer is considered to be a line-clearance tree trimmer Included in this section is a portion entitled Electrical Hazards which does not apply to qualified employees." This section contains the following requirements A2-14 


Inspection of tree is required to determine whether electrical conductors are within ten feet of tree Employees other than line-clearance tree trimmers are required to maintain ten feet basic clearance for voltages up to 50 kV with adders for higher voltages Employees must be qualified as line clearance tree trimmers if working closer than ten feet from lines of 750 volts or more A second line-clearance tree trimmer is required within normal voice communication if 1 he is required to approach closer than ten feet from lines of greater than 750 volts or 2 if branches are closer than the Table R 6 and R-7 clearances or if roping is necessary to remove branches or limbs from conductors or apparatus Line clearance tree trimmers must maintain the clearances indicated in Tables R-6 and R 7 excluding the notes Branches contacting electrical conductors within Tables R-6 and R-7 clearances may be removed only with insulated equipment Ladders platforms and aerial devices may not be brought closer than Table R-6 and R-7 clearances Line-clearance tree trimming may not be performed during storms or under emergency conditions Other areas which are addressed in conjunction with line-clearance tree trimming are as follows Brush chippers Sprayers and related equipment Stump cutters Gasoline driven power saws Backpack power units Rope Comments r APPA has submitted the following comments on the line-clearance tree trimming section Recommends that OSHA acknowledge that line-clearance tree trimmers are qualified employees Believes that ten foot clearance is too restrictive for 600 volt to 50 kV and proposes a new table based on six foot clearance for 600 volt to 50 kV which is provided in an attachment to their comments Opposes restriction of line-clearance tree trimming during storms or emergency conditions citing need for restoration of service and removal of safety hazards from broken trees during these situations Recommends that this section be modified to read Line-clearance tree trimming operations may not be performed during storms that make the work hazardous, except for purposes related to public safety or in connection with electric system restoration Recommends modification of the requirement that rope be treated as energized and recommends rewording as care shall be taken that climbing ropes do not contact energized high voltage lines or equipment Coinmimication Facilities s This paragraph addresses communication facilities such as microwave and power line carrier systems For microwave systems the following requirements are contained in this section To protect employees eyes employees are prohibited from looking into an open wave guide or antenna connected to an energized microwave source A2-15 I 


In accordance with 1910.97 and 1910.209 warning signs are required in microwave areas For work involving power line carrier systems this work is to be conducted according to requirements for work on energized lines Comments s APPA objects to the absolute requirement implied by the word ensure regarding exposure to microwave radiation and recommends revision of s l iii to read when an employee works in an area where electromagnetic radiation levels could exceed the levels specified in the radiation protection guide the employer shall institute measures designed to protect employees from accidental exposure to radiation levels greater than those permitted by that guide  I1 an employee must be stationed at the remote end of the rodding operation Before moving an energized cable it must be inspected for defects which might lead to a fault To prevent accidents from working on the wrong cable would require identification of the correct cable when multiple cables are present Would prohibit an employee from working in a manhole with an energized cable with a defect that could lead to a fault However if the cable cannot be deenergized while another cable is out employees may enter the manhole but must protect against failure by some means for example using a ballistics blanket wrapped around cable Requires bonding around opening in metal sheath while working on cable Underaround EIectrical Installations t Comments t This paragraph addresses safety for underground vaults and manholes The following requirements are contained in this section Ladders must be used in manholes and vaults greater than four feet deep and climbing on cables and hangers in these vaults is prohibited Equipment used to lower materials and tools in manholes must be capable of supporting the weight and should be checked for defects before use An employee in a manhole must have an attendant in the immediate vicinity with facilities greater than 250 volts energized An employee working alone is permitted to enter briefly for inspection housekeeping taking readings or similar assuming work could be done safely Duct rods must be inserted in the direction presenting the least hazard to employees and APPA recommends that OSHA rewrite section 7\regarding working with defective cables This rewrite would include the words shall be given a thorough inspection and a determination made as to whether they represent a hazard to personnel or representative of an impending fault As in Subsection \(e EEI proposes the addition of wording to cover training of employees in emergency rescue procedures and for providing and maintaining rescue equipment Substations U This paragraph covers work performed in substations and contains the following requirements Requires that enough space be provided around electrical equipment to allow ready and safe access for operation and maintenance of equipment OSHA's position A2-16 


is that this requirement is sufficiently performance oriented to meet the requirements for old installations according to the 1987 NEW Requires draw-out circuit breakers to be inserted and removed while in the open position and that if the design permits the control circuits be rendered inoperative while breakers are being inserted and removed stated in the Rules and requests that existing installations not be required to be modified to meet NESC APPA recommends that Section u 4 i which includes requirements for enclosing electric conductors and equipment to minimize unauthorized access to such equipment be modified to refer to only those areas which are accessible to the public Requires conductive fences around substations to be grounded Power Generation v Addresses guarding of energized parts  Fences screens, partitions or walls This section provides additional requirements and related work practices for power generating plants  Entrances locked or attended Special Conditions w  Warning signs posted  Live parts greater than 150 volts to be guarded or isolated by location or be insulated  Enclosures are to be according to the 1987 NESC Sections llOA and 124A1 and in 1993 NESC  Requires guarding of live parts except during an operation and maintenance function when guards are removed barriers must be installed to prevent employees in the area from contacting exposed live parts Requires employees who do not work regularly at the substation to report their presence Requires information to be communicated to employees during job briefings in accordance with Section \(c of the Rules Comments U APPA and EEI provide comments as follows Both believe that some older substations \(and power plants would not meet NESC as This paragraph proposes special conditions that are encountered during electric power generation, transmission and distribution work including the following Capacitors  Requires individual units in a rack to be short circuited and the rack grounded  Require lines with capacitors connected to be short circuited before being considered deenergized Current transformer secondaries may not be opened while energized and must be bridged if the CT circuit is opened Series street lighting circuits with open circuit voltages greater than 600 volts must be worked in accordance with Section q\or t and the series loop may be opened only after the source transformer is deenergized and isolated or after the loop is bridged to avoid open circuit condition Sufficient artificial light must be provided where insufficient naturals illumination is present to enable employee to work safely A2-17 


US Coast Guard approved personal floatation devices must be supplied and inspected where employees are engaged in work where there is danger of drowning Required employee protection in public work areas to include the following  Warning signs or flags and other traffic control devices  Barricades for additional protection to employees  Barricades around excavated areas  Warning lights at night prominently displayed Lines or equipment which may be sub to backfeed from cogeneration or other sources are to be worked as energized in accordance with the applicable paragraphs of the Rules Comments w APPA submits the following comments regarding this Special Conditions section Recommends that the wording regarding capacitors be modified to include a waiting period for five minutes prior to short circuiting and grounding in accordance with industry standards for discharging of capacitors For series street light circuits, recommends that language be added for bridging to either install a bypass conductor or by placement of grounds so that work occurs between the grounds Recommends modification of the section regarding personal floatation devices to not apply to work sites near fountains decorative ponds swimming pools or other bodies of water on residential and commercial property Definitions x This section of the proposed Rules includes definitions of terms Definitions particularly pertinent to understanding the proposal and which have not previously been included are listed as follows Authorized Employee  an employee to whom the authority and responsibility to perform a specific assignment has been given by the employer who can demonstrate by experience or training the ability to recognize potentially hazardous energy and its potential impact on the work place conditions and who has the knowledge to implement adequate methods and means for the control and isolation of such energy CZearance for Work  Authorization to perform specified work or permission to enter a restricted area Clearance from Hazard  Separation from energized lines or equipment Comments x The following summarizes the changes in some of the definitions which APPA recommends Add to the definition for authorized employee It the authorized employee may be an employee assigned to perform the work or assigned to provide the energy control and isolation function  Recommends that OSHA modify the definition for a line clearance tree trimmer to add the word qualified resulting in the complete designation as a qualified line clearance tree trimmer Recommends that OSHA modify the definition of qualified employee" to remove the word construction from the definition since it is felt that knowledge of construction procedures is beyond the scope of the proposed rule resulting in APPA's new A2-18 I 


wording as follows more knowledgeable in operation and hazards associated with electric power generation transmission and/or distribution equipment Recommends that OSHA add a definition for the word practicable and replace the word feasible with practicable wherever it appears in the proposed regulations and that practicable be further defined as capable of being accomplished by reasonably available and economic means OTHER ISSUES Clothing OSHA requested comments on the advisability of adopting requirements regarding the clothing worn by electric utility industry employees EEI has presented comments which indicates research is underway prior to establishing a standard for clothing to be worn by electric utility employees However EEI's position is that this standard has not developed to the extent that it could be included in the OSHA Rules Both APPA and EEI state that they would support a requirement that employers train employees regarding the proper type of clothing to wear to minimize hazards when working in the vicinity of exposed energized facilities Grandfathering Due to the anticipated cost impact on the utility industry of the proposed Rules requiring that existing installations be brought to the requirements of the proposed Rules both APPA and EEI propose that the final Rules include an omnibus grandfather provision This provision would exempt those selected types of facilities from modification to meet the new rules EEI states that if the grandfathering concept is incorporated that electric utility employees will not be deprived of proper protection They propose that employers be required to provide employees with a level of protection equivalent to that which the standard would require in those instances in which the utility does not choose to modify existing facilities to comply with the final standard Rubber Sleeves OSHA requests comments from the industry on whether it would be advisable to require rubber insulating sleeves when gloves are used on lines or equipment energized at more than a given voltage EEI states its position that utilities should continue to have the option of choosing rubber gloves or gloves and sleeves to protect employees when it is necessary to work closer to energized lines than the distances specified in the clearance tables Preemuting State Laws EEI requests that the final Rules be clear in their preempting state rules applicable to the operation and maintenance work rules for electric power systems. This is especially critical since some states now have existing laws which are more stringent than the proposed OSHA Rules Examples are 1 in California and Pennsylvania where electric utility linemen are prohibited from using rubber gloves to work on lines and equipment energized at more than certain voltages and 2 in California and Connecticut where the live line bare hand method of working on high voltage transmission systems is prohibited One utility Pacific Gas  Electric has obtained a variance from the California OSHA to perform live line bare-hand transmission maintenance work on an experimental basis Coiiflicts Between the Rilles and Part 1926 Subpart V Since many of the work procedures in construction work and operation and maintenance work are similar and difficult to distinguish between EEI requests that the final order be clear in establishing which rule has jurisdiction over such similar work areas A2-19 v 


IMPACTS ON COSTS AND ASSOCIATED BENEFITS In its introduction to the proposed rules OSHA has provided an estimate of the annual cost impact on the electric utility industry for the proposed des of approximately 20.7 million OSHA estimates that compliance with this proposed standard would annually prevent between 24 and 28 fatalities and 2,175 injuries per year The utilities which have responded to this proposed standard through their respective associations have questioned the claims both of the magnitude of the cost involved and the benefit to the industry in preventing fatalities and lost-time injuries Both EEI and APPA feel that the annual cost which OSHA estimates are significantly lower than would be realized in practice Factors which APPA and EEI feel were not properly addressed include the following OSHA has not accurately accounted for cost of potential retroactive impacts including retrofitting and modifying existing installations and equipment OSHA has not consistently implemented performance based provisions in proposed rules  many portions require specific approaches which would require utilities to replace procedures already in place with new procedures Estimates were based on an average size investor-owned utility of 2,800 employees and an average rural cooperative of 56 employees, which are not applicable to many smaller systems such as municipal systems OSHA has not adequately addressed the retraining which would be necessary with modifying long-established industry practices to be in accordance with the OSHA rules EEI claims that OSHA's proposed clearance requirements would not allow the use of established maintenance techniques for maintaining high voltage transmission systems and thus would require new techniques For an example of the cost which is estimated to be experienced as a result of the new Rules one of the EEI member companies has estimated that approximately 20,000 transmission towers would need to be modified to accommodate the required step bolts in the Rules at an estimated cost of 6,200,000 Additionally this same company estimates that the annual cost of retesting live line tools for its estimated 1,000 tools would be 265,000 Additionally, both EEI and APPA question the additional benefits which OSHA claims would result from implementation of the new Rules APPA questions the estimates of preventing an additional 24 to 28 fatalities annually and 2,175 injuries per year in that it fails to account for the fact that the industry has already implemented in large part safety measures which are incorporated in the Rules EEI and APPA also point out that many preventable injuries cannot be eliminated despite work rules enforcement and safety awareness campaigns since many such accidents which result in fatalities are due to employee being trained but not following the employer's training and policies PRESENT STATUS OF RULES According to information received from the OSHA office in February 1993 the final Rules are to be published no later than July 1993 and possibly as soon as March 1993 OSHA closed their receipt of comments in March 1991 and no further changes in the rules are thought possible A2-20 


CONCLUSION The OSHA 1910.269 which proposes to cover electric utility operation and maintenance work rules affects a multitude of working procedures as are summarized in this paper It is not possible at the present time to assess the final structure of the Rules as may be proposed in 1993 or subsequent years Since the comments from the utility associations APPA and EEI were made following the initial release of the proposed OSHA Rules in 1989 a significant amount of time has elapsed where other events have occurred which may affect the form of the final Rules The 1993 NESC went into effect in August 1992 and includes some of the requirements to which the commenters objected For example a significant requirement in the Part 4 of the 1993 NESC requires that rubber gloves be utilized on exposed energized parts of facilities operating at 50 to 300 volts This requirement is in conflict with EEl\222s proposed change to the OSHA Rules which would still allow working such secondary facilities without the use of rubber gloves Electric utilities are advised to review the January 31 1989 proposed operation and maintenance Rules as summarized in this paper and to review their procedures which would be affected by application of the Rules Many of the procedures proposed in the Rules provide valuable guidance in electric utilities\222 operation and maintenance activities Where the cost impact is not significant, it is recommended that utilities consider implementing such procedures in expectation of the Rules being published in the next few months Also it would be appropriate for electric utilities to review the 1993 edition of the NESC since there are portions of the Rules which have resulted in changes in the NESC These changes mainly occur in Part 4 Rules for the Operation of Electric Supply and Communications Lines and Equipment The concerns which the commenters have addressed regarding the cost impact and the resulting benefits experienced as a result of the promulgation of the Rules are real ones and must be addressed in the final Rules As a result this paper cannot present a conclusion regarding the full impact of the Rules The development of such Rules continue to be an ongoing matter and will undoubtedly require later analysis when the final rules are published A2-21 


