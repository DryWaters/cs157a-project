Mining Actionable Combined Patterns of High Utility and Frequency Jingyu Shao Junfu Yin Wei Liu and Longbing Cao Advanced Analytics Institute Faculty of Engineering and Information Technology University of Technology Sydney f Jingyu.Shao Junfu.Yin g student.uts.edu.au f Wei.Liu Longbing.Cao g uts.edu.au Abstract 227In recent years the importance of identifying actionable patterns has become increasingly recognized so that decision-support actions can be inspired by the resultant patterns A typical shift is on identifying high utility rather than highly frequent patterns Accordingly High Utility Itemset HUI Mining methods have become quite popular as well as faster and more reliable than before However the current research focus has been on improving the ef\002ciency while the coupling relationships between items are ignored It is important to study item and itemset couplings inbuilt in the data For example the utility of one itemset might be lower than user-speci\002ed threshold until one additional itemset takes part in and vice versa an item's utility might be high until another one joins in In this way even though some absolutely high utility itemsets can be discovered sometimes it is easily to 002nd out that quite a lot of redundant itemsets sharing the same item are mined e.g if the utility of a diamond is high enough all its supersets are proved to be HUI s Such itemsets are not actionable and sellers cannot make higher pro\002t if marketing strategies are created on top of such 002ndings To this end here we introduce a new framework for mining actionable high utility association rules called Combined Utility-Association Rules CUAR  which aims to 002nd high utility and strong association of itemset combinations incorporating item/itemset relations The algorithm is proved to be ef\002cient per experimental outcomes on both real and synthetic datasets Keywords high utility itemset mining actionable combined pattern mining association rule pattern relation analysis I I NTRODUCTION Typical data mining applications such as basket analysis rely on mining interesting patterns in which two major objectives are addressed progressively 1 identifying frequently associated items for commercial purpose such as cross-selling and 2 discovering high utility itemsets to w ards pro\002table selling By using these methods retailers can discover the most frequent or pro\002table products or product combinations For example a helmet is recommended when someone wants to buy a bicycle by mining associations between purchasing helmets and bicycles Moreover the outcomes delivered by high utility itemset mining make it possible to discover the most pro\002table brand of products or product combinations and help retailers and shopkeepers build marketing strategies to sell highly pro\002table goods While the utility-based framework greatly enhances the actionability of resultant patterns comparing to frequent pattern mining it alone is still defective in some circumstances As in utility mining the unit pro\002t of each item is given Copyright notice 978-1-4673-8273-1/15 31.00 c r 2015 IEEE TABLE I A N E XAMPLE D ATABASE TID Transaction TU T 1 A 1 C 1 D 1 8 T 2 A 1 B 6 C 2 F 5 24 T 3 A 2 B 2 C 6 D 5 E 1 60 T 4 B 4 C 3 D 2 F 3 18 T 5 B 2 C 2 F 3 9 TABLE II P ROFIT T ABLE Item A B C D E F Pro\002t 5 2 1 2 30 1 while the quantity of an item depends on the transaction Mining the utility of an itemset can be regarded as a statistic way to discover the itemsets whose utility is larger than a speci\002c value Ho we v er  the use of utility alone mak es it ineffective to discover strongly associated items For instance selling a pedigree cat in a pet store happens maybe once a month or even more rarely Although the pro\002t is extremely high it is probably not very wise for a manager to spend too much on designing strategies to promote such kind of pedigree pet with pet foods because selling the pedigree pet could be just a coincidence Furthermore if a customer happens to purchase many other items at the same time patterns like 223pedigree cat cat food cattery troughs\224 or 223pedigree cat necklace cattery cat litter\224 etc could be selected as high utility itemsets Obviously such itemsets are neither representative nor actionable to the manager Such situations are described in Table I and Table II as an example All subsets belong to T 3  containing f F g are 002nally proved to be HUIs while the given threshold is no less than 50 All other itemsets are 002ltered as they fail to pass the threshold Obviously such itemsets are neither representative nor actionable to most of businessmen However if the threshold is set too low new problem would appear Searching a large number of itemsets on a large dataset may encounter a large search space With the examples in the above tables Table III lists the utility support and con\002dence of itemsets here each rule is also called as an itemset The support of an itemset reduces when the itemset size length increases because of the Downward Closure Property DCP  Ho we v er  some patterns still contain more information than others For example the 


TABLE III A C OMPARISON OF I TEMSET U TILITY  S UPPORT AND C ONFIDENCE Itemset\(Pattern Utility Support Con\002dence f A g 20 60 Nil f A  E g 40 20 33 f C g 14 100 Nil f C  B g 41 80 80 f BC  E g 40 20 25 association rule f C  B g is not of a high con\002dence but also associated with a high utility increment from f C g with utility 14 to f BC g 41 which should be more interesting than other rules in this table To overcome the above issues a new framework is required to discover the really actionable patterns they are not only succinct in terms of presentation for a given item only the most pro\002table itemset instead of many should be chosen but also actionable both utility-contrasted and strongly associated Even though this seems to be very promising and interesting to users it is critically challenging to build such a framework The major challenges are below 017 The downward closure property  cannot be applied in the utility-based framework The utility of one itemset is neither monotonic nor anti-monotonic while the length of the itemset changes which means the utility of the itemset might be either higher or lower compared with its superset or subset In addition for a tree-structured algorithm it is hard to assert which branch is with the highest utility until all the branches are calculated Thus fast algorithms such as in could not be applied to mining HUI 017 In high utility itemsets mining a large number of candidates would be generated if a lower threshold is given On the contrary if the threshold is set too high only the absolutely high utility itemsets can be discovered and it is then hard to identify the most pro\002table itemsets for a given item Subsequently when utility is considered as the only metric to select patterns high utility pattern mining may result in 002ndings that are not typical and do not consider the couplings between items 017 While the combination of utility mining with frequent pattern mining is promising the question is how to combine the utility framework with association rule mining Association rule mining cares about the cooccurrence relationship between items based on the supports of items while it is not clear how to measure the itemset associations for high utility items An item's utility depends on not only the quantity of an item in a transaction but also its item utility Fig 1 illustrates the utility dynamics of utility-based itemsets when itemset grows Since there are signi\002cant gaps existing in objectives and de\002nitions between utility-based itemsets and association rules it is hard to simply merge them We introduce the concept Fig 1 Example of utility dynamics in terms of itemset growth TABLE IV P ATTERN E XPRESSION Utility-Association Traditional Association Structure of Pattern Relation X 0  X a X 0  001 X 1 X 0  001 X 1  X a X 0  X b X 0  001 X 2 X 0  001 X 2  X b combined mining  to combine the utility-based frame w ork and basket analysis In combined mining taking Fig 1 and Table IV as an example Derivative Itemset DI e.g X a  X b   also called combined itemset is an itemset consisting of two parts One part is called Underlying Itemset UI  which is the same part X 0 shared in both X a and X b in Equation 1 The other part is called Additional Itemset AI  which is different in a and b marked as 001 X 1 and 001 X 2  The combined patterns are called Utility-Association Combined Patterns shown in Table IV 032 X 0  X a  a  X 0  X b  b  1 With a single underlying itemset a cluster of DI s might be discovered with respect to different AI s Here we de\002ne actionable high utility itemsets as a pair of DI s Furthermore we de\002ne that one of the pairs has the highest utility among all the DI s with the same UI  whereas the other DI s have the lowest utility This type of combined high utility patterns is informative for decision-making For instance in marketing it may suggest a manager that some products should be sold with the others for high pro\002t whereas the same products sold with something else may result in a loss Obviously such kind of combined patterns incorporate item and itemset relationship and utility is thus more actionable for decision making The contributions of the work are listed below 017 A novel pattern structure called Actionable Combined Utility-Association Rule CUAR  is proposed The proposed pattern structure enables the generation of patterns that are of both high utility and are strongly associated by considering the relationships between items which provides users with actionable knowledge 


017 A new interestingness for selecting patterns called Associated-Utility Growth AUG  which integrates the relationship association and the utility is proposed To our knowledge it is the 002rst method for selecting patterns that have high utility without losing the representativeness namely strong association 017 Intensive experiments on both synthetic and real datasets are conducted to evaluate the proposed methods The rest of the paper is organized as follows In Section 2 the background is introduced The problem is stated in Section 3 In Section 4 we propose the UG-Tree  a baseline approach before introducing the CUARM algorithm Section 5 presents the experimental results and Section 6 concludes this work II R ELATED W ORK A Frequent Itemset and Association Rule Mining Mining frequent itemsets is a primary research topic and has been fully extended into diversi\002ed directions for a score of years since it was 002rst introduced in 1994 by Rakesh Agrawal et al It is intended to identify strong rules discovered in databases using different measures of interestingness Based on the concept of strong rules Rakesh Agrawal et al introduced association rules for discovering regularities between products in large-scale transaction data recorded by point-ofsale POS systems in supermarkets After that a variety of algorithms were proposed to tackle the ef\002ciency issue Among them FP-Growth proposed by Han et al is one of the most ef\002cient algorithms in FIM However the frequency-based FIM framework often leads to many patterns which are not actionable at all T o enhance pattern actionability one recent effort is the high utility pattern mining which considers the utilities of unit items and itemsets in addition to their statistical signi\002cance The existing FIM and association rule mining algorithms are incapable of capturing such high utility patterns because they ignore the business interest of each item and itemset which is essential for decision-making B High Utility Itemset Mining High Utility Itemset HUI Mining emerges as a recent solution for enhancing pattern actionability since it w as 002rst introduced in 2004 Then a series of approaches have been proposed based on Transaction-Weighted Utilization TWU and Transaction-Weighted Downward Closure TWDC Property  for example Two-Phase 12 IHUP 2 UP-Growth 14 CHUD 17 TKU 18 d 2 HUP  and HUIM 11 In addition mining high utility sequential itemsets becomes popular such as USpan  and UP-Span 16 The UP-Growth algorithm proposed by Tseng et al is one of algorithms in utility itemset mining domain UP-Growth is a tree-based mining algorithm with four strategies to prune candidate itemsets Two strategies for constructing a global UP-Tree a structure for containing the items called Discarding Global Unpromising DGU Items and Decreasing Global Node DGU Utilities  and two strategies for constructing a local UP-Tree called Discarding Local Unpromising DLU Items and Decreasing Local Node DLN Utilities are proposed for mining HUIs Even though mining algorithms such as UP-Growth extract high utility itemset ef\002ciently some HUIs may take place just as coincidences and are not representative and reliable for action taking This is caused by the fact that utility is the only interestingness in the HUI mining algorithms while utility is a subjective matter C Combined Pattern Mining The concept of 223Combined Association Rules\224 was introduced in and then e xtended in 22 Combined rule mining provides a new way of merging knowledge typically for such scenarios that two features are not in the same dataset and it is not feasible to merge two datasets For example different features from two sets cannot be merged into one set as one is with customer IDs age address gender living region nationality and such details while the other contains gender annually incomes debt debt repaying method and repaying period In this way rather than integrating two datasets into one a more feasible way is to build patterns consisting of constituents from respective data sets Further the high impact combined pattern mining was proposed in These patterns are either frequent or infrequent but show important business impact that is crucial for solving business problems These patterns are exceptional because they won't be detected by traditional frequent pattern mining methods which can only 002nd patterns with high frequency The resultant combined patterns are represented in Equation 2 For each equation in Equation 2 A is a feature an itemset a sequence or a sub-pattern B is another and C is the impact associated with the pattern consisting of A and B  C may refer to different risk levels fraud or not outlier or not Yet this approach is only used in the frequency-based framework 8     A 1  B 1  C 1 A 1  B 2  C 2 A 1  B 3  C 3  2 D Frequency-Utility Mining Model Seeking for both high pro\002t and effective itemset combinations Yeh et al proposed a novel utility-frequent mining model with the algorithm called BU-UFM  A ne w de\002nition of support called QSupport was proposed to measure the interestingness of the combination of both utility and frequency Years after that algorithm called S-UFPM  with a shared tree structure was proposed and proved to be faster Several other Algorithms such as WUARM7 8 FUFM 13 with small missing rate and less running time compared with UMining Foundational and MWIT  were proposed to reduce the execution time compared to traditional HUI mining method However none of the above methods are applicable for solving our proposed problem due to the following reasons 1 although it is also called 223utility\224 in b ut the de\002nition is different and 2 the measurements and proposed algorithms perform as just 002lters for selecting patterns they do not combine patterns considering their utilities and frequencies 


III P ROBLEM S TATEMENT In this section we de\002ne Associated-Utility Growth AUG Pattern  which introduces both association and utility growth into combined mining and mining actionable combined pattern pairs A De\002nitions Taking Table I and Table II as an example let D  f T 1  T 2   T m g be a transaction database and I  f i 1  i 2   i n g be a set of 002nite and discriminative items Each transaction T c 2 D  1  c  m  is a subset of I with a distinct identi\002er called TID  In a given transaction T c  each item i k appearing with a positive integer q  i k  T c  is called i k s quantity utility in T c  Also each item in I is associated with a positive number p  i k  I   which is called i k s pro\002t utility in I  De\002nition 1 The frequency of an itemset X counts the times it appears in all transactions and is denoted as SC  X   The support of X is SC  X   divided by the number of transactions in D  and is denoted as supp  X   Based on Table I SC  A  is 3 SC  AB  is 2 and Supp\(AB  40 De\002nition 2 The utility of item i k in a transaction T c is the pro\002t utility of the item times its quantity utility in a transaction de\002ned as u  i k  T c   p  i k  I  003 q  i k  T c  3 An item i k with its utility in a transaction T c is denoted as u  i k  T c   i k 2 T c  De\002nition 3 The utility of an itemset X in a transaction T c is the utility sum of all items belong to the itemset de\002ned as u  X T c   X i k 2 X u  i k  T c  4 An itemset contains l discriminative items is called an llength itemset where X 022 I  The utility of the same item in different transactions might be different considering the quantity of each item purchased De\002nition 4 The utility of an itemset X in the whole database D is the sum of the utility of this itemset in all transactions It is denoted as U  X   and de\002ned as U  X   X X 022 T c  T c 2 D u  X T c  5 In addition one item can be regarded as an 1-length itemset De\002nition 5 The minimum utility threshold is denoted as min util  and a set of all itemsets whose utilities are higher than min util is denoted as f H  D min util   The goal of HUI mining is to 002nd such itemset f H  D min util   De\002nition 6 The transaction utility of the transaction T c is denoted as T U  T c  and de\002ned as T U  T c   X i k 2 T c u  i k  T c  6 De\002nition 7 The transaction-weighted utility of the itemset X is the sum of the transaction utilities of all the transactions that X belongs to It is denoted as T W U  X  and de\002ned as T W U  X   X X 022 T c  T c 2 D T U  T c  7 De\002nition 8 The high transaction-weighted utility itemset HTWUI consists of those itemsets whose TWU is no less than min util  Property 1 The transaction-weighted downward closure property holds for HUI says that if an itemset X is not a HTWUI all its supersets are not HUIs because U  X  024 T W U  X   B Mining Combined Utility-Association Rules HUI Mining is to discover itemsets with high utility whose utilities are higher than the minimum threshold in which their frequencies are not concerned HUI could be regarded as an extension of FIM towards addressing business interest  represented by utility  Lar ge number of itemsets w ould come out if the threshold is not proper As shown in Fig 1 of the utilities in a cluster of incremental itemsets we can see the utility is changing dynamically and irregularly As the basic rule in social marketing is to gain pro\002t businessmen might only care about products that can make pro\002t for them and are also interested in converting those less popular goods to be more preferred It is helpful for business purposes to 002gure out those itemsets which 1 are low utility itemsets but become high utility after one additional item or itemset is added 2 are high utility but become low utility after one item or itemset added An itemset whose length increases with adding new items is called Incremental Itemset  which means the number of items it contains would grow but never reduce Even though the utility metric provides reasonable evidence for selecting patterns of business interest it does not provide sound insurance about how sound a high utility pattern could be which can be complemented by frequencybased 002lters Therefore we propose a new strategy which combines both utility and frequency named as AssociatedUtility Growth AUG Pattern Mining  to identify AssociationMaximum Incremental Itemsets AMII and Utility-Increasing Incremental Itemsets UIII  The utility of an incremental itemset is dynamic meaning that the utility evolves when additional items are added to the underlying items which forms a utility curve A UIII structure is necessary to discover those utility increment-oriented itemsets Also it is no doubt that the frequency of an incremental itemset monotonically decreases Here maximum association does not refer to those itemsets with the highest frequency but those itemsets where items share a reasonable relationship with each other In some way it also means that the frequency would not change too much after adding one or several items Subsequently the measurement of AUG is considered for candidate pruning to 


TABLE V R EORGANIZED T RANSACTIONS WITH T HEIR R EORGANIZED TU S TID Transaction RTU T 0 1 C 1 A 1 D 1 8 T 0 2 C 2 B 6 A 1 F 5 24 T 0 3 C 6 B 2 A 2 D 5 E 1 60 T 0 4 C 3 B 4 D 2 F 3 18 T 0 5 C 2 B 2 F 3 9 TABLE VI I TEMS WITH T HEIR TWU S Item A B C D E F Pro\002t 92 111 119 77 60 51 002nd out those having both high utility growth and highly associated items In this way only one signi\002cant combined pattern is selected for each UI C An Abstract Model 2-length Combined Utility-Association Pattern Pair Here we illustrate the application of actionable Combined Utility-Association Rules through identifying 2-length Combined Utility-Association Pattern Pair  Take Fig 1 as an example here we suppose they hold the minimum con\002dence threshold or X a and X b share the same relation with X 0  the 1-length itemset X 0 is 002rstly treated as a UI  then two items added separately form two 2-length itemsets 001 X 1 is added and forms one new itemset X a with higher utility 001 X 2 is added and forms the other new itemset X b with lower utility X a and X b are two supersets of X 0  The pattern pair is shown in Equation 8 032 X 0  X a  U 000 Increase  a  X 0  X b  U 000 Decrease  b  8 De\002nition 9 Positive/Negative Impact Rule PIR/NIR  referring to rules structured as Equation b which is called positive/negative impact rules whose right-hand side is associated with utility higher/lower than X 0 on the left-hand side If such rules are used for marketing purposes a retailer should know what promotion mixtures make more pro\002t and what would lead to low pro\002t if they are put together based on the positive and negative rules IV T HE CUARM A PPROACH We aim to provide patterns to retailers for promotion strategies include increase high utility product combinations which are highly associated with each other We name it as UtilityAssociation Rules  which cannot be discovered by traditional association rule methods or utility mining algorithms alone The algorithm for identifying interesting utility-association rules is called Combined Utility-Association Rules Mining CUARM  To this end two factors Contribution and Weight  are proposed to select combined patterns of both high utility growth and strong association Fig 2 Header Table and A UP-Tree When min util  0 TABLE VII C OMPOSITION IN E ACH N ODE Formation Explanation N.na the item name of this node N.sc the support count of this node N.u the node utility of this node N.p the parent node of this node N.nl the node link which points to a node whose name is same as N.na A The Baseline Approach As stated above the purpose of HUI mining is to 002nd the set of all high utility itemsets f H  D min util  ef\002ciently One way to obtain the target patterns is to obtain f H  D 0 002rst which can be achieved by using UP-Growth with min util  0 and then extract the UARs from it In essence the baseline approach is a strategy to maintain all itemsets with their utilities Readers can refer to for the detailed structure and examples about UP-Growth and UP-Tree In addition the UG-Tree we proposed is built with min util  0 based on Table V and Table VI B The Proposed Approach 1 UG-Tree Our algorithm is based on utility growth and association rule mining thus all branches whose utilities decreasing should be pruned from the UP-Tree Since the utility growth of each node in a given branch could be either positive or negative we prune branches from its external node until the 002rst node whose utility growth becomes positive Such re-organized tree structure is called UG-Tree  as shown in Fig 3 The composition of each node N is listed in Table VII The Rebuilt Table is displayed to demonstrate the traversal of a UGTree In the downward table each row is composed of an item name  a transaction-weighted utilization value and a link  Each link points to the node having the same item name as shown in the UG-Tree The nodes with the same item names can be traversed ef\002ciently by following the links between downward table and the nodes in UG-Tree 2 UG-Tree Construction A UG-Tree can be constructed by only scanning the original database twice During the 002rst database scan items and their TWUs are captured via the 


Fig 3 Downward Table and A UG-Tree When min util  0 calculation of the TU of each transaction and TWU of each item The downward table is then formed by items inserted in the TWU-decreasing order In the second scan the reorganized transactions as well as their utilities are inserted into the UGTree as shown in Table V In addition all utility-decrement branches are pruned and shown in Fig 3 Finally an UG-Tree is created with root R The composition of each node is listed in Table VII De\002nition 10 A transaction after the process of the above reorganization is called Rebuilt Transaction and its TU is called rebuilt transaction utility RTU  denoted as RT U  T c   The construction of UG-Tree will be completed after all RTs are inserted with their RTUs Fig 3 presents a UG-Tree when the minimum utility threshold is set to be zero By using the UG-Tree which contains enough information we can generate the utility-association rules While the UGTree is retrieved the utility of each itemset can be discovered and prepared for the calculation of Factor C  At the same time the support count of each item can also be found through item.nl and used for Factor W  These two factors will be discussed in the next subsections C Impact Factor of Utility Growth across Combined Itemsets Both PIRs and NIRs are not dif\002cult to be acquired since just scanning the database one more time with a comparison added will help However this belongs to post-processing approach which is less ef\002cient and ignores item relation analysis during the mining process For these a measurement called contribution is proposed below to discuss the relationship among these three itemsets UI AI and DI on top of PIRs and NIRs De\002nition 11 The contribution of Additional Itemset  001 X  to make utility change increase or decrease from the Underlying Itemset  X 0  to Derivative Itemset  X  denoted as C 001 X j X 0   is de\002ned as C 001 X j X 0   032 2 1 e 000R 000 1  U  X   U  X 0  R  U  X  024 U  X 0  9 In Equation 9 R  U  X  U  X 0  10 This equation is proposed to measure whether itemset 001 X  as an additional part of X 0  plays an important role in transforming itemset X 0 to X in the utility perspective Here U  X  is the utility of X in the whole database The 002rst equation is associated with utility increase corresponding to PIR while the second corresponds to NIR In the 002rst function a logistic function is used to converge the contribution to the range of which will be discussed later in the ne xt section As demonstrated in Fig 1 the function of utility and itemlength is neither monotonic nor anti-monotonic meaning the utility of an itemset is dynamic with its length increasing The utility of each item is taken into consideration to analyze the contribution Furthermore the contribution of additional itemset provides in\003uence within the itemset sharing the same support counts which is not suitable for the operation of contribution However even though the contribution is presented to measure whether 001 X plays a signi\002cant role to promote the utility from X 0 to X  it is still measured by the rate R because 001 X might appear in other itemsets and the utility should be calculated in another way Two conditions might appear 1 The contribution of this 001 X is high enough to make X  DI  a signi\002cant PIR which also means itemset X 0 has a strong utility-association with itemset X  2 The contribution of this 001 X is so low that this f X 0  X g is proved to be a signi\002cant NIR thus itemset X 0 is rarely utility-associated with itemset X  D Co-occurrence Association between Underlying and Additional Itemsets De\002nition 12 The weight of additional itemset to measure the co-occurrence frequency of underlying itemset and additional itemset denoted as W 001 X j X 0   is de\002ned as W 001 X j X 0   Supp  X  Supp  X 0  001 X  11 It is a reduction of the Jaccard similarity coef\002cient 1  J  X 0  001 X   j X 0  001 X j j X 0  001 X j 12 This equation is to examine whether itemset 001 X has a high or low association by measuring their co-occurring frequency with itemset X 0  In Equation 11 Supp X  is the support of X 0 and 001 X appearing together and Supp X 0  001 X  is the support of either X 0 or 001 X appearing Supp  X 0  001 X   Supp  X 0  Supp 001 X  000 Supp  X  13 1 http://en.wikipedia.org/wiki/Jaccard index 


E Impacted Coef\002cient of the Additional Itemset De\002nition 13 The impacted coef\002cient of an additional itemset is to describe how effective this itemset is to manufacture the derivative itemset from underlying itemset denoted as AU G 001 X j X 0   de\002ned as AU G 001 X j X 0   r C 2 001 X j X 0   W 2 001 X j X 0  2 14 This equation averages the value of C 001 X  in Equation 9 and W 001 X  in Equation 11 Here we use the Quadratic Mean QM also known as Root-Mean Square to measure the signi\002cance of the itemset 001 X in terms of both utility and relationship perspectives because it represents the sample standard deviation of the difference between W and C  thus the result cannot be affected heavily by the smaller value It is easy to prove QM 2  X    X  2  033 2  X  15 Here X and 033  X  stand for the arithmetic mean and the standard deviation of W and C  We also tried another measurement by Harmonic Mean HM as a baseline which is proven to be less effective in our experiments For a speci\002c X 0  for each itemset 001 X to be considered the higher AUG means this itemset is likely to impel the underlying itemset into higher utility itemset On the contrary the lower the AUG is the lower utility that derivative itemset might be As all the AUG would be calculated only the largest AUG value itemset will be chosen F The CUARM Algorithm In this section an algorithm named Combined UtilityAssociation Rule Mining CUARM is proposed to discover all the actionable combined utility-association rules At the beginning of the algorithm it picks all UIs as candidates For each UI all the combined patterns are discovered with their AUGs which form a combined pattern cluster as in Equation 2 and only the most effective pattern would be selected In addition if two patterns are coupled with utility increment and decrement a combined pattern pair forms The input is the transaction database including all transactions with the utility of each item and the output is the combined pattern pairs their underlying itemset and the corresponding utilities In line 1 we prepare all the itemsets with their utilities in the alphabetical order and the length of longest itemset In lines 2-5 we start with each of the UIs named itemset 0 with its utility U 0  In lines 6-11 the DIs are ready and we calculate their AUGs In line 12-13 we select the pattern with max AUG values as CUAR V E XPERIMENTS In this section we conduct intensive experiments to evaluate the proposed methods Our experiments were run on a PC with a 2.30 GHz Intel Core 16 gigabyte memory CUARM is implemented in Java Two real datasets and two synthetic datasets are used for the experiments The real Algorithm 1 CUARM Input  Transaction database D  including the utility U  X  of each item in D Output  All actionable combined utility-association rules 1 Get all itemsets utilities via UG-Tree  2 Get the length of longest itemset lmax  3 for len  1 len  lmax len do 4 for Itemset whose length is equal to len do 5 Get itemset 0 with U 0 itemset-utility 6 for itemset.length  len do 7 Check inclusive and utility changes 8 Get itemset 1 with U 1  9 Calculate C 10 Scan the database get W 11 Calculate AUG 12 Selected max one 13 Present this utility-association rule TABLE VIII C HARACTERISTICS OF DATASETS Dataset Number of Transactions Number of Items Average Length Retail 2 88162 16470 10.3 Chainstore 3 1112949 46086 7.3 t20i6d100k 100000 658 13.7 c20d10k 10000 187 13 datasets are Retail 2 and Chainstore 3  and the synthetic datasets are t20i6d100k and c20d10k  The parameters of the datasets are listed in Table VIII A Comparison of Two Functions for Calculating Impacted Coef\002cient Here we propose two functions for calculating the impacted coef\002cient One is the quadratic mean QM which is adopted in this paper the other function is the harmonic mean HM which is proved to be less accurate in the experiments Those itemsets with a good coef\002cient measurement should be associated with both high frequency and high utility growth we thus can separate the database randomly If the output itemsets discovered in each sub-database are stable we can assume that this measurement is suitable The experiments were conducted on the Retail dataset for the sake of simply examining the QM function The top 100 experimental results are selected and shown in Fig 4 The 002gure on the left shows the comparison between UP-Growth and QM while the 002gure on the right shows the result of QM and HM on C 001 X  and W 001 X   The database is split into 10 parts randomly The 002rst part contains 10 transactions in the database and each later part contains 10 more transactions than the former part such that the second part contains 20 and the last part is 100 The X axis is the k th  1 024 k 024 10  part of the database and the Y axis is the match ratio which means the ratio of the exact patterns found in the k th part 2 http://www.philippe-fournier-viger.com/spmf/index.php?link=datasets.php 3 http://cucis.ece.northwestern.edu/projects/DMS/MineBench.html 


Fig 4 The Comparison of HM QM and UP-Growth matching with the  k  1 th part As seen from the 002gures the QM method outperforms both HM and UP-Growth B Experimental Evaluation of CUARM Next we present the experimental results of comparing derivative itemsets with the traditional HUIs FIs and UIs Underlying Itemsets respectively The statistic values of each dataset are shown in Table VIII The experiment is conducted as follows Firstly we collect all the utility itemsets with their utilities and frequencies in each dataset respectively Secondly we also collect all the frequent itemsets with their frequency and utility Then we calculate the utilities of the frequent itemsets frequencies of the HUIs and both utilities and frequencies of the derivative itemsets At last we plot the frequency of itemsets discovered via UP-Growth and CUARM the utility of itemsets discovered by FP-Growth and CUARM and the utility changes from each underlying itemset to derivative itemset as shown in Fig 5 Such exhibition is made for the comparison of our algorithm with FIM and HUI to demonstrate the UtilityAssociation Rules we discovered have both high utility and high frequency Here all the frequent and utility itemsets we compare with contain at least two items because the derivative itemsets our algorithm discover contain no less than two items Experiments on Real Datasets We 002rst present the outputs of dataset Retail in Fig 5\(a and Fig 5\(b Top 50 patterns of each algorithm are selected for experiments By analyzing the frequencies and utilities of patterns many of them are without much difference in both two experiments which means the association rules we found via traditional AR algorithms are also high utility-association rules via our method In addition such rules are also with high utilities This explains why some parts of the curves overlap In addition customers prefer to buy a few products at one time that is most of FIs and HUIs contain only one or two items which also explains the observations In datasets Chainstore  the differences are much clearer because customers usually prefer a variety of products in each of transactions and high utility itemsets are always low in frequency while highly frequent itemsets are with low utility For example in Fig 5\(d the CUARM performs much better than that of FP-Growth while in Fig 5\(e even at some points the performance is not so good the global performance is much better To sum up we can assert that the performance of our algorithm CUARM is much better than the others Experiments on Synthetic Datasets Experimental results on synthetic datasets t20i6d100k and c20d10k are shown in Fig 5\(g Fig 5\(h Fig 5\(j and Fig 5\(k The results are much clearer than those from real datasets because the items included are much neat and with orderliness For most of the patterns discovered via CUARM the frequencies are much higher than those traditional high utility itemsets At the same time most Utility-associated rules are also with much higher i.e twice the utility than traditional association rules especially in Fig 5\(h from dataset t20i6d100k  C Evaluation of the Utility Increment We demonstrate the utility increment in a graphic way to show how the utility increases from underlying itemset to derivative itemset The utility increment is valued based on the same datasets as above points are ordered by the utility of derivative itemsets The performance of our algorithm varies from one dataset to another The performance in chainstore is much better than that in retail because the transaction time in chainstore is 12 times more than that in retail while the item types are only twice more However in the synthetic datasets the performance is better In conclusion for each dataset the performance is different but the utility actually increases D Utility Variation Experiments Conclusion Based on the above datasets and experimental results a table is used to demonstrate the conclusion that comes from our experiments and shown as Table IX This table describes the number of itemsets whose utilities are increase or decrease with given threshold Also two kinds of utility incremental forms are listed One is the utility of derivative itemset is higher than both the utilities of underlying itemset and additional itemset which is denoted as FA the other is that the utility of derivative itemset is higher than only the utility of underlying itemset which is denoted as FB As for each underlying itemset only one derivative itemset would be discovered some FA and FB might be ignored For the utility decrement itemsets whose utilities are only lower than the underlying itemsets would not be considered in this table because these itemsets can also be regarded as FBs when the underlying itemsets and additional itemsets exchange TABLE IX U TILITY V ARIATION C ONCLUSION Dataset Min Sup N.DI R.U N.FA N.FB N.DecI Retail 0.01 89 20.3 50.4 28 22 39 0.008 135 18.6 50.4 37 46 52 0.002 1667 8.4 50.4 473 769 425 Chainstore 0.002 79 4.6 207.2 7 19 53 t20i6d100k 0.017 33 25.7 78.5 8 11 14 0.015 79 22.8 78.5 24 19 36 0.012 383 1.8 78.5 112 137 134 c20d10k 0.05 120 19.7 150.9 28 48 44 In Table IX M in Sup in the minimum support for mining itemsets N:DI is the number of derivative itemsets discovered 


figures1//retail_f-eps-converted-to.pdf a retail figures1//retail_u-eps-converted-to.pdf b retail figures1//retail_i-eps-converted-to.pdf c retail figures1//ds7_f-eps-converted-to.pdf d chainstore figures1//ds7_u-eps-converted-to.pdf e chainstore figures1//ds7_i-eps-converted-to.pdf f chainstore figures1//t20i6d100k_f-eps-converted-to.pdf g t20i6d100k figures1//t20i6d100k_u-eps-converted-to.pdf h t20i6d100k figures1//t20i6d100k_i-eps-converted-to.pdf i t20i6d100k figures1//c20d10k_f-eps-converted-to.pdf j c20d10k figures1//c20d10k_u-eps-converted-to.pdf k c20d10k figures1//c20d10k_i-eps-converted-to.pdf l c20d10k Fig 5 Experiments for FP UP and CUARM with the threshold M in Sup  R:U in the utility incremental rate from underlying itemset to derivative itemset N:F A is the number of FA itemsets N:F B is the number of FB itemsets and N:DecI is the number of decremental itemsets VI C ONCLUSIONS AND F UTURE W ORK Traditional high utility itemset mining methods have the weak point that if the minimum utility threshold is set too high the itemsets discovered might contain unrepresentative items while if the threshold is set too low too many redundant itemsets will be found On the other hand traditional association rule mining ignores the utility hidden among the items This work proposes a novel pattern select method from two aspects One is the co-occurrence of two underlying and additional itemsets another is the utility increment from underlying itemset to derivative itemset It is an effective approach for identifying actionable combined utility itemsets in which for different items only one itemset will be selected with the highest association-utility growth which caters for both high association and high utility Thus only the most effectively impacted itemsets will be presented The results demonstrate that our method can discover patterns that are composed of different item combinations of both utility increment and high representativeness For the future work we may 002nd some more interesting pattern selection method For example there exists a dependent relationship between two itemsets A and B which means A might appear frequently alone or with other items but for most time B appears together with A VII A CKNOWLEDGMENTS This work is sponsored in part by Australian Research Council Discovery Grant P130102691 R EFERENCES  R Agra w al R Srikant 1994 F ast Algorithms for Mining Association Rules in Proc of the 20th Int'l Conf on Very Large Data Bases pp.487-499 Santiago Chile  C.F  Ahmed S.K T anbeer  B.-S Jeong and Y K Lee 2009 Ef 002cient Tree Structures for High utility Pattern Mining in Incremental Databases in Proc of IEEE Transactions on Knowledge and Data Engineering Vol 21 Issue 12 pp 1708-1721  L Cao Y  Zhao C Zhang 2008 Mining Impact-T ar geted Acti vity Patterns in Imbalanced Data IEEE Trans on Knowledge and Data Engineering 20\(8 1053-1066  L Cao P  S Y u C Zhang and Y  Zhao 2010 Domain Dri v en Data Mining Springer  L Cao 2013 Combined mining Analyzing object and pattern relations for discovering and constructing complex yet actionable patterns Wiley Interdisc Rew Data Mining and Knowledge Discovery 3\(2 140-155  J Han J Pei and Y  Y in 2000 Mining Frequent P atterns without Candidate Generation in Proc of the ACM-SIGMOD Int'l Conf on Management of Data pp 1-12 Dallas TX USA  J Han H Cheng D Xin and X Y an 2007 Frequent P attern Mining Current Status and Future Directions DMKD 15 55-86  M S Khan M Muyeba and F  Coenen 2008  A W eighted Utility Framework for Mining Association Rules in Proc of the Second UKSIM European Symposium on Computer Modeling and Simulation pp 87-92  X Lin Q Zhu F  Li Z Geng and S Shi 2010 S Share Strate gy for Utility Frequent Patterns Mining in Proc of the Seventh International Conference on Fuzzy Systems and Knowledge Discovery pp 14281432 Yantai China  J Liu K W ang and B C M Fung 2012 Direct Disco v ery of High Utility Itemsets without Candidate Generation in Proc of the IEEE Int'l Conf on Data Mining ICDM  M Liu and J Qu 2012 Mining High Utility Itemsets without Candidate Generation in Proc Of the ACM Int'l Conf on Information and Knowledge Management CIKM pp 55-64 


 Y  Liu W  Liao and A C houdhary  2005  A T w o-Phase Algorithm for Fast Discovery of High Utility Itemsets in Proc of PAKDD pp 689-695  S Shankar  T  Purusothaman S Kannimuthu and P  K V ishnu 2010 A Novel Utility and Frequency Based Itemset Mining Approach for Improving CRM in Retain Business International Journal of Computer Applications Volume 1 No 18 pp 87-94  V  S Tseng C.-W  W u B.-E Shie and P  S Y u 2010 UP-Gro wth An Ef\002cient Algorithm for High Utility Itemset Mining in Proc of Int'l Conf on ACM-SIGMOD pp.253-262  B V o B Le and J Jung 2012  A T ree-Based Approach for Mining Frequent Weighted Utility Itemsets in Proc of ICCCI 2012 Part I LNAI 7653 pp 114-123  C W u Y  Lin P  S Y u and V  S Tseng 2013 Mining High Utility Episodes in Complex Event Sequences in Proc of ACM SIGKDD International Conference on Knowledge Discovery and Data Mining KDD pp 536-544  C W u P  Philippe P  S Y u and V  S Tseng 2011 Ef 002cient Mining of a Concise and Lossless Representation of High Utility Itemsets in Proc of IEEE Int'l Conf on Data Mining ICDM pp.824-833  C W u B Shie V  S Tseng and P  S Y u 2012 Mining top-K high utility itemsets in Proc of ACM SIGKDD International Conference on Knowledge Discovery and Data Mining KDD pp 78-86  H Y ao H J Hamilt on and C J Butz 2004  A foundati onal approach to mining itemset utilities from databases in Proc of the 4th SIAM Int'l Conf on Data Mining Florida USA  J S Y eh Y  Li and C Cheng 2007 T w o-Phase Algorithms for a Novel Utility-Frequent Mining Model in Proc of PAKDD Workshop LNAI 4819 pp 433-444  J Y in Z Zheng and L Cao 2012 USpan An Ef 002cient Algorithm for Mining High Utility Sequential Patterns in Proc of ACM SIGKDD International Conference on Knowledge Discovery and Data Mining KDD pp 660-668  H Zhang et al 2008 Combined Association Rules Mining in Proc of PAKDD08 pp.1069-1074  Q Zhao and S Bho wmick 2003  Association Rules Mining a Surv e y Journal of Nanyang Technological University 2003116  Y  Zhao et al 2007 Mining for Combined Association Rules on Multiple Datasets in Proc of the KDD 2007 Workshop on Domain Driven Data Mining San Jose CA USA pp 18-23 


