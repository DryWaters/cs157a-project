Generic Film Forms for Dynamic Virtual Video Synthesis Craig A Lindley CSIRO Mathematical and Information Sciences, Locked Bag 17 North Ryde NSW 21 13 Australia Craig Lindley  crnis csiro.au Abstract The FRAMES project within the RDN CRC Cooperative Research Centrle for Research Data Networks is developing an experimental environment for video content-based retrieval and dynamic virtual video synthesis from urchives 
of video data The FRAMES research protoiype is a video synthesis system incorporating an association engine for automatically generating associative sequences of video data Authors preparing video descriptions association spec$cations and component video sequences require guidelines for developing the primitive video components and semantic representations required to create particular film forms High level formarl models offilm and video provide such a methodology In particular categorical associational and abstract film forms can be generated based upon video component descriptors and specifications while narrative and 
rhetorical forms require the introduction of independent rules or relations expressing causal and rhetorical relationships respectively 1 Introduction The FRAMES project within the ACSYS CRC Advanced Computational Systems Cooperative Research Centre is developing an experimental environment for video content-based retrieval 7 and dynamic virtual video synthesis 4 from archives of video data The FRAMES research prototype is a video synthesis system incorporating a multi-level database model for describing the semantics of archived video data together 
with an association engine for automatically generating associative sequences of video data This paper addressed the methodologiical question of which kinds of video semantic descriptors and specifications should be used to generate particular forms of synthetic or virtual video The paper begins by characterising the video synthesis problem and describing the FRAMES research demonstrator We then present a set of high level models of film form A detailed example is developed to demonstrate how these formal models are 
related to the 0-7695-0253-9/99 10.00 0 1999 IEEE FRAMES multi-level model of video semantiics and to show how virtual videos having those fornns can be generated using the FRAMES association language and chaining engine. While some film forms can be created in a direct way using the current FRAMES prototype, other forms require supplementation of the basic semantic content models with general models of causal and rhetorical relationships providing requirements specifications for extensions to the initial FRAMES association engine 
and semantics database 2 FRAMES Virtual Video Synthesis Approaches to video synthesis can be divided into two broad categories The first category includes approaches that seek to synthesise all of the image content eg the Stanford Virtual Theatre Project The second category includes approaches that seek to synthesise coherent video sequences from pre-existing sequential components The FRAMES system is a research prototype for exploring video semantics representation and dynamic virtual video synthesis from pre-existing sequential components. In the 
FRAMES system a virtual video prescription provides high level content structuring and pacing control A virtual video prescription is essentially a virtual video program template containing a series of instructions that include association specifications for initiating and controlling the generation of associative sequences of video data 4 An association specification is expressed in a propositional language that includes initial values for video content descriptors ie semantic annotations\constraints upon descriptor values and weights upon descriptor types 5 Association 
specifications can be modified dynamically for active control of pacing and progression of detail, and also as a mechanism by which a viewer can interact with the dynamic virtual video synthesis process Video semantic descriptors are modelled in FRAMES using a metamodel based upon the film semiotics pioneered by the film theorist Christian Metz 6 This novel metamodel includes five levels of cinematic codification 7 The perceptual level is the level at which 97 


visual phenomena become perceptually meaningful and visual distinctions are perceived by a viewer The diegetic level is the level at which the basic perceptual features of an image are organised into the four-dimensional spatio temporal world represented by a video image or sequence of video images The cinematic level is the level of formal film and video techniques incorporated in the production of expressive artefacts \(\223a film\224 or 223a video\224 This level includes camera operations pan tilt zoom lighting schemes and optical effects The connotative level of video semantics includes metaphorical analogical and associative meanings that the denoted ie diegetic objects and events of a video may have Finally the subtextual level of video semantics includes more specialised meanings of symbols and signifiers Modelling 223the meaning\224 of a video shot or sequence requires the description of the video object at any or all of the levels described above The different levels interact so that for example particular cinematic devices can be used to create different connotations or subtextual meanings while dealing with similar diegetic material Virtual videos are produced in FRAMES based upon the interpretation by the virtual video engine of a virtual video prescription created by an author 4 An instruction within a prescription can provide access to video components via direct reference parametric database search, or by associative chaining Associative chaining is a method of automatically selecting and sequencing video data on the basis of its degree of match to an initial search specification and then incrementally to successive component descriptions in the associative chain Since association is conducted progressively against descriptors associated with each successive video component paths may follow semantic chains that progressively deviate from the initial matching criteria Specific filmic structures and forms can be generated by the FRAMES association engine based upon a suitable association specification 5 In this way the sequencing mechanisms remain generic with emphasis shifting to the authoring of metamodels interpretations and specifications for the creation of specific types of dynamic virtual video productions 6 3 High Level Syntactic Forms for Video  rain town  brown  disaster  flood Alternate approaches to video synthesis raise the question of which models and algorithms are appropriate to use for particular interactive or dynamic virtual video productions In particular the question arises of what can be accomplished using only atemporal descriptors associated with separate video components, and when is it necessary to introduce temporal representations or representations about meanings created only by the combination of separate components Davenport and Murtaugh 2 emphasise narrative as the primary organising principle for evolving documentary However narrative is only one among a number of organising forms of filmic material Bordwell and Thompson I identify the additional categories of categorical associational abstract and rhetorical forms Each of these forms represents a different partially codified syntactic structure for film sequences In most real films the forms apply at multiple levels of film structure a given film sequence may involve multiple forms at the same level and multiple forms may occur at different levels In this section we describe each form and illustrate where appropriate how it might be generated from FRAMES semantic annotations and the FRAMES associative chaining algorithm using the example database shown in Table 1 The database contains video sequences having the content descriptors classified by level of codification shown on the table Table 1 Example Database Shot Number I Diegetic I Perceptual I Connotative 1 I mountain I blue I  tranquil I I  cloud I I skiing I I I I I wolves I I 2 I mountain 1 grey I gloomy I  rain  foothills  rain  foothills  river  town  blue Descriptors used in the example are typed as follows diegetic descriptors are limited to Object and Location types include: mountain, foothills, and town Object types include cloud rain river, and flood perceptual descriptors are limited to Colour types connotative descriptors are generically typed Location types In general descriptors are not absolute and are authored together with knowledge of the database contents, process instructions virtual video specifications and possibly rules to create various forms of virtual video Connotative and subtextual descriptors may vary widely for a particular shot if provided by different authors The annotations created at these levels may reflect a strong authorial intent within a particular virtual video production  they do not necessarily represent 223what the author thinks\224 about a particular shot or its content but 98 


how the author 221wants that shot to function within a specific production 3.1 Categorical Form Categorical films use subjects or categories as a basis for their organisation typically basing each segment of the film on one category or subcategory Common examples of stereotyped categorical films include lifestyle and gardening programs travelogues and sporting programs The FRAMES data model associates typed annotations with video segments Annotation types are category types and the annotations themselves are category names An associative chain is initiated by sending an association specification to the association engine The specification includes the descriptor types to chain on as well as initial values and possible constraints upon values For a categorical film the supercategory or general topic if specified can be represented by a constrained and hence unchanging\descriptor value The subcategories to move through are then represented as unconstrained descriptor types The rate at which the categories change can be determined by a weighting attached to the subcategory descriptors the higher the positive weighting the more slowly the categories will change while the more negative the weighting the faster the categories will change As a demonstiration of this a virtual video can be generated from the example database described on Table 1 If the topic of interest is rainfall, and we wish to move quickly through the different locations as subcategories the specification 223\(object  223rain\224 and location[-OS  223mountain\224 ma:y generate the sequence of clips numbered 2 3 5 showing rain on the mountain in the foothills and in the town, respectively The first clip will be clip 2 since it is the only clip that matches both the constrained value of object  223rain\224 and the initial value of location  223mountain\224 After the first clip the constrained object value persists as 223rain\224 but the location value will be altered With this very simple specification, either of the clips 3 or 5 could come next and the overall order of clips after the first clip will depend upon ad hoc aspects of the implementation such as the de facto order in which records are retrieved by the database management system This is acceptable in the case of a categorical film since we are only concerned that the categories of interest are selected and not in their order or selection 3.2 Associationial Form Associational videos suggest expressive qualities and concepts by grouping images The juxtaposition of images in an associational film leads the viewer to look for some connection between them an association that binds them together This form is distinguished from rhetorical and narrative forms in that the binding association is not a causal or rhetorical relationship Repetition of motifs is particularly important in associational forms Within the FRAMES system an associative relationship between video sequences amounts to having a common descriptor value. As an example we may wish to generate a sequence of clips manifesting the concept of gloom This can be done using a very simple specification of the form 223\(connotation  223gloom\224 which will generate a sequence containing the clips 2 3 and 5 showing mountain rain rain in the foothills and a flooded town, again in an unspecified order Note that there is a strong involvement of this form of associational relationship within films of the categorical form a categorical film has a high level structure determined by representing a number of desired categories while within each category there may be a number of separate clips associated by membership of the common category Moreover the set of categories itself may be associated as subcategories of a single supercategory as in the previous example where all of the clips are associated with the concept of rain 3.3 Abstract Form In films having an abstract form the audience\222s attention is drawn to abstract visual and sonic qualities of the things depicted \(shape, colour, rhythm etc In other words films based upon the abstract form are films in which the essential subject is the film medium itself, and the phenomenological effects that the medium can produce other than by simply representing things in the world or arguments, etc.\Objects represented in abstract films are selected for their visual qualities and not for their worldly functions as the objects represented by the image Many experimental or avante garde films are concerned with the exploration of the abstract or formal properties of the film medium. Abstract qualities are also taken into account in other film forms but do not usually provide the dominant principles of their organisation The specification 223\(colour  223blue\224 is an example of an associative specification involving abstract descriptor The execution of this specification by the FRAMES assocaition engine using a database of video annotations that includes colour descriptions will create a sequence containing all of the blue shots in the database ie sequences 1 2 and 4 Alternatively the specification 223\(colom[-0.5]=blue will create a sequence starting with a blue shot and then containing a series of shots that vary rapidly in colour from one shot to the next 99 


Abstract films can use either persistent positively weighted or rapidly changing negatively weighted descriptor values Hence they can actually be either categorical or associational films as defined above and in relation to the specific formal aspects represented in a category or associative feature at the cinematic or physical level of codification Their distinguishing characteristic as abstract films is in the use of non representational structuring principles The abstract form is therefore an orthogonal classification which may be distinguished from more representational functions of categorical and associational films 3.4 Narrative Form Narrative and rhetorical film forms are both distinguished from categorical, associational and abstract films by their creation of meanings that specifically require the sequential association of initially distinct video sequences. That is, any basic video component in a categorical or associational film will represent its designated meaning ie associated descriptor irrespectively of what precedes or follows it For rhetorical and narrative films, however, the rhetorical and narrative meanings created by the sequential juxtaposition of basic video components is not and generally cannot be conveyed by those components in isolation \(unless the components manifest representational redundancy Different theorists focus on different qualities that characterise narrative, such as the conjunction of events and recounting narrative is regarded as a kind of knowledge\teleology and hence a sense of closure and wholeness, or temporality. Basically though narrative is about telling a story and hence involves a system of causally interrelated events actions and situations Commercial dramatic films are narrative films although narrative organisation also appears frequently in many forms of documentary Narrative is concerned with the creation of a pattern of cause-effect relationships among the diegetic events actions and situations depicted by a film In general this pattern may be extremely complex eg involving converging and diverging patterns of implied parallel action can involve the words and motivations of characters and may be narrated using time orders quite different from those depicted in the diegetic world eg using flashbacks or flashforwards As Davis 3 notes the representation of action and causality can draw upon a large body of research in reasoning about action and an understanding is needed of the level of resolution required in the decomposition of represented action Here a very simple method is considered for synthesising coherent narrative video sequences Even in this very simple example representations are required beyond the semantic annotations needed to create synthetic videos having categorical, associational and abstract forms This is because the description associated with each separate component does not represent the unique meanings ie implications of causality created by the combination of those components For the example database described above a narrative sequence can be created using a simple forward-chaining inference engine and the following two causal relations or rules location  mountain and object  rain\causes location  foothills and object  river\causes location  foothills and object  river location  town and object  flood The chaining algorithm begins with the video component showing rain in the mountains With each inferential step the algorithm matches the latest effect with the cause of another effect The components associated with each effect state are selected in the same order that they occur in the cause-effect sequence. In this case this results in the sequence of clips 2 4 and 6 This sequence shows: rain in the mountains followed by water flowing in the river in the foothills then the town being flooded The implied narrative is very clear that the rain in the mountains created the water that ended up flooding the town The creation of such narrative sequences can be reasonably straightforward if the contents of the database are known and for a comparatively constrained range of narrative possibilities For a less constrained database, the creation of coherent narratives quickly becomes problematic Narrative generation incurs general problems of reasoning about action such as the frame problem: how do we know the full extent of what should or should not follow from the performance of a given action in a given context Filmic narratives raise additional problems, such as how to decide how much of the video data identified as the causal consequences of a starting clip to actually display ie what are the relevant consequences and what are irrelevant in a given situation These questions are topics of ongoing research 3.5 Rhetorical Form Rhetorical films present an argument and lay out evidence to support it The aim of such a film is to persuade the audience to hold a particular opinion or belief Rhetorical films will frequently present arguments as if they are observations or facts, and will typically fail to present any opposing views A standard description of rhetorical form suggests that it begins with an introduction of the situation goes on to a discussion of 100 


the relevant facts then presents proofs that a given solution fits those facts and ends with an epilogue that summarises what has gone before Common examples of rhetorical films are television commercials The representations required to create simple rhetorical sequences are analogous to those required for narrative sequences For narrative diegetic state descriptions are associated causally with other diegetic state descriptions For rhetorical films diegetic connotative or subtextual state description are associated by various rhetorical relationships to alther diegetic connotative or subtextual state descriptions Here we consider simple syllogistic implication In particular the argument may be expressed informally that if it rains in the mountains then the river will rise and the town will flood In terms of the annotations available in the example database this argument could be represented by the rules If location  mountain and object  rain then \(location  foothills and object  river If location  foothills and object  river then location town and object  flood An inference engine could begin with the consequence location  town and object  flood and backward chain through location  foothills and object  river to the conditions \(location  mountain and object  rain Video components can be found that satisfy each of these conditions and the sequence presented in either the forward or reverse order to the direction of inferential search In the example database reversing the search order will result in the sequence of clips 2 4 and 6 the same as that derived in the narrative case but this time using logical implication rules 4 Conclusion The identification of the five film forms discussed in this paper clarifies the kind of virtual video production that can be achieved using the existing FRAMES matching process and provides functional requirements for extensions of the basic matching process to include both causal and rhetorical relationships Further research is addressing the detailed development of causal and rhetorical representations techniques for incorporating causal and rhetorical information into the matching process and techniques for the systematic creation of nested formal structures Research Data Networks established under the Australian Government\222s Cooperative Research Centre CRC Program and acknowledge the support of the Advanced Computational Systems CRC under which the work described in this paper is administered References I D Bordwell and K Thompson Film Art An Introduction 5\221h edn., McGraw-Hill, 1997 2 G Davenport and M Murtaugh 223ConText Towards the Evolving Documentary\224 Proceedings ACM Multimedia San Francisco, California, 1995 5-1 1 3 M Davis 223Knowledge Representation for Video\224 Proceedings of the 121h National Conference on Artificial Intelligence AAAI, MIT Press, 1994 pp 120-127 4 C A Lindley and A.-M Vercoustre 223Intelligent Video Synthesis Using Virtual Video Prescriptions\224 Proceedings International Conference on Computational Intelligence and Multimedia Applications Churchill Victoria 1998 pp 661  666 5 C A Lindley and A.-M Vercoustre 223A Specification Language for Dynamic Virtual Video Sequence Generation\224 International Symposium on Audio Video Image Processing and Intelligent Applications, Baden-Baden, Germany, 1998 6 C Metz Film Language A Semiotics of the Cinema trans by M Taylor The University of Chicago Press, 1974 7 U Srinivasan C Lindley and B Simpson-Young 223A Multi-model framework for Video Information Systems\224 accepted for 223Semantic Issues in Multimedia Systems\224 gth IFIP 2.6 Working Conference on Database Semantics DS-8 Rotorua, New Zealand 1999 5 Acknowledgements The author wishes to acknowledge that this work was carried out within the Cooperative Research Centre for 101 


5 CONCLUSION Both classification rule mining and association rule mining are important problems in the field of data mining Many kinds of classification algorithms have been proposed in the past and in recent years But each of thein has its drawbacks In this paper two algorithms are designed to use the basic concept of association rules to find classification rules directly and efficiently From the empirical evaluation we can see that both two algoritluns achieve better classification accuracy and produce complete, useful sets of rules. It is also shown that these two algorilluns both have a good scalability and GARC has a betttT execution speed than UARC ACKNOWLEDGEMENT This work was partly supported by National Science Foundation of China grant No 69674037 and grant No 79825 102 and National Defense Foundation of China REFERENCES I G Piatetsky-Shapiro U Fayyad P Smyth Froni data nriniiig to kirowlcdge discovery Air oiwvieii Advairccs iir Kiiowledge Discovety aiid Data Miiziiig AAAMT press 1996,pp 1-35 2 J R Quinlan C3.5 Progranis for Machine Leamiiig Morgan Kaufmaiui 1993 3 Manish Mehta, Rakesh Agrawal and Jomia Rissanen SLIQ A Fast Scalable Classijer for Data Mining Extending database technology 1996 pp. 18-32 4 J Catlett hlegaindrictioii: Macliine 'Learxiiig on kiy Laige Databases PID thesis, University of Sydney, 1991 5 K llsaDti S Rolilia I Sirrgli CLOIJDS 4 dccisiori Tree classifier for Large Ilata sets hi Proc Of the Fourth hit Conference on IGionlcdge Discovery R Data Mining New York New York August 27-3 I 1998 pp 2-8 6 Biiig Liu Wyiuie HSU and Yiming Ma hitegglit Classij7catioir mid Associatiori Ride hfiniiig In Proc Of the Fo~irth Int Conference on Knowledge Discovery R Data Milling New York New York August 27-3 1 1998, page 80 86 7 R Agrawal T Imielinski aiid A Swami hfiiriiig association ides behveeii sets of itctns iii large databases In: Proceeding of 1993 ACM-SIGMOD hit Conf On Management of Data Washington D.C 1993, pp 207-216 8 R Agrawal R Snkant Fast algorithm for mining association rules In Proc Of the 20th VLDB Conference Santiago, Chilc 1994 pp 487-499 9 J S Park M S Chen and P.S Yu An Effective Hash-based Algorithnr for bfinitig Association rules In Proceedings of ACM-SIGMOD Int Conf On Management of Data Baltimore MD 1995, pp 175-186 10.H Toivonen Sanrplirig Large Databases for Associatioir Rirles hi 22th International Conference on VLDB Bombay India. September 1996, pp 134-145 11,s Brin R Motwani J Ulhnan et al iamic iteniset coroitiirg arid iniplicatioii niles for market basket data In Proc. Of 1997 ACM-SIGMOD Int Conf On Management of Data Tucson, Arizona 1997, pp 255-264 12 S M Weiss aid C A Kulikowski Computer System that Lcarx Classificatiori and prediction A,fetliods from Statistics A~errml Vetss A./clc/iine Leainiiig arid Expert Sjatenis Morgan Kaufman 199 I 13 L Breiman et al Class~ficatioir and Regrcssioir T~~.L?s Wxhorth Belmont 1984 14 Rakes11 Agrawal Tomasz Iniielinsb Arun Swami Darrihase l4iitiiig 4 Pctfomraiice Perspective IEEE transaction on knowledge and data engineering December 1993,5\(6 pp 914-925 III 916 


937 of Lecture Notes in Computer Science Berlin 1995 Springer J Gray A Bosworth A Layman and H Pira hesh Data Cube A relational aggregation op erator generalizing group-by cross-tab and sub totals In 12th International Conference on Data Engineering ICDE\22296 pages 152  159 New Orleans Louisiana Feb 1996 J Han and Y Fu Discovery of multiple-level as sociation rules from large databases In Proceed ings of the 21st International Conference on Very Large Data Bases VLDB\22295 pages 420  431 Zurich Swizerland 1995 K Hatonen M Klemettinen H Mannila P Ronkainen and H Toivonen Knowledge dis covery from telecommunication network alarm databases In 12th International Conference on Data Engineering ICDE 22296 pages 115  122 New Orleans Louisiana Feb 1996 M Holsheimer M Kersten H Mannila and H Toivonen A perspective on databases and data mining In Proceedings of the First Inter national Conference on Knowledge Discovery and Data Mining KDD\22295 pages 150  155 Mon treal Canada Aug 1995 M. Holsheimer M Kersten and A Siebes Data surveyor Searching the nuggets in parallel In U M Fayyad G Piatetsky-Shapiro P Smyth and R Uthurusamy, editors Advances in Knowl edge Discovery and Data Mining pages 447  467 AAAI Press Menlo Park, CA 1996 T Imielinski A database view on data mining Invited talk at the KDD\22295 conference M Jaeger H Mannila and E Weydert Data mining as selective theory extraction in proba bilistic logic In SIGMOD\22296 Data Mining Work shop 1996 To appear J.-U Kietz and S Wrobel Controlling the com plexity of learning in logic through syntactic and task-oriented models In S Muggleton editor Inductive Logic Programming pages 335  359 Academic Press London 1992 W Kloesgen statements in databases Infurmation Systems 4\(1  69 1995 H Mannila and K.-J Raiha Design by example An application of Armstrong relations Journal of Computer and System Sciences 33\(2  141 1986 Efficient discovery of interesting Journal of Intelligent H Mannila and K.-J Raiha Design of Relational Databases Addison-Wesley Publishing Company Wokingham UK 1992 22 H Mannila and H. Toivonen Discovering gener alized episodes using minimal occurrences Tech nical Report C-1996-12 University of Helsinki Department of Computer Science March 1996 23 H Mannila and H Toivonen. Multiple uses of fre quent sets and condensed representations Tech nical Report C-1996-13 University of Helsinki Department of Computer Science March 1996 24 H Mannila and H Toivonen On an algorithm for finding all interesting sentences In Cybernetics and Systems Research 22296 Vienna Austria Apr 1996 To appear 1251 H Mannila H Toivonen and A I Verkamo Discovering frequent episodes in sequences In Proceedings of the First International Confer ence on Knowledge Discovery and Data Mining KDD\22295 pages 210  215 Montreal Canada Aug 1995 26 C J Matheus G Piatetsky-Shapiro and D Mc Neill Selecting and reporting what is interesting In U M Fayyad G Piatetsky-Shapiro P Smyth and R Uthurusamy, editors Advances in Knowl edge Discovery and Data Mining pages 495  515 AAAI Press Menlo Park CA 1996 27 K Mulmuley Computational Geometry An Introduction Through Randomized Algorithms Prentice Hall New York 1993 28 A Savasere E Omiecinski and S Navathe An efficient algorithm for mining association rules in large databases In Proceedings of the tist Inter national Conference on Very Large Data Bases VLDB\222951 pages 432  444, Zurich Swizerland 1995 29 J W Tukey Exploratory Data Analysis Addison-Wesley Publishing Company Reading MA 1977 8 


Hei kki Mannila Biographical Summary Heikki Mannila is a professor of computer science at the University of Helsinki where he also obtained his Ph.D in 1985 Since then he has been an associate professor at the Universities of Tampere and Helsinki a visiting professor at the Technical University of Vienna, and a guest researcher at the Max Planck Institut fur Informatik in Saarbrucken He has also worked at the National Public Health Institution in Helsinki as well as being an industry consultant His research interests include data mining machine learning database design and text databases He is the co-author of the book Design of Relational Databases Addison Wesley\and he has been the author of numerous articles on algorithms, databases machine learning and data mining He is one of the editors-in-chief of the new scientific journal \223Data Mining and Knowledge Discovery.\224 9 


Figure 7 Correlations between query con straints and new indexed constraint the index attribute may have different ranges We iden tify all possible constraint introduction solutions as follows Algorithm For each constraint on the index attribute CO.Roj Step 1 find the least expensive association from a query constraint to i.e find the incoming link C~.R  CO.Roj with the fewest exceptions For exam ple if the cardinalities of El     E5 are nl   n5 and n4 5 nz _ n3 then the least expensive association for CO.R is c6.b  CO.R~,\(E  E4 Step 2 filter out all the exceptions that do not satisfy at least one of the query constraints C1.Rl    C12 We do not need to test the exceptions for the antecedent of the corresponding rule since they satisfy it by definition The constraint introduction solutions identified in our example are the following  Introduced Constraints Exceptions ele t El Cz.n,\(e    C12.nl2\(e el  E4 C1.h e    C5.nS e C~.R e     C12.nll e ele  E5 C1.nl e     C5.nS e C~.R e    C12.n12 e CO.Rol CO.RO2 CO.RO3 5 Optimizing OQL queries In the previous sections a series of algorithms were given to find a collection of constraint elimination or con straint introduction solutions In this section we show how the original query is transformed to its optimized form using the optimal solution. Consider the OQL query select x fromExtentX as x where C~.R and   and Cn 5.1 Heuristic H1 Let  Cil   Ci,},Ei  be the maintained con straints and the exceptions of a solution i Only the main tained constraints of the optimization solution should be tested on the objects of the whole extent however all the constraints should be tested on the exception cases and the objects that satisfy the maintained constraints but not the ones omitted should be removed from the result Hence the original query should be converted to the following one select x from Extent2 as x where Cil and   and Ci except Ei If we assume that tests on the query constraints take roughly the same time, the optimal solution is the one with fewest exceptions Ei 5.2 Heuristic H2 Let  Co.Roi Ei  be the index constraint and the corre sponding exceptions of a constraint introduction solution Instead of testing the query constraints C1.~l    C,.R on the entire extent Extent X we apply them only on the re sults of the subquery select x from Extent2 as x 40 where CO.R Since Co.Roi is a constraint on a cluster index attribute, the select operation is expected to be quite fast The original query is transformed to its more efficient form select x from 90 as x where Cl and    and C union Ei The exceptions Ei are merged to the result because they satisfy the query constraints but not the new index con straint Co.Roi Since the union operation is relatively cheap the optimal solution is the one that introduces the index con straint with the highest selectivity 6 Discussion We now look at two different scenarios and estimate the extent to which heuristics H1 and H2 speed up query exe cution The Jirst scenario concerns frequently executed queries Assume that the association rules which are used by algo rithm 3 are not modified We may optimize a query once at compilation time then execute its optimized form It is worth optimizing provided that the execution time of the optimized query is less than the execution time of the orig inal query For heuristic H1 this happens only if the time 132 


saved by omitting some constraints is greater than the time needed to remove the exceptions from the result except operation The more the eliminated constraints and the fewer the exceptions the better the optimization As one of the referees pointed out, the time saved by the elimina tion of constraints is CPU-related Since query execution is dominated by data access time this optimization is not expected to alter performance significantly It would help only in contexts rich in associations with few exceptions in which users express many constraints in their queries Heuristic H2 is expected to bring more significant ben efits Firstly, this optimization involves a union operation which is much cheaper than the except operation used in H1 Secondly instead of retrieving all the objects of an extent from the database we need only look at the subset retrieved through an indexed constraint Hence we save a considerable amount of data access time, spending a negli gible amount of CPU time in evaluating the additional con straint The second scenario concerns queries which are exe cuted only once In this case the time required for opti mization is significant. This time depends on the algorithm that finds associations between relaxed constraints and tight constraints \(see section 3 since this is the most expensive step in the optimization process This algorithm finds paths in a directed graph, and combines the exceptions associated with each edge of the path to derive the total exceptions for the path. Therefore its complexity is a function of i the av erage number of exceptions in the existing association rules and ii the number of different constraints found in the an tecedents and the consequents of the rules We have already implemented the algorithms for apply ing H1 the next step is to implement the corresponding al gorithms for H2 This should not be difficult since the main algorithm  finding associations between rule constraints  is common to the two heuristics We intend to set up an experimental model in order to evaluate H1 and H2 in the scenarios discussed above 7 Conclusion The use of association rules for query optimization is rel evant to both relational and object-oriented database sys tems There has been a lot of research on generating asso ciation rules and maintaining them in the presence of up dates Research has also focused on finding heuristics that take advantage of rules in order to optimize a query Most of this work 2 31 has considered integrity rules rather than association rules with exceptions Semantic optimiza tion heuristics were also applied without considering indi rect associations In this paper we implement algorithms that apply two optimization heuristics presented by Siegel et al taking account of both exceptions and indirect asso ciations We show how to use these heuristics to optimize an OQL query The complexity of the optimization process is closely related to the complexity of the constraint graph which represents the set of association rules in the data It also depends on the number of exceptions associated with each rule We have designed an experimental framework to evaluate the two optimization techniques both in the con text of queries repeated frequently over a period of time, and in the context of ad-hoc queries executed once only The re sults of this experimental work will be presented in a later paper 8 Acknowledgements We are grateful to the anonymous referees who read the paper carefully and critically and made many helpful suggestions Agathoniki Trigoni is supported by a scholar ship from the Greek Scholarships Foundation and is deeply obliged to the National Bank of Greece References I R Agrawal T Imielinski and A Swami Mining asso ciation rules between sets of items in large databases In Proceedings of the 1993 ACM SIGMOD Intl Conference on Management oj data pages 207-2 16 1993 2 U Chakravarthy J Grant and J Minker Logic-based ap proach to semantic query optimization ACM Transactions on Database Systems 15\(2 162-207 1990 3 J Grant, J.Gryz J Minker and L Raschid. Semantic query optimization for object databases In ICDE pages 444-453 1997 4 R Miller and Y Yang Association rules over interval data In ACM SIGMOD 1997 5 J Park An effective hash-based algorithm for mining asso ciation rules In ACM SIGMOD pages 175-186 1995 6 M Siegel E Sciore and S Salveter A method for auto matic rule derivation to support semantic query optimiza tion ACM Transactions on Database Systems 17\(4 600 December 1992 7 R Srikant and R Agrawal Mining quantitative association rules in large relational tables In ACM SIGMOD Intl Con ference on Management ojdata pages 1-12 1996 8 D Tsur J Ullman S Abiteboul C Clifton R Motwani S Nestorov and A Rosenthal Query flocks a general ization of association-rule mining In ACM SIGMOD Intl Conference on Management of data pages 1-12 1998 Intelligent query answering in deductive and object-oriented databases In Fourth ACM Intl Conference on Information and Knowledge Management pages 244 251 1994 IO S Yoon 1 Song and E Park Semantic query processing in object-oriented databases using deductive approach In Intl Conference on information and knowledge management pages 150-157 1995 9 S Yoon 133 


