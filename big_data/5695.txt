AXIe Local Bus architecture delivers unprecedented bus speed and flexibility  Larry Desjardin Modular Methods LLC Steamboat Springs, CO, USA larry@modularmethods.com Lauri Viitas Guzik Test and Measurement Mountain View, CA, USA lauriv@guzik.com   Abstract 227AXIe is commonly referred to as the "big brother of PXI. This is because it shares many of the features of PXI open modular structure, PCI Express fabric, similar software while deploying a large board size, power, and cooling matching that found in high performance instruments. However, it also adds one very unique aspect: the AXIe local bus. In this paper the authors describe the local bus, and compare it to other common bus topologies. The authors describe local bus capabilities, and real world implementations and applications that demonstrate breakthrough system performance utilizing the local bus. These capabilities include real time streaming and processing in excess of 40GB/s per link, with up to 12 links per chassis. Real time high-speed streaming enables a number of applications previously unrealized. Radar system evaluation and simulation is an example, where data is streamed indefinitely from high-speed digitizers into a data processing module or RAID array. High-energy physics is another example where data is recorded for long periods, to be triggered by an event that is detected by a digital processor unit. Indeed, there is a broad range of data acquisition applications where long data streams need to be recorded or processed while searching for an intermittent event. The AXIe local bus enables this capability at previously unattainable speeds  Keywords\227AXIe; PXI; PXI Express; PCI Express; PXIe PCIe; ATCA; AdvancedTCA I  I NTRODUCTION TO AXI E  AXIe is a modular instrument standard, abbreviated from AdvancedTCA Extensions for Instrumentation and Test.  Like VXI \(VMEbus Extensions for Instrumentation\nd PXI CompactPCI Extensions for Instrumentation\, AXIe is based on an industrial bus architecture with extensions for instrumentation, AdvancedTCA.  AdvancedTCA itself is high peformance modular architecture focused at telecom applications requiring high power, high performance scalability, and long deployment life.  AdvancedTCA and CompactPCI are managed by PICMG \(PCI Industrial Computer Manufacturers Group\ a standards body.  Like PXI and VXI, AXIe has added timing, synchronization, and triggering capabilities to make it suitable for test applications AXIe module size is approximately 14% larger than VXI which is itself several times larger than a PXI module.  AXIe modules are 3cm wide, as is VXI, but with a taller height 322mm vs. 233mm\ and shallower depth \(280mm vs 340mm\.  AXIe has a little more than eight times the volume of a 3U PXI module.  AXIe modules typically are mounted horizontally in a chassis,  allowing very short chassis heights and maximum rack density.  The availability of 2-slot and 5slot horizontal chassis  allows system integrators to deploy AXIe either as the principal modular architecture in a system or complementing a PXI or VXI subsystem.  In particular small horizontal chassis avoid the typical \223two half-filled\224 chassis drawback of deploying two vertically-oriented architectures in a single system.  A single 48V backplane power supply enables modules up to 200W \(200 watts\ to be powered from just over four amperes, supporting high power components found in high-speed digital and data converters Airflow moves unobstructed across a horizontal chassis to effectively cool high power densities.  A 5-slot 4U AXIe chassis can support up to 1000W of instrumentation, which compares favorably to other architectures.  14-slot AXIe systems are vertically mounted, similar to PXI and VXI AXIe is often refered to as the \223big brother\224 of PXI because, despite its much larger module envelope, it acts logically as a PXIe \(PXI Express\ system.  Communication is preformed over a 4-lane PCIe  \(PCI Express\ bus on the backplane either through external or embedded controllers The AXIe-2 specification adopts the software structures from PXI.  To a controller, an AXIe system is just another PXI chassis, though one with much larger board area and power capability.  The continued viability of VXI demonstrates the need for large module formats II  B US T OPOLOGIES  A  Backgound A modular backplane, such as VXI, PXI, or AXIe, consists of a PCB \(printed circuit board\ with copper paths creating buses between the various slots.  In this sense a modular backplane is not a single bus, but several buses, all bringing unique functionality.  The geometric pattern of each bus is called its topology.  There are three common bus topologies in a modular standard parallel, star and local  These topologies are critical to modular instruments and are the basics that enable many of the unique features that modular instrumentation brings to the marketplace.  A quick review of each is given below 978-1-4673-5683-1/13/$31.00 ©2013 IEEE 


 F ig 1.  The figure shows three bus topologies common in c instrumentation systems.  Slot 1 acts as a hub for the star b s pans all slots.  The local bus is segmented, connecting o n slots.  In some cases, such as VXI and AXIe, the local bus the hub slot \(Slot 1 in the diagram\, but connects between  B  Parallel Bus \(also called multidrop Until recently, this was the most commo n structure where the same pin on each sl o connected to the similar pin on all other slots computer data buses used this topology ubi q the early 2000s, before the advent of serial b PXI-1 \(pre PXI Express\ a parallel bus fo r a parallel bus the data is present across a address determines which slot is being written Parallel buses are also used for many t r lines.  Here, a signal from one device can tri g other devices, since all devices have access lines.  Clock signals can be routed in this VXI, PXI, and AXIe all have some num b er o lines.  In the case of AXIe, 12 MLVDS  Voltage Differential Signaling\ paths spa n p arallel topology is a very useful topology, b u defect: speed.  The large number of loads plus at each slot limit the top bus speeds to the 100MHz. Even if 100Mhz can be achieve d ramps make parallel buses largely unsuita b timing.  This was a fundamental limit for com p which led the industry to embrace serial desi g topology C  Star Bus \(also called radial bus In a star topology, one device is a \223hub\224 a dedicated line going to each slot.  Visually, t h coming from a star, thus the name \223star\224.  T h differential pairs, called lanes.  Since each p oint, it can be operated at much higher s p clock is encoded within the data pattern itsel f as a serial bus.  Very high speeds are possi b p oint serial buses.  Gen 1 \(Generation 1\ of P for VXI 4.0, PXI Express, and AXIe\na b Gigabit per second\ on each lane.  Using a co m a link is a bundle of lanes\, PCIe can trans f One Gigabyte per second, where each byte i  c omputer and b us.  The parallel bus n ly between adjacent does not connect to all other slots n bus topology: a o t is electrically Instrument and q uitously through b uses.  VXI and r data transfer.  In a ll slots, and the to r igger and clock g ger one or more to these parallel manner as well o f parallel trigger  Multipoint Low n all slots. The u t suffers one key the stubs created neighborhood of d the slow edge b le for precision p uter backplanes g ns that use a star a nd has a separate h ese are like rays h ese are typically lane is point-top eeds. When the f it is referred to b le with poin t toCIe \(the data bus b les 2.5Gb/s \(2.5 m mon 4-lane link f er data at 1GB/s s 8 bits\.  Due to the high speeds to be discussed, t h GB/s going forward PCIe Gen 2 essentially doub l generation PCIe.  Many PXIe and A PCIe Gen2, doubling the speed of a chassis support 8-lane links, doubl i these speeds are impressive, and m LAN interfaces found on tradition a match the speed of ultra-fast data c o third topology, the local bus, makes It should be noted that the hub s the same between instrument syste m Slot 0, while PXI and AXIe \(whic h have hubs at Slot 1.  PXI may also timing module slot, which has ded for precision timing.  In AXIe, Slo t PCIe communication and the precis i D  Local Bus \(also called segment e The local bus is a unique bus hidden benefits.  Local buses are a s that connect pins between adjacent called \223local\224 buses.  For example connected to the left side of slot 3 T is connected to the left side of slot 4 copper path lengths are short, on l high-speed signals can be routed fr o enable high-speed private comm u modules of an instrument set.  Sin c ends between the modules of an in s modules may use their local buses c way, instrument sets from different v same chassis, each exploiting the local bus Local buses are not new to mo d deployed a 12-line local bus \(12 c adjacent slot\The Agilent 81250 P of how it was used to extend pr i modules to create a modular bit err o 13-line local bus, and some digit a Unfortunately, these pins conflicte d PXIe standard, leaving only a sing l For this reason, the local bus is r a systems AXIe reintroduced the local bus match its high performance miss i consists of 124 lines organized as p airs.  With 60 pairs dedicated to a common FPGA \(field programm a Serializer/Deserializer\ technolo g b andwidth totals 40GB/s from one order of magnitude beyond other b only defines the topology of th e b andwidth will increase proportio n speeds deployed h is paper will use units of l es the speed of the first A XIe products now deploy 4-lane link to 2GB/s.  PXIe i ng the speed again. While m uch higher than USB or a l instruments, they do not o nverters.  This is where the a disruptive contribution s lot might not be numbered m s.  The hub slot for VXI is have no slo t s numbered 0 designate another slot as a i cated star bus to each slot t 1 includes the hub for the i on timing buses e d or daisy chain bus structure that brings many s et of short copper segments slots. This is why they are the right side of slot 2 is T hen the right side of slot 3 4 and so forth.  Because the l y a few centimeters, very o m slot to slot.  Local buses u nication between related c e the local bus begins and s trument set, another set of c ompletely differently.  This v endors may co-exist in the unique capabilities of the d ular instrumentation.  VXI c opper paths between each P arBERT is a good example i vate timing signals to all o r rate tester.  PXI adopted a a l products exploited this d with pins defined in the l e remaining local bus line a rely, if ever, used in PXIe concept, but at the scale to on.  The AXIe local bus 62 high-speed differential a data path, and using fairly a ble gate array\ERDES g y, the aggregate bus slot to the next.  This is an b us structures.  Since AXIe local bus, the aggregate n ally with the in t erface bus 


Figure 2.  This diagram demonstrates the highs peed d enabled by the AXIe local bus.  Using current techn o transfer data up to 40GB/s to the slot to its right.  T h g enerate another data stream for the slot to its right up t o data path on the local bus is independent, the aggregate multiplied by the number of links.  As technology i m attainable link speed  Newly announced FPGA SERDES spee d the aggregate bandwidth to 80GB/s, with doubling it again to 160GB/s.  Since this is t segment between slots, and each segment acts large AXIe system can support aggregate c h into the TB/s \(Terabyte/second\ range It should be noted that the AXIe local bus to Slot 1, but between all other slots  III  L OCAL B US R EALIZATI O There are two key methods of exploiting t h is that of a multidrop bus, where each modul e towards it right by connecting the copper p This may be used by modules that need to sh a or utilize complex ha ndshakes between the local bus enables private communication b within an instrument set, there is no requirem e the protocols used The second common method of exploiting daisy chain data flow architecture that flows fr the left to a module on the right, as demonstr a Useful modules in such a system include di g DSP \(digital signal processing\, and A waveform generators  Figure 3.  ADCs \(Analaog to Digital Converters\ g e the left, AWGs to the right, and DSP or memory in betwee n  d ata flow architecture o logy, each link may h at slot, in turn, may o 40GB/s.  Since each bandwidth is 40GB/s m proves, so will the d s should double the next wave t he speed of each s independently, a h assis bandwidths does not connect O NS  h e local bus.  One e extends the bus p aths electrically a re timing signals modules.  Since b etween modules e nt to standardize the local bus is a f rom a module on a ted in Figures 2 g itizers, memory A WGs \(arbitrary  e nerally be placed to n Since data flow is commonly le f other sources of data would gener a and other data sinks on the ri g somewhere in between, as shown DSP modules could also have th e external storage devices off-board This paper will focus on this la t enabled by the local bus A  Real World Speeds The sections above give a th e local bus.  The Guzik family of dig i Measurement were the first produc t capabilities. The Guzik ADC6000 s of high-fidelity 8-bit digitizers bas e sampling rate.  Single-slot AXIe pr o digitizing combinations 200  1 channel x 40Gs/s 200  2 channel x 20Gs/s 200  4 channel x 10Gs/s Each product hosts 64GB of m shot waveform capture of greater th a Since the aggregate data generation the local bus interface was designe d time data transfer to the adjacent claim.  This is an order of mag n fastest PCIeb ased digitizers found i achieved using the Altera Stra t implement the local bus While digitizers are perceived t the Guzik digitizers can also acc e source it to the right as shown i digitizers to be chained together u b etween digitizers in order expa n window proportionally.  Indeed, h a digitizers, AWGs, DSP, and memo r long as the aggregate bandwidth o f exceed the 40GB/s limit, multiple i n be used  Figure 4.  Two Guzik ADC6000 digitizers s cards on the right.  These may be other A D dedicated memory or DSP modules.  As lo n any one link does not exceed 40GB/s, multip l used.  This architecture is particularly valua or DSP module  or a DSP module is calcul a across channels that span more than one mo d f t to right, digitizers and any a lly be on the left, AWGs ht, and memory or DSP in Figure 3.  Memory and e capability to connect to t ter \223data flow\224 architecture e oretical description of the i tizers from Guzik Test and t s to exploit AXIe local bus s eries is essentially a family e d on an aggregate 40Gs/s o ducts include the following m emory, allowing a single a n one second at full speed of each digitizer is 40GB/s d to support full speed realslo t proving the 40GB/s n itude faster than even the i n PXIe or AXIe.  This was t ix family of FPGAs to t o be only sources of data e pt data from the left, and i n Figure 4.  This allows u seful for sharing memory n d the single shot capture a ving multiple instances of r y is a key requirement.  As f any local bus link doesn\222t n stances of any module may  s ource data on the left to memory D C6000s configured as memory or n g as the aggregate bandwidth of l e instances of any modules may be ble when there is a single memory a ting measurements based on data d ule, such as radar appl i cations 


Figure 5. If the aggregate bandwidth exceeds 40GB/s on F igure 4 example, a user may configure the ADCs and m e s ystems within the same chassis, thus keeping each link to aggregate speed is 80GB/s In situations where link speed may exce e aggregation an alternative is to disaggregate b independent data flow systems, as shown i n number of independent systems deployed in a n only limited by the number of slots Figures 3, 4, and 5 show the diversi t architectures enabled by the local bus B  Digital Signal Processing While the above digitizers show proo f  AXIe\222s 40GB/s rates over the local bus introduction of a digital processing module t the powerful capabilities enabled by the AXI Guzik DP6000 Digital Processor Module is a module that is local bus enabled. The DP 600 user-configurable Altera Stratix V FPGAs 3,550 multipliers and 583,000 logic eleme n 64GB of on-board memory.  This product hi g of the advantages of the AXIe local bus archi digitizers, it accepts data from the left, and right, at the full 40GB/s bandwidth.  Addition a 8-lane PCIe Gen 3 links on the front panel t 25.6GB/s data transfers to or from an external RAID array for continuous streaming  Figure 6.  The Guzik DP6000 DSP module can ac c from one of more digitizers.  It can send the processed d a to its right, or result data over the standard AXIe PCIe memory for additional storage.  For applications where c o needed, its external PCIe ports can forward data at 25.6 G external host or RAID array  the middle link in the e mory as two separate t o 40GB/s, though the e d 40GB/s due to b y deploying two n Figure 5.  The n AXIe chassis is t y of data flow f by example of it is the recent t hat demonstrates e local bus.  The single-slot AXIe 0 hosts two large each delivering n ts, and includes g hlights a number tecture.  Like the sources it to the a lly, it sports four t hat allows up to host computer or  c ept da t a from its left a ta at full 40GB/s rate bus.  It has 64GB of o ntnuous streaming is G B  s indefinitely to an F igure 7.  To achieve an aggreagate 40G B D P6000 may be cascaded.  This enables in d rate Readers may note that the 25 6 rate is less than the 40GB/s maxim u p ragmatic limitation of the DP600 0 current PCIe speed at Gen 3.  In ma n rate is sufficient, and is already sup e N evertheless, the AXIe local bus modules, as shown in Figure 7.  He r the data stream at its full 40GB/s r data and streams it out over its e x 25.6GB/s limit.  The other half, n o right to another DP6000.  That remaining data to its own external p stream can now be streamed indefi n a host computer.  This is a good ex a b us architecture overcomes an appa r The DP 6000 is useful in it s connecting to an external RAID module can perform fast real-time time capture into its 64GB of mem o essentially increases the number same data stream, or expands the a m Typical applications include user filtering, and triggering.  Of partic u trigger on the data, or some mathe m In any of the figures, multiples o processors, or waveform generator s alternatives show the powerful architecture.  As long as any one l 40GB/s, there are nearly an infinite digitizers, DSP modules, and exte r that may be configured.  While t h single instrument sets where mod u left and right, the local bus ar c adjacent instrument sets, operating Figure 5 C  Future Capabilities The digitizer and digital proces the breakthrough capability promi s b us in particular.  As noted earlier  specifies the backplane paths f o p articular semiconductor technolog y allows AXIe local bus speeds to Doubling the device speed, for ex a  B s of f board streaming rate, two d efinite streaming at a full 40GB/s 6 GB/s off-board streaming u m local bus rate.  This is a 0 faceplate connectors and n y applications, a 25.6GB/s e rior to current alternatives allows cascading of DSP r e the first DP6000 receives ate.  It removes half of the x ternal port, well within its o w at 20GB/s is sent to its DP6000 can stream the p ort.  The complete 40GB/s n itely to two RAID arrays or a mple where the AXIe local r ent module limitation s own right, even without or host computer.  Each digital processing or realo ry.  Adding more modules of FPGAs processing the m ount of real time memory defined signal processing u lar interest is the ability to m atical element of the data o f digitizer modules, digital s may be deployed.  These flexibility the local bus l ink may be constrained to number of combinations of r nal PCs or RAID systems h e figures principally show u les communicate on their c hitecture allows multiple independently as shown in sor modules show some of s ed by AXIe, and the local  the AXIe standard merely r the local bus, not the y speed, or protocol.  This grow with Moore\222s Law a mple, allows 80GB/s data 


transfers on each local bus link.  While the examples showed digitizers, the architecture is equally applicable to AXIe arbitrary waveform generators deploying the local bus.  In this case, memory, data processing and massive external waveform storage may all be deployed to drive one or more widebandwidth arbitrary waveform generators IV  A PPLICATIONS  In general, the AXIe local bus is optimized for data streaming applications where high bandwidth and long records are needed simultaneously.  Mil/aero communication and radar systems are excellent examples of applications that require both.  This is particularly useful for searching for intermittent or transient signals over long periods of time.  Here, a signal may be recorded nearly indefinitely until the DSP module detects an event, which serves as a trigger.  Long records can supply critical information leading up to an event, and the reaction of the system later The AXIe local bus also has applications in high energy physics, where DSP modules are searching for events that coincide with particle collisions, and subsequently decide to keep or delete recent data Each of these applications has a twin application, where a long data stream is sent to one or more AWGs to simulate an environment.  Sometimes this is recorded information, or information that has been digitially processed in some manner Finally, the DSP modules may be used in non-test applications as powerful computational accelerators.  Here data is streamed by a host PC to one or more DSP modules in an AXIe chassis.  These modules have powerful number crunching capabilities embedded in their FPGAs, and can coordinate between modules via the AXIe local bus.  The result data may be retrieved over another PCIe link Each of the applications above assume that the local bus is being exploited as a data flow architecture.  As mentioned earlier, the local bus may also be used to coordinate timing signals between modules, or a combination of data flow and timing V  S UMMARY  AXIe delivers the board area, power, cooling and tight timing synchronization required by very high performance digital instrumentation and data converters.  With the addition of the AXIe local bus, AXIe systems can now deploy real time streaming and digital processing performance an order of magnitude beyond traditional techniques. The speed and flexibility is unprecedented, and not achievable through traditional bus architectures.  These features enable new applications in aerospace, defense, and high-energy physics The unique local bus topology allows this to be accomplished in an open-system architecture that allows new levels of flexibility and scalability.  Recent products from Guzik Test and Measurement show that these breakthrough performance levels may be achieved using today\222s technologies.  As technology advances, so will the attainable speeds of the local bus  


Basic Allocation Problem Frontier allocation to maximize exploration can be formalized in terms of a ST-SR-TA Optimal Assignment Problem OAP as discussed by Gerkey and Mataric in Acronyms are elaborated below 017 Single Task Robots ST  These robots can execute only one task at a given instance of time 017 Single Robot Tasks SR  Each task frontier generated for exploration requires at most one robot for successful completion In other words if a robot is sent to probe a feature of interest it would not require physical aid from another agent However the robot could request support from other robots in terms of information The coordination framework developed supports this feature 017 Time Extended Assignment TA  In order to maximize coverage the system is always 003ooded with frontiers to explore Therefore an agent cannot guarantee immediate task completion after winning centralized approach or accepting distributed approach a task If there were more agents than tasks or the tasks were extended in temporal assignment an Instantaneous Assignment IA would be possible Given the dynamic nature of such a multi-robot system it is dif\002cult to optimize on a single objective function An intuitive explanation for this stems from the fact that each robot maintains its own backed up set of tasks that it needs to complete The costing for these tasks was performed at a different time instance and most likely different robot state from the actual execution Therefore the cost is bound to change depending on the nature of the tasks For true optimality each robot must solve the Travelling Salesman Problem which is N P complete As described in Section 3 under Frontier Based Exploration this scheduling problem is approximated during frontier generation Therefore to simplify computational complexity each robot merely follows a FIFO scheduling system Given this simpli\002cation the OAP for this multi-robot exploration framework is an instance of the ST-SR-IA class The formulation of the multi-robot exploration problem presented here is derived from Scerri et al in The coordination framework consists of a set of heterogeneous and homogeneous robots 002  f 022 1   022 m g and a set of tasks with varying capabilities T  f t 1   t n g  The capability of a given robot 022 i to perform a task t j is given by Cap  022 i  t j  2 0  1  The Cap  022 i  t j  could be treated as a continuos function and incorporated as a parameter for optimization if a quanti\002cation of task quality can be performed Since the task structure in exploration is simple a binary assignment is used The robot is either capable or incapable of performing a task The goal of OAP is to 002nd an allocation matrix A that minimizes the total team cost C  A  argmin X t i 2 T X 022 j 2 002 Cap  t i  022 j  003 c ij 9 subject to m X i 1 a ij  1  1 024 j 024 n 10 n X j 1 a ij  1  1 024 i 024 m 11 where a ij is an element in matrix A  The cost c ij used during experimentation was the path length to goal computed using the onboard A planner described in Section 2 Towards ensuring an ef\002cient task-allocation process two types of task allocation strategies are implemented centralized and distributed Centralized Allocation A market based approach is used for centralized task allocation Market-based approaches use a simulated economy where robots buy and sell tasks according to their estimated cost for completion Each robot in the team is modelled as a self-interested agent and the team of robots as an economy Each robot aims to minimize individual cost however since all revenue is derived from satisfying team objectives the robots self-interest equates to doing global good The estimated costs of tasks are based on a set pre-de\002ned cost functions shared amongst the agents in the market-based system This allows for a system where robots attempt to minimize their individual costs and consequently the cost of the group as a whole which in turn maximizes the work performed by the team of robots Thus the robots run task auctions and bid on tasks in other robots task auctions with the task being allocated to the robot with the lowest cost T is one such mark et-based coordination strategy that is particularly well suited to the exploration problem TraderBots default cost paradigm involves pairwise cost functions cost functions that take two tasks A and B as arguments and calculate the cost of completing B given the completion of A Subsequently the cost of a schedule of tasks can be calculated by running this pairwise cost function through each consecutive pair of tasks and computing the cumulative cost Schedules are ordered lists of tasks that the robot must perform in sequence based on a de\002ned prioritization criteria For this system cost is computed using a distance metric i.e the total distance in meters that the robot must travel to complete the tasks Distributed Probabilistic Allocation Figure 6  Sample Task Token Distributed Probabilistic Allocation DPA attempts to 002nd an approximate solution to the OAP described earlier in this section This methodology is inspired by the token based allocation proposed for LA-DCOP in Scerri et al pro v ed that incorporating a token system can reduce message transfer requirements by up to six orders of magnitude This reduction in communication has not yet been quanti\002ed using DPA though similar performance is expected Additionally DPA utilizes a market based system where the individual costing of a robot is respected to deal with homogeneity within the team of robots Each task is assigned a reward value based on the importance of its execution This is embodied into a 6 


Figure 7  DPA Flowchart token along with information regarding owner goal required capabilities and history of bidders as illustrated in Figure 6 A particular token can be held by exactly one agent at any time instance after its generation The agent makes a decision to either retain this particular token or pass it on Figure 7 is a 003owchart of the algorithm The decision to retain a given task token is a probability function of the associated reward and the individual predicted cost to execute p  retain   e 000 ln  R  ln  c ij  12 where 8 R c ij 2 0  1 are normalized rewards and costs Figure 8 is a plot of the three dimensional probability distribution function Following such a probabilistic retainment structure increases task completion likelihood exponentially given a rise in reward or reduction in cost Figure 8  Probability Distribution Function for retaining tasks 5 M ODEL B UILDING The planetary exploration domain presents a unique challenge the slow computation and low communication bandwidth of space systems limit the resolution of maps and models built online but the highest quality maps and models are desired because robots are there to observe what humans cannot For the mission scenario discussed here the solution is for robots to store data as they explore and to slowly transmit data back to operators after they have completed their exploration tasks Better resolution maps and higher-dimensional models can then be generated in postprocessing For a mission this might mean that coarse 3D maps are created online post-processing builds higher resolution 3D models and 4 or 5D models that augment geometry with multi-spectral re\003ectance soil cohesion or gas concentration In order to demonstrate this concept with readily available robot hardware experiments presented here generate coarse 2D maps online produce re\002ned 2D maps in post-processing and augment 2D maps with 3D data where available 2-Dimensional Two dimensional maps for the mapping robots are constructed using the GMapping SLAM algorithm 25 2  This produces an occupancy grid with cells marked as either free occupied or unknown To combine maps from multiple mapping robots each map is converted to a 2D point cloud with points for every occupied cell The point clouds are transformed into roughly the same frame based on the recorded starting pose The point clouds are trimmed to include only points in the overlapping region The alignment is then re\002ned using 2D iterative closest point ICP The transformation that results from ICP is then applied to the maps Figure 14 shows example merged maps To display 2D maps augmented with 3D data the maps were converted to mesh models and trimmed to include explored areas only 3-Dimensional The scans from a 3D modeling robot described in more detail in Section 6 have been obtained in a stop-and-scan fashion from a rotating laser scanner to obtain 3D point clouds Preprocessing of the point clouds is done using a median 002lter to remove Gaussian noise and the point cloud is further downsampled to reduce the computational requirements Multiple 3D scans are necessary to preclude occlusions when digitizing environments This requires registering several 3D scans and merging them into one coordinate system If a 3D modeling robot has precise localization the registration can be done directly using the robot pose However robot motion on natural terrain has to cope with 3D rotations and translations Pose estimation becomes a problem with six degrees of freedom This combined with noisy sensors makes the self-localization erroneous so the geometric structure of overlapping 3D scans has to be considered for registration Automated registration of the scans is thus done at two levels An initial alignment is done based on the noisy odometry data followed by the 002ne alignment using scan matching For scan matching point clouds are trimmed to include only points that based on coarse alignment lie in overlapping regions Simultaneous matching a modi\002ed v ersion of the 3D iterative closest point algorithm ICP has been used to 002nd the transformation matrices between the two scans 2 The gmapping ROS package was used For more information see http://www.ros.org/wiki/gmapping 7 


k-D trees have been used to speed up the data access which ensures that a data point can be selected in O\(log n See Figure 15 for an example of a generated 3D model 6 E XPERIMENTS  R ESULTS Experiments were conducted at two outdoor test sites and included teams of two to four robots High-resolution laser scans were collected with a tripod-mounted Faro Photon80 at each test site These models serve as ground truth against which experiment data is compared A 2D experiment evaluated exploration performance and two 3D experiments investigated 2D/3D model building Robots The robot team in the experiments consisted of 2D mapping robots a 3D modeling robot and a science sampling robot Not all robots were used in all tests The 2D mapping robots have SICK scanning LIDARs that scan parallel to the ground plane see Figure 9 One covers 180 degrees at 1 degree resolution the other covers 270 degrees at 0.5 degree resolution The 3D modeling robot has a SICK scanning LIDAR mounted on a rotating base See Figure 10 By spinning the LIDAR while scanning it builds a 3D point cloud In these experiments this robot was operated in a stop-and-scan mode the robot would stay still and collect data for approximately 15 seconds before moving to its next position The science sampling robot has a cone penetrometer to measure soil properties and no exteroceptive navigation sensors See Figure 11 The sampling robot was given tasks to proceed to a sampling location by the task allocation system and to operate the penetrometer Figure 9  2D Mapping Robots Figure 10  3D Modeling Robot Test Sites One test site was a patio area surrounded by buildings and retaining walls See Figure 12 This created de\002ned boundaries to the 2D explorable area as would be observed inside a cave The buildings trees and one tunnel under a bridge also a Sampling robot at mock-cave test site b Detail of cone penetrometer Figure 11  Science Sampling Robot provide signi\002cant 3D structure to be modeled The other test site was a mock cave It had terrain more realistic for planetary exploration with dirt gravel and rocks Caves and especially cave entrances often have areas of very blocky and rough terrain that pose a signi\002cant challenge to robot mobility Because robot mobility and cave access were not studied in these experiments the terrain was designed to be mostly drivable but still challenging enough that less capable robots in this case the 2D mappers occasionally get stuck The test site contained an outdoor 223surface\224 area and an indoor 223cave\224 area Figure 12  Patio test site Orange lines outline drivable area Red star indicates approximate starting location of robots 8 


a Outside View b Inside View Figure 13  Mock cave test site Tunnel extends approximately 300m Cave 003oor is covered in rocky material to emulate planetary terrain Site contains surface terrain and tunnel inside building Exploration Performance Experiments A comparison of exploration performance between distributed centralized and uncoordinated task allocation was conducted using a 2-robot team of 2D mapping robots For the uncoordinated runs tasks were randomly assigned to a robot and the robot randomly decided whether to keep the task not taking into account any costs associated with that robot's performance of the task Maps at a resolution of 0.05 meters per pixel were built from 5 runs of each type Each run lasted 15 minutes The operator indicated tasks that should be performed and the system assigned these tasks to a robot In 3 out of 5 runs for each set the 002rst selected task was in the direction of the bridge in the other 2 it was in the direction of the dead-end to the right of the starting position in Figure 12 The same operator selected tasks for all runs Tables 1 2 and 3 show results for each run Percent explored is the percentage of the explorable area as determined from the ground truth model that the robot team explored Unique to total is the ratio of the area explored by a single robot to the total area explored by the team This metric gives a sense of how much overlapping work the robots are doing The average percent explored for runs with a 002rst task in the direction of the bridge was 68 and for runs with the 002rst task in the direction of the dead-end 67 The average ratio of unique to total explored for these cases was 0.45 and 0.44 respectively The average over all runs was 67 of explorable area covered and a ratio of 0.45 unique to total explored area Figure 14 shows merged maps for the runs with the largest and smallest explored areas in this experiment Table 1  2D Mapping Results Distributed Run Bridge 1st  Explored Unique:Total 1 1 80 0.57 2 1 52 0.43 3 1 94 0.45 4 0 97 0.76 5 0 60 0.37 Mean 77 0.52 Std Dev 20 0.15 Table 2  2D Mapping Results Centralized Run Bridge 1st  Explored Unique:Total 1 1 75 0.58 2 0 52 0.46 3 1 55 0.29 4 0 49 0.15 5 1 62 0.59 Mean 59 0.41 Std Dev 10 0.19 Table 3  2D Mapping Results Uncoordinated Run Bridge 1st  Explored Unique:Total 1 1 51 0.20 2 0 54 0.26 3 1 73 0.49 4 0 87 0.65 5 1 68 0.42 Mean 67 0.41 Std Dev 15 0.18 These results show high performance variation within run sets and do not show signi\002cant difference between sets The direction of the 002rst assigned task did not signi\002cantly affect results Limited navigation and path planning capabilities on individual robots common for all runs likely introduces signi\002cant randomness If the robots could more reliably complete their assigned tasks differences between task allocation strategies would likely become more evident Exploration of larger areas could also make differences clearer as more tasks would need to be assigned The lack of signi\002cant differences between allocation methods is somewhat encouraging however It indicates that distributed task allocation the method believed to be most promising for planetary missions does not perform any worse than other methods in early tests The uncoordinated method while by far the simplest would fail once robots with different capabilities are introduced Failure would occur for example if a 3D modeling task were assigned to a 2D mapping robot Mapping and Modeling Experiments An experiment including both 2D mapping and 3D modeling was conducted at the patio test site In this experiment the two 2D mapping robots were operated as described in section 6 A mapped area was then selected by the operator for 3D modeling and the 3D modeling robot was sent to complete that task There was no time limit on the run Figure 15 shows 9 


Figure 15  3D model of the patio test site Figure 16  Model of the patio test site combining 2D map data with 3D model data a Largest explored area b Smallest explored area Figure 14  Maps built by a pair of 2D mapping robots Yellow indicates area seen by both robots Magenta indicates area seen by one robot and Cyan represents area seen by the other a 3D point cloud built of the patio environment Figure 16 shows a model built combining 2D map data with 3D model data A four-robot mission scenario experiment was conducted at the mock-cave test site This included two 2D mapping robots a 3D modeling robot and a science sampling robot There was no time limit on the run Figure 17 shows a 3D model of the tunnel at the mock cave Figure 18 shows a model built combining 2D map data with 3D model data 7 C ONCLUSIONS  F UTURE W ORK The multi-robot coordination framework presented in this paper has been demonstrated to work for planetary cave mission scenarios where robots must explore model and take science samples Toward that end two coordination strategies have been implemented centralized and distributed Further a core communication framework has been outlined to enable a distributed heterogenous team of robots to actively communicate with each other and the base station and provide an online map of the explored region An operator interface has been designed to give the scientist enhanced situational awareness collating and merging information from all the different robots Finally techniques have been developed for post processing data to build 2  3-D models of the world that give a more accurate description of the explored space Fifteen 2D mapping runs with 2 robots were conducted The average coverage over all runs was 67 of total explorable area Maps from multiple robots have been merged and combined with 3D models for two test sites Despite these encouraging results several aspects have been identi\002ed that can be enhanced Given the short mission durations and small team of robots in the experiments conducted a simple path-to-goal costing metric was suf\002cient To use this system for more complex exploration and sampling missions there is a need for learning-based costing metrics Additional costing parameters have already been identi\002ed and analyzed for future implementation over the course of this study One of the allocation mechanisms in this study was a distributed system however task generation remained centralized through the operator interface In an ideal system robots would have the capability to generate and auction tasks based on interesting features they encounter Lastly the N P complete scheduling problem was approximated during task generation However better results could potentially 10 


Figure 17  3D model of the tunnel in the mock cave test site Figure 18  Model of the mock cave test site combining 2D map data with 3D model data be obtained by releasing this responsibility to the individual robots A CKNOWLEDGMENTS The authors thank the NASA STTR program for funding this project They would also like to thank Paul Scerri and the rCommerceLab at Carnegie Mellon University for lending hardware and robots for this research R EFERENCES  J C W erk er  S M W elch S L Thompson B Sprungman V Hildreth-Werker and R D Frederick 223Extraterrestrial caves Science habitat and resources a niac phase i study\\224 NASA Innovative Advanced Concepts NIAC Tech Rep 2003  G Cushing T  T itus and E Maclennan 223Orbital obser vations of Martian cave-entrance candidates,\224 in First Intl Planetary Caves Workshop  Carlsbad NM 2011  J W  Ashle y  M S Robinson B R Ha wk e A K Boyd R V Wagner E J Speyerer H Hiesinger and C H van der Bogert 223Lunar caves in mare deposits imaged by the LROC narrow angle camera,\224 in First Intl Planetary Caves Workshop  Carlsbad NM 2011  J W  Ashle y  A K Bo yd H Hiesinger  M S Robinson T Tran C H van der Bogert and LROC Science Team 223Lunar pits Sublunarean voids and the nature of mare emplacement,\224 in LPSC  The Woodlands,TX 2011  S Dubo wsk y  K Iagnemma and P  J Boston 223Microbots for large-scale planetary surface and subsurface exploration niac phase i.\224 NASA Innovative Advanced Concepts NIAC Tech Rep 2006  S Dubo wsk y  J Plante and P  Boston 223Lo w cost micro exploration robots for search and rescue in rough terrain,\224 in IEEE International Workshop on Safety Security and Rescue Robotics Gaithersburg MD  2006  S B K esner  223Mobility feasibility study of fuel cell powered hopping robots for space exploration,\224 Master's thesis Massachusetts Institute of Technology 2007  M T ambe D Pynadath and N Chauv at 223Building dynamic agent organizations in cyberspace,\224 IEEE Internet Computing  vol 4 no 2 pp 65\22673 March 2000  W  Sheng Q Y ang J T an and N Xi 223Distrib uted multi-robot coordination in area exploration,\224 Robot Auton Syst  vol 54 no 12 pp 945\226955 Dec 2006  A v ailable http://dx.doi.or g/10.1016/j.robot 2006.06.003  B Bro wning J Bruce M Bo wling and M M V eloso 223Stp Skills tactics and plays for multi-robot control in adversarial environments,\224 IEEE Journal of Control and Systems Engineering  2004  B P  Gerk e y and M J Mataric 223 A formal analysis and taxonomy of task allocation in multi-robot systems,\224 The International Journal of Robotics Research  vol 23 no 9 pp 939\226954 September 2004  M K oes I Nourbakhsh and K Sycara 223Heterogeneous multirobot coordination with spatial and temporal constraints,\224 in Proceedings of the Twentieth National Conference on Arti\002cial Intelligence AAAI  AAAI Press June 2005 pp 1292\2261297  M K oes K Sycara and I Nourbakhsh 223 A constraint optimization framework for fractured robot teams,\224 in AAMAS 06 Proceedings of the 002fth international joint conference on Autonomous agents and multiagent sys11 


tems  New York NY USA ACM 2006 pp 491\226493  M B Dias B Ghanem and A Stentz 223Impro ving cost estimation in market-based coordination of a distributed sensing task.\224 in IROS  IEEE 2005 pp 3972\2263977  M B Dias B Bro wning M M V eloso and A Stentz 223Dynamic heterogeneous robot teams engaged in adversarial tasks,\224 Tech Rep CMU-RI-TR-05-14 2005 technical report CMU-RI-05-14  S Thrun W  Bur g ard and D F ox Probabilistic Robotics Intelligent Robotics and Autonomous Agents  The MIT Press 2005 ch 9 pp 222\226236  H Mora v ec and A E Elfes 223High resolution maps from wide angle sonar,\224 in Proceedings of the 1985 IEEE International Conference on Robotics and Automation  March 1985  M Yguel O A ycard and C Laugier  223Update polic y of dense maps Ef\002cient algorithms and sparse representation,\224 in Intl Conf on Field and Service Robotics  2007  J.-P  Laumond 223T rajectories for mobile robots with kinematic and environment constraints.\224 in Proceedings International Conference on Intelligent Autonomous Systems  1986 pp 346\226354  T  Kanungo D Mount N Netan yahu C Piatk o R Silverman and A Wu 223An ef\002cient k-means clustering algorithm analysis and implementation,\224 IEEE Transactions on Pattern Analysis and Machine Intelligence  vol 24 2002  D J Rosenkrantz R E Stearns and P  M Le wis 223 An analysis of several heuristics for the traveling salesman problem,\224 SIAM Journal on Computing  Sept 1977  P  Scerri A F arinelli S Okamoto and M T ambe 223T oken approach for role allocation in extreme teams analysis and experimental evaluation,\224 in Enabling Technologies Infrastructure for Collaborative Enterprises  2004  M B Dias D Goldber g and A T  Stentz 223Mark etbased multirobot coordination for complex space applications,\224 in The 7th International Symposium on Arti\002cial Intelligence Robotics and Automation in Space  May 2003  G Grisetti C Stachniss and W  Bur g ard 223Impro ving grid-based slam with rao-blackwellized particle 002lters by adaptive proposals and selective resampling,\224 in Proceedings of the IEEE International Conference on Robotics and Automation  2005  227\227 223Impro v ed techniques for grid mapping with raoblackwellized particle 002lters,\224 IEEE Transactions on Robotics  2006  A Geiger  P  Lenz and R Urtasun 223 Are we ready for autonomous driving the kitti vision benchmark suite,\224 in Computer Vision and Pattern Recognition CVPR  Providence USA June 2012  A N 250 uchter H Surmann K Lingemann J Hertzberg and S Thrun 2236d slam with an application to autonomous mine mapping,\224 in Proceedings of the IEEE International Conference on Robotics and Automation  2004 pp 1998\2262003  D Simon M Hebert and T  Kanade 223Real-time 3-d pose estimation using a high-speed range sensor,\224 in Proceedings of the IEEE International Conference on Robotics and Automation  1994 pp 2235\2262241 B IOGRAPHY  Ammar Husain received his B.S in Mechanical Engineering Robotics from the University of Illinois at Urbana-Champaign He is pursuing an M.S in Robotic Systems Development at Carnegie Mellon University He has previously worked on the guidance and control of autonomous aerial vehicles His research interests lie in the 002eld of perception-based planning Heather Jones received her B.S in Engineering and B.A in Computer Science from Swarthmore College in 2006 She analyzed operations for the Canadian robotic arm on the International Space Station while working at the NASA Johnson Space Center She is pursuing a PhD in Robotics at Carnegie Mellon University where she researches reconnaissance exploration and modeling of planetary caves Balajee Kannan received a B.E in Computer Science from the University of Madras and a B.E in Computer Engineering from the Sathyabama Institute of Science and technology He earned his PhD from the University of TennesseeKnoxville He served as a Project Scientist at Carnegie Mellon University and is currently working at GE as a Senior Cyber Physical Systems Architect Uland Wong received a B.S and M.S in Electrical and Computer Engineering and an M.S and PhD in Robotics all from Carnegie Mellon University He currently works at Carnegie Mellon as a Project Scientist His research lies at the intersection of physics-based vision and 002eld robotics Tiago Pimentel Tiago Pimentel is pursuing a B.E in Mechatronics at Universidade de Braslia Brazil As a summer scholar at Carnegie Mellon Universitys Robotics Institute he researched on multi-robots exploration His research interests lie in decision making and mobile robots Sarah Tang is currently a senior pursuing a B.S degree in Mechanical and Aerospace Engineering at Princeton University As a summer scholar at Carnegie Mellon University's Robotics Institute she researched multi-robot coordination Her research interests are in control and coordination for robot teams 12 


Shreyansh Daftry is pursuing a B.E in Electronics and Communication from Manipal Institute of Technology India As a summer scholar at Robotics Institute Carnegie Mellon University he researched on sensor fusion and 3D modeling of sub-surface planetary caves His research interests lie at the intersection of Field Robotics and Computer Vision Steven Huber received a B.S in Mechanical Engineering and an M.S in Robotics from Carnegie Mellon University He is curently Director of Structures and Mechanisms and Director of Business Development at Astrobotic Technology where he leads several NASA contracts William 223Red\224 L Whittaker received his B.S from Princeton University and his M.S and PhD from Carnegie Mellon University He is a University Professor and Director of the Field Robotics Center at Carnegie Mellon Red is a member of the National Academy of Engineering and a Fellow of the American Association for Arti\002cial Intelligence 13 


