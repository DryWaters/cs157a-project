Proceedings of the 2000 IEEE/RSJ International Conference on Intelligent Robots and Systems Cooperation between two omnidirectional perception systems for mobile robot localization Amaud CLERENTIN, Laurent DELAHOCHE, Eric BRASS ART CREA  Centre de Robotique, dElectrotechnique et dAutomatique 7 rue du Moulin Neuf 80000 Amiens  France Arnaud.Cl&entin iut.u-Dicardie.fr  Laurent.Delahoche@u-Dicardie.fr Abstract In this paper, an absolute localization paradigm based on the cooperation of an omnidirectional vision system composed 
of a conical mirror and a CCD camera and a low cost panoramic range finder system is reported. These two sensors which have been used independently until now provide some complementary data This association enables us to build a robust sensorial model which integrates an important number of significant primitives We can thus realize an absolute localization of the mobile robot in particular configurations like symmetric environments where it is not possible to determine the position with the use of only one of the two sensors In a first part we present our global perception system 
In a second part we describe our sensorial model building approach Finally we present an absolute localization method which uses three matching criteriafused thanks to the combination rules of the Dempster-Shafer theory The basic probability assignment got for each primitive matching enables to estimate the reliability of the localization We test our global absolute localization system on several robot's elementary moves in an indoor and symmetric environment 1 Introduction Autonomous mobile robots cannot rely solely on dead reckoning to determine their configuration because dead reckoning errors are cumulative. That's why they must use exteroceptive sensors that get information from the 
environment in order to estimate the robot's location more accurately This leads to a classical localization method based on the fusion of dead reckoning data and exteroceptive data The fusion method generally used is based on the extended kalman filter EKF The perception systems used both with the dead reckoning can be of different natures a goniometer  the SYCLOP system 4 a laser range scanner 2 Another approach consists in using only exteroceptive data the robot's configuration is calculated in the environment reference without using previous information To answer to this problem two strategies are generally 
used The first consists in marking the robot's evolution world with artificial beacons 5 The second one consists in using the intrinsic features of the environment \(doors edges comers    13 Artificial beacons can be detected fast and reliably and provide accurate positioning information with minimal processing. This kind of system is generally employed for industrial applications  101 Unfortunately, these methods lack flexibility and modularity because it is necessary to fit out the robot's evolution environment The other solution consists in referencing on environment characteristic elements and offers a great modularity 
because the robot can localize itself directly in accordance with the landmarks. This kind of localization is founded on a matching stage between a sensorial model and a theoretical map of the environment. Perez in 6 determines with a panoramic laser range finder the absolute position of its robot Similarly Yagi uses an omnidirectional vision system to develop navigation and environment map building methods l We can notice that the robustness of these methods is mainly linked to the matching stage The more precise and rich information the sensorial model will give, the more robust the matching stage will be That is why we 
have worked on a localization approach based on the cooperation of two omnidirectional perception systems: the vision system SYCLOP and a low cost range finder system The association of these two kinds of complementary information permits to generate a sensorial model with a high descriptive level The first part of this paper presents the global omnidirectional perception system The second part deals with the sensorial model building method. Our absolute localization method, based on a Dempster-Shafer multicriteria fusion approach will be presented in the last part In the conclusion we will analyze the experimental results reached with our mobile robot SARAH 
2 The global omnidirectional perception system We use an original perception system making cooperate two omnidirectional sensors an omnidirectional vision system \(SYCLOP  and a low cost and fast panoramic range finder system \(Figure 1 TC transm lsslon glass 7w era support Figure I The global perception system These two sensors have been developed and used independently within our laboratory 4 9 The rotation 0-7 803-6348-5/00/$10 OO 02000 IEEE  1499  


axis of the laser is in line with the center of the conic reflector This geometric constraint is taken into account at the time of a previous phase of calibration The range finder system is an active vision sensor 9 This method consists in projecting on the scene a visible light with known pattem geometry a laser spot in our case A camera images the illuminated scene with a given parallax. The desired 3D-information can be deduced from the position of the imaged laser point and the lateral distance between the projector and the camera This perception system allows to obtain an omnidirectional range finding sensorial model. The kind of primitives is the same that a classical range finder laser The interest of this system is on the one hand its low cost and on the other hand its rapidity. The effective measurable distance region is designated as 0.6m-5m this distance is thought to be a sufficient distance for a mobile robot to detect obstacles and maneuver around them The SYCLOP system, similar to the COPIS one l is composed of a conic mirror and a CCD camera It allows to detect all the vertical landmarks of the environment thanks to a two dimensional radial straight T7gr b  Figure 2 Principle of the omnidirectional sensor SYCLOP The vertical landmarks are characterized by radial straight lines which are extracted with a treatment based on the Sobel gradient We can note that we work in fairly constraint environments which not generate an excessive number of detected landmarks This two omnidirectional sensors association permits to manage some complementary and redundant information within the same sensorial model. With the SYCLOP system we exploit the radial straight lines which characterize angles of every vertical object doors comers edges radiators With this system the information of depth cannot be gotten on an unique acquisition it is not possible to differentiate with this only sensor use the notion of opening \(corridor, opening of door  and the notion of vertical object closed door radiator   Figure 31t is therefore interesting to use a sensor providing some complementary information. Then we have associated to SYCLOP an inexpensive range finding sensor capable to be fast Following a segmentation stage 9 this sensor permits us to exploit sensorial primitives that are segments Figure 3 In this case we have the notion of depth but it is impossible to differentiate two vertical objects placed in the same alignment: for example two closed doors placed on the same wall Figure 3 It misses the notion of angle that will be provided by the SYCLOP system doors I yimnment I I sensorial s~gments dmined wim me cooperation of the Iw ormidrenional Sensors I Figure 3 Principle of the omnidirectional sensorial cooperation Finally this cooperative approach permits to construct a sensorial model whose descriptive level is high This descriptive level is superior to the one obtained with each sensor individually Moreover with an appropriated management of the redundant data \(separation between two segments for the range finder and radial straight line for the SYCLOP system we can compensate a sensorial information absence on one of this two sensors \(Figure 3 3 Sensorial Model construction The sensorial model of the evolution world is based on the taking into account of two types of data \(Figure 3 the vertical landmarks angles and the segments characterizing walls Segments are managed with two points whose coordinates are expressed in the robot\222s reference The managed primitive in the final sensorial model will be segments These segments will be determined with two types of approaches   An approach based on the data complementarity this treatment consists in cutting up segments gotten with the range finder in subsegments Figure 4 The carving is realized with the radial straight lines of the vision system  An approach based on the data redundancy the redundant aspect is characterized by the detection of a vertical landmark with the two sensors Figure 4 In certain cases a vertical landmark is detected by the range finder with the end points of segments We will be able to  1500  


confirm the existence of a segment extremity if a radial straight line corresponds to it In case of-radial straight line absence we will keep the segmentation obtained with the range finding sensorial model final segments end point segment Y mmDlementaw data  SENSORIAL MODEL Figure 5 Principle of the global sensorial model building algorithm From the SYCLOP image we treat the radial lines with a transform We fixed the threshold detection of a radial line number of pixels composing a radial line  to an important The fusion step, described on Figure 3 and Figure 4 is segmentation algorithm based on a simplified Hough value in order to keep the significant radial primitives based on the taking into account of three cases  this case we take as hypothesis to use the radial line 9 The treatment of redundant data \(case 1 of Figure 4 In  missing data case 3 range finding segment data case 1 g 2 Radial line Rangelinding 7 Robot seg refersnce case 1 case 2 Radial line iww mn Rango finding segments R.npe  case 3 case 4 reflector reference Figure 4 The Different cases of the cooperation algorithm We have integrated these different cases of cooperation in the sensorial model building algorithm shown on Figure 5 The first step consists in extracting line segments from the set of points given by the sensor We use the recursive Duda-Hart segmentation algorithm 7 9 To decrease the noise sensitivity of this algorithm we have added a pre processing stage on the set of points in order to eliminate the aberrant points segment into several final subsegments. This stage is based on the segment intersection determination 9 The treatment of missing data \(case 3 of Figure 4 The notion of missing data is here characterized by a vertical landmark which is not detected with the vision sensor In this case the range finding breakpoint is considered directly During this stage we classify the segments and subsegments we get according to their detection by one sensor or by the two sensors. This ordering will enable us to ponder all the segments and subsegments according to their probability of existence \(for example if a segment is detected by the two sensors, it has a strong probability of existence\and we will use these computed weights in the matching stage described further 9 The two extremities of a segment are detected only by the laser range finder \(segment S1 in the case 1 of Figure 6 This segment has a weight of 1 9 One extremity of a segment is detected by the laser range finder and the other extremity is detected only by the conic mirror \(segment S1 in the case 2 of Figure 6 This The different cases are  1501  


number of range finding points equal to 0 and a length Cartesian distance inferior to a predetermined threshold This stage permits to decrease the combinatory aspect of the matching stage and to increase the robustness This building algorithm enables to get a sensorial model where the number of exploitable primitives is more important than the number of primitives got by each sensor when it works individually Besides we can obtain by cooperation a certainty information on the presence of a segment when this segment is detected by the two sensors This information will be used in the matching phase 4 Absolute localization method The robot configuration is determined by matching the sensorial model got by multisensor cooperation with a theoretical map of the environment The primitives used for this matching phase are segments Therefore all environment's elements like doors walls windows For each segment we have considered three correspon dence tests which are similar to these used by Crowley 7 U the angular difference between the two segments Q the difference in length between the two segments 0 the distance between the centers of the two segments radiators  are indexed as segments in the theoretical map Figure 7 The three matching crireria The fusion of these three treatments is made thanks to the combination rules of the Dempster-Shafer theory 8 iK   I       a  r OJ   I I  4 _ 0 0 s PA d IB B't BPAd W L+BPA d IB B'tBPAd Nl   0 W n0;dmb*Ok0mdklD I-CB PA d YES I B P.A dbU Figure 8 basic probabiliry assignments of matching criteria Our frame of discernment is composed of two elements  YES and NO corresponding to those assertions  Yes, we can match the two segments" and No we can not match the two segments For each criterion we have determined the Basic Probability Assignments B.P.A ml m2  m3 shown Figure 8 We can then perform the combination calculation thanks to the Dempster-Shafer rules 8 which allows to calculate the conflict coefficient k between the three elements of the frame of discernment If k<l the conflict is not complete and the combination of belief functions for each a element of the frame of discernment is given by The segments are matched if B.P.A for the YES is superior to the B.P.A for the NO The first stage of this localization algorithm consists in determining a list of sensorial segments Ls which have a strong probability of existence The strong probability notion is managed with the two cases 1 and 2 of the Figure 4 when segment endpoints are detected by the two sensors We consider that the length of these segments has been determined with a good accuracy So our starting correspondence test is the length of a segment In the second stage we consider a segment Lsk from the list Ls and we search the theoretical map segments which length is similar to the Lsk segment length Each found theoretical segment is superposed on the sensorial segment Lsk and we apply the third step in order to test the correspondence of the other sensorial segments The third step consists in applying the three criteria describe above on all the segments on the list Ls except the segment Lsk A segment is matched if the B.P.A for the YES is superior to the B.P.A for the NO To choice the optimal matching solution we calculate a V criteria For each matched segment pair we increment this V coefficient which characterizes the robustness of the global matching Vis managed with the following algorithm Given   B the B.P.A for the YES of the matched segment pair  w the weight of the sensed matched segment computed in the sensorial model building phase For each global matching v 0 for each segment matched end V  V  B*W end So we can see that V is an interesting indicator of the global matching relevance since V takes into account the probability of existence of each matched segment more high the segment's weight is more high the probability is and the quality of each matched pair through the B.P.A for the YES  1502  


These three steps are then repeated for all the Ls list segments The final solution is the one which permits the maximal V 2000 5 Experimental results To test the robustness of our localization algorithm we have performed it on several sensorial acquisitions made in an indoor environment \(Figure 9 The two omnidirectional acquisitions are made when the robot is stopped The omnidirectional acquisitions and the localization algorithm are computed in a Pentium PC located on our mobile robot A Matrox Meteor I1 video card is used to acquire the omnidirectionnal image and the laser acquisition Our   cooperative sensorial model expel 1 mental DerceD ition syst Figure 9 Our global omnidirectional perception system and the experimental indoor environment In order to show the interest of our cooperative approach we have tested our localization method on symmetric environments the first picture on Figure 9 The use of one sensor individually instead of the two sensors emphasizes the robustness problem a strong failure rate has been observed for the matching phase when we use only one sensor 9 The first environment is a long corridor \(length 50 meters Figure 10 shows a sensorial model got with our cooperative approach The robot is located in the middle of the corridor \(Figure 9 We can see on Figure 10 the final decomposition on an set of segments which represent doors and parts of wall We show on this figure the radial straight lines obtained with the omnidirectional conic mirror We must note that for this environment, the depth sensor would not have been able to localize the robot two parallel identical segments would have been detected The SYCLOP system used alone would have posed the problem of environment symmetry The robot final position successfully obtained show the robustness of our method and its accuracy We have indeed a position error of 8cm and an orientation error of 3 degree 4     I final detected segments in I the robot's  4000 3000 2000 1000 0 1000 2000 3000 4000 OI theontical robot's  posinon 2000 after the matching stage 0 r r 2  symmetric environment: a  laboratory square hall 55 N position after the matching 20 11 m,m 0 0 la 2a 10 40 Figure 11 cooperative sensorial model and find position determination in a hull environment The same remarks can be done the use of the two sensors provides enough sensorial information to enable the matching algorithm to converge to a coherent solution The third environment is the end of the corridor shown Figure 9 This environment constitutes a favorable experimental configuration: it is not symmetric and it has an important number of exploitable landmarks \(figure IO 1503 


We can note here on several robot\222s configuration determination that our matching selection criteria is highly discriminative the good configuration has been computed on all the acquisitions 223 2000 1000 0 1000 2OW  I r  1 I _ I-\223\223 y  4\221 _ ctwperative model 1     0 221\222 ___   6ooo 4MK xxM 0 2oM 4wo 6wo 224 Figure 12 cooperative sensorial model first figure and final position determination Finally on a complete path makes in the corridor by our robot mobile SARAH we could note on 40 acquisitions that on the one hand all the absolute configurations have been determined correctly and on the other hand the mean error was equal to 11 cm in position and 3 degree in orientation In spite of an important combinatory aspect our cooperative localization method proves to be robust and particularly accurate 6 Conclusion We have presented in this study an absolute localization approach based on the cooperation between two omnidirectional sensors an omnidirectionnal vision sensor and a range finding sensor. This association allows to treat two types of complementary data Then we obtain a highly descriptive sensorial model which integrates an important number of primitives and enables to increase the robustness of the matching stage The absolute localization paradigm based on this matching stage takes into account several criteria which are merged with the Dempster Shafer rules The choice of the optimal matching is based on a highly discriminative criteria which associates a segment weight and a B.P.A. linked to the matching stage We have tested our cooperative absolute localization algorithm on several particular environment like for example symmetrical environment On the one hand we can note on these experimental results that the robot\222s configuration determination is realized in a unique way and on the other hand the absolute robot\222s configuration is calculated with a relatively weak systematic error Acknowledgment The authors would like to thank Mr Raynald LESIEUR helper engineer in electronic at the IUT of Amiens for his great help to developed the laser range References Y Yagi Y Nishizawa M Yachida 223Map-based navigation for a mobile robot with omnidirectional image sensor COPIS\224 IEEE Trans on Robotics and Automation Vol 11 pp. 634-648 October 1995 JGomes-Mota M.I Ribeiro 223A multi-layer robot localisation solution using a laser scanner on reconstructed 3D models\224 Proc on the gth Int Symposium on Intelligent Robotic Systems, Scotland, 1998 P Bonnifait G Garcia 223Design and Experimental Validation of an Odometric and Goniometric Localization System for Outdoor Robot Vehicles.\224 IEEE Trans on Rob and Aut Vol 14 No 4 pp 541-548 August 1998 C Drocourt L Delahoche C Pegard C Cauchois  223Localization method based on omnidirectional stereoscopic vision and dead-reckoning\223 Proc of the IEEE Int Conf on Int Robots and Systems Korea October 1999 H.R Beom H.S Cho 223Mobile robot localization using a single rotating sonar and two passive cylindrical beacons\224 Robotica, Vol 13 pp. 243-252, 1995 J.A. Perez, J.A. Castellanos J.M.M Montiel, \223Continuous localization: vision vs laser\224 IEEE Proc of Int Conf on Rob and Aut pp 2917-2923, Detroit May 1999 J Crowley, \223Navigation for an intelligent mobile robot\224 IEEE Journal on Robotics and Automation Vol RA-I no pp 31-41 March 1985 G.A Shafer 223A mathematical theory of evidence\224 Princeton  university press 1976 A CICrentin C PCgard C Drocourt 223Environment Exploration Using an Active Vision Sensor\224 Proc of the IEEE Int Conf on Intelligent Robots and Systems IROS\22299 Korea October 1999 IO J Hollingum 223Caterpillar make the earth move  automatically\224, Industrial Robot Vol 18 No 2 pp 15-18 1991  1504  


I Resent an qut pam     h to the Fx PES where Fx  xl  xn Aaivity at the Fx lays   t    La is denotcd by darkened PES t t FY FX 2 Each Fx PE acuvauon a sends a signal through its long-term memory LTM connections wi to evq Fy PE bJ This flow of acuvation is holed by the darkened regions flowng from Fx to Fy t   L t t  t 3 Each Fy PE unnpctcs with the others using compuitive intaactions until only one Fy PE remains active This operation in essene amounu to finding the reference vecm W that most closely matches the input paw AL This activity is denoted by thc darkened Fy PES   ta 4 wmg Fy PE say yJ sends a topdoam s~pl through IIS LTM ConnectlONI vJi back to FX and possibly ueates a new sa of Fx PE acuvauolls llus acuvity is repcsentcd by the darkened region FY FX t k1 w L t t g from Y 5 Themput Al   h IS canpared wth the topdoam  Fy to  5 arlted by the g FB PE and the difference Hmmg d~stana is measured bctwcm Ak and X Thc FX activity is repnsented by the darkened PES and the comparison oprauon is denoted by the box FX MPUT-ToP-DOWN CoMP*RISoN k1 ti h I If the duYerence between X and Ak exceeds a p&m"ed value the FY FX vigilance parameto then the wmmg Fy PE does not represent the poper class for Ak and it is removed from the sa of allowable Fy mas If there are still Fy PES rrmmmg in step 2 otherwse remit an the sa of allowable w~nners go to uncommitted Fy PE and encode Ak onto this PE's reference vector FY FX ca ENCODE PATTERN ONTO WEIGHTS  If the diffacncc bawem the two dvatiau dou not ex the vigilanc parameter then y is represents the pmper dass for the input pattun 4 and th inpu p.rtem is then merged with the smcd pm APPENDIX Two BINARY ADm RLWNAh'CE THEORY  EQUATIONS SYSTEM VARIABLES Note  all vectors are binary valued VI  vJ1. vJ2  vJn  topdown pattern \(templare recalled L I max I.D]<B<I+D A.C M from the winning Fy PE yr Ak during steps 1 3 Ak n VJ during steps 4 6 x  XI x2  Xn  INITIALIZATION Dimt A Inequality 0  w  L  L-l+n Template Learning Inequality B-I  vji S 1 Fy CLASS SEARCH J  index set of allowable 0 otherwise Fy PE winnm Yj  Tk  i Wik Fy PE RESET RULE Remove the winning Fy PE y from thc sct of allowable winnm if 1x1  c xi  I when 0  p S 1 is the vigilance paramter me closer p is to 1 the finer the classification granularity LEARNING LAWS FAST LEARNING Bottom-Up Lenrning Only change the connections that abut the winning PE yJ a Top-Down Laming Only change the connections emanating from thc winning PE yJ VJi  U\(L-I+IXI 


267  Feature dimensions  on which the generated rules may be dimensioned such as merchant, time and area  A volume cube C v is sufficient for deriving the instances of rule X 336 Y if it has a base dimension that represents the base of the rule, and the association conditions for qualifying X 331 Y are definable on C v For deriving cross-sale association rules from cube SaleUnits an association condition can be  for each base and feature dimension C v product A\ > 0 331 C v product B\ > 0 If the association conditions used to compute multidimensional P X  307 P Y  are definable on C v then another kind of condition, called antecedent conditions that are used to compute multidimensional  P X    are also definable on C v such as  for each base and feature dimension C v product A\ > 0 Association cube The association cube C a  for rule X 336 Y gives a volume-based measure of multidimensional association relationships that are computed from the volume cube C v and is used to derive the confidence cube and the support cube of association rules. More exactly, it maintains dimensioned P X 307 P Y i.e the number of base elements that satisfy X 331 Y Usually C a is dimensioned differently from C v In the cross-sale association rule example, the association cube is defined as  CrossSales product, product2, customer_group, merchant time, area  A cell of this cube, CrossSales product 221A\222 product2 221B\222  customer_group \221 engineer\222 merchant 221Sears\222 time 221Jan98\222 area 221Los Angeles\222\eans that there are 4,500 customers who are engineers, who bought item A as well as item B, at a Sears store in Los Angeles in Jan98 For an association cube the item dimensions underlie the counts for deriving association rules, such as dimensions product and product2 for the above CrossSales cube. The dimension product2 has the same set of values as product and we call it the mirror dimension  of product We introduce a mirror dimension simply because the cross-sale association rule involves more than one element of the item dimension  The base dimension   such as the customer dimension  underlies the base of rules. Unlike the volume cube, the association cube does not necessarily have to be dimensioned by the base dimension However, we can dimension rules by a derived dimension, each value of which identifies a group of base dimension values at bottom levels. In the cube CrossSales shown above, we introduce the hierarchical dimension customer_group   which has levels customer_profession\222, \221customer_category\222 and 'top'. A relation is also defined for relating customers and customer groups. For example, a value of the derived customer_group dimension, say, \223engineer\224, is used to identify a group of individual customers who are engineers  An association can cube also have underlying feature dimensions  such as merchant, time and area Population cube and base cube The population cube C p and the base cube C b for rule X 336 Y are also derived from the volume cube C v  C p is used to measure dimensioned P X i.e the numbers of base elements satisfying X  C b is used to represent dimensioned B For the above cross-sale rules, the population cube is defined as NumOfBuyers \(product, customer_group, merchant, time area A cell of this cube NumOfBuyers product 221A\222 customer_group \221 engineer\222 merchant 221Sears\222 time 221Jan98\222 area 221Los Angeles\222  10000  means that there are 10,000 customers who are engineers, and who bought item A in Los Angeles in Jan98. The base cube is defined as  NumOfShoppers \(customer_group, merchant, time, area Note that NumOfShoppers is not aggregated from NumOfBuyers as a single customer may buy multiple products Confidence cube and support cube The confidence of rule X 336 Y defined as P X 307 P Y  P X  and the support, defined as P X 307 P Y B are represented as cubes C f  and C s  C f  is derived from C a and C p and C s is derived from C a  and C b They have the same dimensions as C a For the above cross-sale rules the confidence cube and support cube are defined as  Confidence \(product, product2, customer_group, merchant time, area   Support  product, product2, customer_group, merchant time, area Figure 2 shows the cubes related to cross-sale association rules, with one slice of each cube. The volume-cube is generated from transactions; the 


association-cube, base-cube and population-cube are derived from the volume cube; the confidence-cube is derived from the association cube and population cube and the support-cube is derived from the associationcube and base-cube. The slices of these cubes shown in Figure 2 correspond to the same list of values in dimension merchant, time, area and customer_group  Multidimensional and multilevel rules Representing association rules by cubes and underlying cubes by hierarchical dimensions, naturally supports multidimensional and multilevel rules. Also these rules are well organized and can be easily queried  First, the cells of an association cube with different dimension values are related to association rule instances in different scopes. In the association cube CrossSales cell CrossSales product \221A\222, product2 \221B\222  customer_group 221engineer\222, merchant \221Sears\222, area \221Los Angeles\222, time 221Jan98\222 represents the following multidimensional rule x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x,\221B\222  275 customer_group = \221engineer\222, merchant = \221Sears\222, area 221Los  Angeles\222, time =  \221Jan98\222 If this cell has value 4500, and the corresponding cell in the population cube has value 10000, then this rule has confidence 0.45 Next as the cubes representing rules can have hierarchical dimensions, they represent not only multidimensional but also multi-level association rules. For example, the following cells CrossSales\(product \221A\222, product2 \221B\222, customer_group 221engineer\222, merchant \221Sears\222, area \221 California 222, time 221Jan98\222 CrossSales\(product \221A\222, product2 \221B\222, customer_group 221engineer\222, merchant \221Sears\222, area \221 California 222, time 221 Year98 222 represent association rules at different area levels \(i.e the city level and the state level\d different time levels \(i.e., the month level, the year level x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x, \221B\222  275 customer_group = \221engineer\222, merchant =  \221Sears\222, area 221 California 222, time =  \221Jan98\222 x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x, \221B\222  275 customer_group = \221engineer\222, merchant =  \221Sears\222, area 221 California 222, time =  \221 Year98 222 The cell CrossSales\(product \221A\222, product2 \221B\222,  customer_group 221top\222, merchant \221top\222, area \221top\222,  time \221top\222 represents the customer-based cross-sale association rule for all customers, merchants, areas, and times in the given range of these dimensions, expressed as x 316 Customers: buy_product\(x, \221A\222 336 buy_product\(x, \221B\222 4.3  Generating Association Rule Related Cubes The basic task of our OLAP based association rule mining framework, either at the GDOS or at an LDOS is to convert a volume cube i.e. the cube representing the purchase volumes of customers dimensioned by product  area etc, into an association cube a base cube and a population cube These cubes are then used to derive the confidence cube and the support cube of multidimensional association rule instances. The following general steps are involved in cross-sale association rule mining 267  Roll up the volume cube SaleUnits by aggregating it along merchant, time, area dimensions 267  Derive cube NumOfBuyers from SaleUnits based on the antecedent condition SaleUnits 0 267  Populate cube NumOfShoppers by the counts of customers dimensioned by merchant, area  time not by product\at satisfy the antecedent conditions 267  Derive cube CrossSales from SaleUnits based on the association conditions SaleUnits  product  p 1  0 and SaleUnits  product2  p 2 0 267  Derive cube Confidence and cube Support using cell-wise operations 214  Confidence = CrossSales  NumOfBuyers 214  Support  CrossSales  NumOfShoppers  Cubes Confidence  Support  CrossSales are dimensioned by product  product2 customer_group,merchant  time, area NumOfBuyers is dimensioned by product  customer_group, merchant time, area  NumOfShoppers is dimensioned by customer_group, merchant  time, area Rules with confidence and support that exceed specified thresholds  may be considered interesting 4.4. Rules with Conjoint Items Cubes with conjoint dimensions can be used to represent refined multidimensional association rules For example, using OLAP, we can derive association rules across time  Time-variant or temporal association rules such as 


x 316 Customers buy_product\(x,\222 A\222, \221 Jan98\222  336 buy _product\(x, \221B\222, \221 Feb98\222   275 area = \221Los Angeles\222 can be used to answer such questions as \223 How are  the sales of B in Feb98  associated with the sales of A in Jan98 224 The items in this rule are value pairs of dimensions product and time In order to specify this kind of association rule we introduce a conjoint dimension product, time and mirror it with dimension product2, time2 This allows a cell in the association cube to cross two time values. Accordingly, the cubes related to association rule mining are defined as follows Association cube  CrossSales.2 \(<product, time>, <product2, time2 customer_group, merchant, area  Population cube  NumOfBuyers.2  \(<product, time>, customer_group merchant, area Base cube  NumOfShoppers.2  \( customer_group, merchant, area Confidence cube Confidence.2 \(<product, time>, <product2, time2 customer_group, merchant, area Support  cube  Support.2  product, time>, <product2, time2 customer_group, merchant, area  The steps for generating these cubes are similar to the ones described before. The major differences are that a cell is dimensioned by, besides others product, time and product2, time2 and the template of the association condition is  SaleUnit s  product p 1 time t 1  0 and  SaleUnits  product2 p 2 time2 t 2  0 where, in any instance of this condition, the time expressed by the value of time2 is not contained in the time expressed by the value of time The template of the antecedent condition is SaleUnits   product p 1 time t 1  0 In general, other dimensions such as area may be added to the conjoint dimensions to specify more refined rules 4.5. Functional Association Rules A multidimensional association rule is functional if its predicates include variables, and the variables in the consequent are functions of those in the antecedent.  For example, functional association rules can be used to answer the following questions, where a_month and a_year are variables q  What is the percentage of people in California who buy a printer in the next month after they bought a PC x 316 Customer buy_product\(x, \221PC\222, a_ month 336 buy_product\(x, \221printer\222, a_month+1  275 area = \221California\222 q  What is the percentage of people who buy a printer within the year when they bought a PC  x 316 Customer: buy_product\(x, \221PC\222, a_ year 336 buy_product\(x, \221printer\222, a_year 275 area = \221California\222 To be distinct, we call the association rules that are not functional as instance association rules; e.g x 316 Customer: buy_product\(x,\222 PC\222, \221Jan98\222 336 buy_product\(x,\222 printer\222, \221Feb98\222  275 area =  \221California\222 Time variant, functional association rules can be derived from time variant, instance association rules through cube restructuring. Let us introduce a new dimension time_delta that has values one_day, two_day 205, at the day level, and values one_month, two_month, \205, at the month level, etc. Then, let us consider the following functional association rule related cubes Association cube  CrossSales.3 \(product, product2, customer_group merchant, area, time_delta  Population cube  NumOfBuyers.3 \(product, customer_group, merchant area Base cube  NumOfShoppers.3 \( customer_group, merchant, area Confidence cube  Confidence.3 \(product, product2, customer_group merchant, area, time_delta Support cube  Support.3 \(product, product2, customer_group, merchant area, time_delta The association cube CrossSales.3  can be constructed from CrossSales.2   The cell values of CrossSales.2  in the selected time and time2 ranges are added to the corresponding cells of CrossSales.3 For example, the count value in cell  CrossSales.2\(<PC, Jan98>, <printer, Feb98>\205 is added to cell \(bin CrossSales.3\(PC, printer, one_month,\205 


It can also be added to cell CrossSales.3\(PC, printer one_year,\205 5  Distributed and Incremental Rule Mining There exist two ways to deal with association rules 267  Static that is, to extract a group of rules from a snapshot, or a history, of data and use "as is 267  Dynamic that is, to evolve rules from time to time using newly available data We mine association rules from an e-commerce data warehouse holding transaction data. The data flows in continuously and is processed daily Mining association rules dynamically has the following benefits 267  223Real-time\224 data mining, that is, the rules are drawn from the latest transactions for reflecting the current commercial trends 267  Multilevel knowledge abstraction, which requires summarizing multiple partial results. For example association rules on the month or year basis cannot be concluded from daily mining results. In fact multilevel mining is incremental in nature 267  For scalability, incremental and distributed mining has become a practical choice Figure 3: Distributed rule mining Incremental association rule mining requires combining partial results. It is easy to see that the confidence and support of multiple rules may not be combined directly. This is why we treat them as \223views\224 and only maintain the association cube, the population cube and the base cube that can be updated from each new copy of volume cube. Below, we discuss several cases to show how a GDOS can mine association rules by incorporating the partial results computed at LDOSs 267  The first case is to sum up volume-cubes generated at multiple LDOSs. Let C v,i be the volume-cube generated at LDOS i The volume-cube generated at the GDOS by combining the volume-cubes fed from these LDOSs is 345   n i i v v C C 1  The association rules are then generated at the GDOS from the centralized C v  214  The second case is to mine local rules with distinct bases at participating LDOSs, resulting in a local association cube C a,I a local population cube C p,I  and a local base cube C b,i at each LDOS. At the GDOS, multiple association cubes, population cubes and base cubes sent from the LDOSs are simply combined, resulting in a summarized association cube and a summarized population cube, as 345   n i i a a C C 1   345   n i i p p C C 1  and 345   n i i b b C C 1  The corresponding confidence cube and support cube can then be derived as described earlier. Cross-sale association rules generated from distinct customers belong to this case In general, it is inappropriate to directly combine association cubes that cover areas a 1 205, a k to cover a larger area a In the given example, this is because association cubes record counts of customers that satisfy   customer product merchant time area Doe TV Dept Store 98Q1 California Doe VCR Dept Store 98Q1 California customer product merchant time area Doe VCR Sears 5-Feb-98 San Francisco Joe PC OfficeMax 7-Feb-98 San Francisco customer product merchant time area Doe TV Fry's 3-Jan-98 San Jose Smith Radio Kmart 14-Jan-98 San Jose Association   population      base          confidence      support cube               cube                cube         cube                cube LDOS LDOS GDOS 


the association condition, and the sets of customers contained in a 1 205, a k are not mutually disjoint. This can be seen in the following examples 214  A customer who bought A and B in both San Jose and San Francisco which are covered by different LDOSs , contributes a count to the rule covering each city, but has only one count, not two, for the rule A  336  B covering California 214  A customer \(e.g. Doe in Figure 3\who bought a TV in San Jose, but a VCR in San Francisco, is not countable for the cross-sale association rule TV  336 VCR covering any of these cities, but countable for the rule covering California. This is illustrated in Figure 3 6  Conclusions In order to scale-up association rule mining in ecommerce, we have developed a distributed and cooperative data-warehouse/OLAP infrastructure. This infrastructure allows us to generate association rules with enhanced expressive power, by combining information of discrete commercial activities from different geographic areas, different merchants and over different time periods. In this paper we have introduced scoped association rules  association rules with conjoint items and functional association rules as useful extensions to association rules The proposed infrastructure has been designed and prototyped at HP Labs to support business intelligence applications in e-commerce. Our preliminary results validate the scalability and maintainability of this infrastructure, and the power of the enhanced multilevel and multidimensional association rules. In this paper we did not discuss privacy control in customer profiling However, we did address this issue in our design by incorporating support for the P3P protocol [1 i n  ou r data warehouse. We plan to integrate this framework with a commercial e-commerce system References 1  Sameet Agarwal, Rakesh Agrawal, Prasad Deshpande Ashish Gupta, Jeffrey F. Naughton, Raghu Ramakrishnan, Sunita Sarawagi, "On the Computation of Multidimensional Aggregates", 506-521, Proc. VLDB'96 1996 2  Surajit Chaudhuri and Umesh Dayal, \223An Overview of Data Warehousing and OLAP Technology\224, SIGMOD Record Vol \(26\ No \(1\ 1996 3  Qiming Chen, Umesh Dayal, Meichun Hsu 223 OLAPbased Scalable Profiling of Customer Behavior\224, Proc. Of 1 st International Conference on Data Warehousing and Knowledge Discovery \(DAWAK99\, 1999, Italy 4  Hector Garcia-Molina, Wilburt Labio, Jun Yang Expiring Data in a Warehouse", Proc. VLDB'98, 1998 5  J. Han, S. Chee, and J. Y. Chiang, "Issues for On-Line Analytical Mining of Data Warehouses", SIGMOD'98 Workshop on Research Issues on Data Mining and Knowledge Discovery \(DMKD'98\ , USA, 1998 6  J. Han, "OLAP Mining: An Integration of OLAP with Data Mining", Proc. IFIP Conference on Data Semantics DS-7\, Switzerland, 1997 7  Raymond T. Ng, Laks V.S. Lakshmanan, Jiawei Han Alex Pang, "Exploratory Mining and Pruning Optimizations of Constrained Associations Rules", Proc ACM-SIGMOD'98, 1998 8  Torben Bach Pedersen, Christian S. Jensen Multidimensional Data Modeling for Complex Data Proc. ICDE'99, 1999 9  Sunita Sarawagi, Shiby Thomas, Rakesh Agrawal Integrating Association Rule Mining with Relational Database Systems: Alternatives and Implications", Proc ACM-SIGMOD'98, 1998   Hannu Toivonen, "Sampling Large Databases for Association Rules", 134-145, Proc. VLDB'96, 1996   Dick Tsur, Jeffrey D. Ullman, Serge Abiteboul, Chris Clifton, Rajeev Motwani, Svetlozar Nestorov, Arnon Rosenthal, "Query Flocks: A Generalization of Association-Rule Mining" Proc. ACM-SIGMOD'98 1998   P3P Architecture Working Group, \223General Overview of the P3P Architecture\224, P3P-arch-971022 http://www.w3.org/TR/WD-P3P.arch.html 1997 


Plenary Panel Session 30 XML Databases   Moderator: Michael Carey, IBM Almaden Research Center USA Panelists Adam Bosworth, Microsoft Corporation USA David De Witt University of Wisconsin-Madison, USA Alon Levy University of Washington USA Bruce Lindsay IBM Almaden Research Center USA Jennifer Widom Stanford University USA Demo Session 1 Web Query Optimizer  661 V Zadorozhny L Bright L Raschid T Urhan and M Vidal ReQueSS: Relational Querying of Semi-structured Data  664 R Sunderraman The IDEAL Approach to Internet-Based Negotiation for E-Business  666 J Hammer C Huang Y Huang C Pluempitiwiriyawej M Lee H Li L Wang Y Liu and S Su READY A High Performance Event Notification Service  668 R Gruber B Krishnamurthy, and E Panagos A Multimedia Information Server with Mixed Workload Scheduling  670 G Nerjes DISIMA An Object-Oriented Approach to Developing an Image Database System  672 V Oria T Ozsu P Iglinski B Xu and L Cheng Demo Session 2 The Collaboration Management Infrastructure  677 H Schuster D Baker A Cichocki D Georgakopoulos and M Rusinkiewicz Assisting the Integration of Taxonomic Data The LITCHI Toolkit  679 I Sutherland J Robinson S Brandt A Jones S Embury W Gray R White and F Bisby TheaterLoc: Using Information Integration Technology to Rapidly Build Virtual Applications  681 G. Barish Y.4 Chen D Dipasquo, C Knoblock S Minton I Muslea and C Shahabi Lineage Tracing in a Data Warehousing System  683 Y Cui and J Widom xiii 


The Mentor-Lite Prototype A Light-Weight Workflow Management System  685 J Weissenfels M Gillmann 0 Roth, G Shegalov and W Wonner Location Prediction and Queries for Tracking Moving Objects  687 0 Wolfson B Xu and S Chamberlain Semiorder Database for Complex Activity Recognition in Multi-Sensory Environments  689 S Bhonsle A Gupta S Santini and R Jain Tutorial 1 Web Information Retrieval  693 M Henzinger Tutorial 2 Mobile and Wireless Database Access for Pervasive Computing  694 P Chrysanthis and E Pitoura Tutorial 3 Data Mining with Decision Trees  696 J Gehrke Tutorial 4 Directories Managing Data for Networked Applications  697 D Srivastava Tutorial 5 Indexing High-Dimensional Spaces Database Support for Next Decade\222s Applications  698 S Berchtold and D Keim xiv 


 T5.I2.D100K T10.I4.D100K T15.I4.D100K T10.I6.D400K T10.I6.D800K T10.I6.D1600K Optimizations across Databases 5 0 5 10 15 20 25 30 35 40 45 Improvement COMP TREE COMP-TREE 1 2 4 8 1 2 4 8 1 2 4 8 2 4 8 2 4 8 1 2 4 8 Processors Databases Figure 5 Effect of Computation and Hash Tree Balancing good as the COMP optimization The reason that the hash tree balancing is not suf\336cient to offset inherent load imbalance in the candidate generation in this case The most effective approach is to apply both optimizations at the same time COMP-TREE The combined effect is suf\336cient to push the improvements in the 40 range in the multiple-processor case On 1 processor only hash tree balancing is bene\336cial since computation balancing only adds extra cost 5.4 Short-circuited Subset Checking Figure 6 shows the improvement due to the short-circuited subset checking optimization with respect to the unoptimized version The unoptimized version is the Apriori algorithm due to Agrawal et al 5 The results are presented for dif ferent number of processors across dif ferent databases The results indicate that while there is some improvement for databases with small transaction sizes the optimization is most effective when the transaction size is large In this case we get improvements of around 25 r the unoptimized version To gain further insight into this optimization consider 336gure 7 It shows the percentage improvement obtained per iteration on applying this optimization on the T20.I6.D100K database It shows results only for the uni-processor case r similar results were obtained on more processors We observe that as the iteration k increases there is more opportunity for shortcircuiting the subset checking and we get increasing bene\336ts of up to 60 The improvements start to fall off t the high end where the number of candidates becomes small resulting in a small hash tree and less opportunity for short-circuiting It becomes clear that is an extremely effective 15 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


 T5.I2.D100K T10.I6.D800K T15.I4.D100K T20.I6.D100K procs across Databases 0 5 10 15 20 25 Improvement 1 2 4 8 Figure 6 Effect of Short-circuited Subset Checking 23456789101112 Iterations 0 10 20 30 40 50 60 improvement T20.I6.D100K Figure 7  Improvement per Iteration  proc   16 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


optimization for larger transaction sizes and in cases where there are large number of candidate k itemsets 6 Conclusions In this paper e presented a parallel implementation of the Apriori algorithm on the SGI Power Challenge shared memory multi-processor We also discussed a set of optimizations which include optimized join and pruning computation balancing for candidate generation hash tree balancing and short-circuited subset checking We then presented experimental results on each of these Improvements of more than 40 were obtained for the computation and hash tree balancing The short-circuiting optimization was found to be extremely effective for databases with large transaction sizes Finally we reported the parallel performance of the algorithm While we d good speed-up we observed a need for parallel I/O techniques for further performance gains References  R Agra wal T  Imielinski and A Swami Database mining A performance perspecti v e  I n IEEE Trans on Knowledge and Data Engg  pages 5\(6 1993  R Agra wal T  Imielinski and A Swami Mining association rules between sets of items in lar ge databases In Proc M SIGMOD Intl Conf Management of Data  May 1993  R Agra wal H Mannila R Srikant H T o i v onen and A I V erkamo F ast disco v ery of association rules In U F et al editor Advances in Knowledge Discovery and Data Mining  MIT Press 1996  R Agra wal and J Shafer  P arallel mining of association rules design implementation and e xperience Technical Report RJ10004 IBM Almaden Research Center San Jose CA 95120 Jan 1996  R Agra wal and R Srikant F ast algorithms for mining association rules In Proc 20th VLDB Conf  Sept 1994  M Cierniak W  Li and M J Zaki Loop scheduling for heterogeneity  I n 4th IEEE Intl Symposium on High-Performance Distributed Computing also as URCS-TR 540 CS Dept Univ f Rochester  Aug 1995  M Holsheimer  M  K ersten H Mannila and H T o i v onen A perspecti v e on databases and data mining In 1st Intl Conf Knowledge Discovery and Data Mining  Aug 1995  M Houtsma and A Swami Set-oriented mining of association rules In RJ 9567  IBM Almaden Oct 1993  H Mannila H T o i v onen and I V erkamo Ef 336cient algorithms for disco v ering association rules In AAAI Wkshp Knowledge Discovery in Databases  July 1994  J S P ark M Chen and P  S Y u  A n e f fecti v e hash based algorithm for mining association rules In Proc M SIGMOD Intl Conf Management of Data  May 1995 17 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


 J S P ark M Chen and P  S Y u  E f 336cient parallel data mining for association rules T echnical Report RC20156 IBM T J Watson Research Center Aug 1995  G Piatetsk y-Shapiro Disco v ery  presentation and analysis of strong rules In G P S et al editor  KDD  AAAI Press 1991  A Sa v asere E Omiecinski and S Na v athe An ef 336cient algorithm for mining association rules in large databases In Proc 21st VLDB Conf  1995  M J Zaki M Ogihara S P arthasarathy  and W  Li P arallel data mining for association rules on shared-memory multi-processors Technical Report 618 Department of Computer Science University of Rochester 618 1996 18 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


