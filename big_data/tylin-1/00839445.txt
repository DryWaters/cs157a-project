Mining Recurrent Items in Multimedia with Progressive Resolution Re\002nement 003 Osmar R Za 250 021ane Department of Computing Science University of Alberta Edmonton Alberta Canada zaiane@cs.ualberta.ca Jiawei Han Hua Zhu School of Computing Science Simon Fraser University Burnaby British Columbia Canada f han hzhua g cs.sfu.ca Abstract Despite the overwhelming amounts of multimedia data recently generated and the signi\002cance of such data very few people have systematically investigated multimedia data 
mining With our previous studies on content-based retrieval of visual artifacts we study in this paper the methods for mining content-based associations with recurrent items and with spatial relationships from large visual data repositories A progressive resolution re\002nement approach is proposed in which frequent item-sets at rough resolution levels are mined and progressively 002ner resolutions are mined only on the candidate frequent item-sets derived from mining rough resolution levels Such a multi-resolution mining strategy substantially reduces the overall data mining cost 
without loss of the quality and completeness of the results 1 Introduction Mining knowledge from large databases has been the focus of many recent studies and applications however most of these have emphasized corporate data typically in alphanumeric databases Little research has been conducted on mining multimedia data Nevertheless a few interesting studies and successful applications involving multimedia data mining have been reported For example 12 d escribes the CONQUEST system that combines satellite data with geophysical data to discover patterns in global climate change The SKICAT system 4 i nt e g rat e s t echni ques f or 
image processing and data classi\002cation in order to identify 223sky objects\224 captured in a very large satellite picture set Multimedia data has also been a focal point of our research and we have integrated image processing with database mining techniques and developed a multimedia data mining system prototype MultiMediaMiner 15 14 003 Research is supported in part by the Natural Sciences and Engineering Research Council of Canada and the Canadian Networks of Centres of Excellence IRIS-3 The system uses a data cube structure for mining charac 
teristic association and classi\002cation rules However the system does not use image content to the extent we wanted The presence of colours and textures in images was used but not localization of these visual features their spatial relationships their motion in time for video etc In this paper we extend the concept of content-based multimedia association rules using feature localization and introduce the concept of progressive re\002nement in the discovery of patterns in images from coarse to 002ne resolution Two algorithms are developed for mining multimedia asso 
ciation rules with recurrent items and recurrent spatial relationships Our major contribution in this paper is the development of a progressive multi-resolution re\002nement method for mining multimedia associations with recurrent objects and for mining spatial relationships between visual descriptors in large image collections The remainder of the paper is organized as follows In Section 2 we introduce the concept of multimedia association rules In sections 3 and 4 algorithms for mining multimedia multiset associations and associations with spatial relationships are presented Also in Section 4 the progressive 
multi-resolution re\002nement approach is proposed Section 5 brie\003y reports our performance study Finally we conduct a short discussion and conclude our study 2 Multimedia association rules 2.1 Feature localization in multimedia data Feature localization is a new concept of rough image segmentation introduced in Im ag e s e g m e n t atio n i s a process which segments an image into disjoint regions A region consists of a set of pixels that share certain properties e.g similar colour similar texture etc The traditional segmentation algorithms assume 1 regions are 
mostly connected  2 regions are disj oint  R i  R j    for i 6  j  and 3 segmentation is compl ete in that any pixel will be assigned to some region and the union of all 


Figure 1 Example of colour localization for a multi\255level resolution image regions is the entire image   m k 1 R k  I  Segmentation does not give a good representation of image content A more useful and attainable process is feature localization that identi\002es features by their locality and proximity Asde\002nedin[7,13 a locale L x is a local enclosure or locality of feature x  L x has an envelope L x which is a set of tiles to represent the locality of L x  and some geometric parameters mass M  L x  i.e the number of pixels in L x that actually have feature x  centroid C  L x  i.e the centroid of the pixels in L x  variance 033 2  L x  i.e the variance of the Cartesian distance from pixels in L x to the centroid and shape parameters for the locale etc A tile is a square area in an image Its size is arbitrarily chosen as 16 002 16  but could be bigger or smaller The tile is the building-unit for envelopes A tile is red if a suf\002cient number of pixels within the tile are red It follows that a tile can be both red and blue if some of its pixels are red and some are blue While a pixel is the unit for image segmentation a tile is the unit for feature localization Thus feature localization is a kind of rough segmentation where overlap is possible and completeness is not necessary The right columns of Figure 1 show an example of feature localization each image illustrates a different locale for the same image We also de\002ne minimum bounding circles around locales for topological relationship approximation In this study we investigate ef\002cient methods for mining associations in image databases after image segmentation by feature localization 2.2 Multimedia associations with recurrent items Association rule mining has been studied extensively in data mining research community recently 1 6 11 8 10 Many algorithms and approaches have been proposed for mining many types of association rules in large databases However typically the databases relied upon are alphanumerical and often transaction-based While some of the algorithms proposed can be applied to visual data to a certain extent after transforming the data into a form that can be processed new algorithms should be better suited Indeed visual data has some peculiarities proper to images For example some visual features can occur multiple times in an image and the repetition of the feature may carry more information than the existence of the feature itself Previous de\002nitions and usage of association rules have limitations vis-\036 a-vis mining association rules from an image and video collection An image for instance can indeed be modelled by a transaction with items being the visual features in the image and image ID being the transaction ID However items in the antecedent of the rule repeating in the consequent can be an interesting factor in image analysis applications Moreover recurrent objects in images are very common and important as argued above In addition one may be interested in 002nding associations with a coarse-to-\002ne search strategy In other words association rules can 002rst be found at a low resolution then progressively con\002rmed at higher resolutions Thus we can rapidly approximate multimedia association rules at a coarse level then eliminate false positives by verifying them at a higher resolution Moreover the approximation of a locale by a minimum bounding circle can speed up the discovery of association rules at a high conceptual level for spatial topological concepts such as closeness overlap or containment The precision of the rules discovered are improved by eliminating the minimum bounding circle and using the locale envelope with higher image resolutions The main advantages of this approach is that 1 the extraction of locale features can be conducted at multiple often reduced resolutions to save processing time 2 locale intrinsic features can be de\002ned at appropriate resolutions to avoid too much detail/noise or insuf\002cient detail Dominant colours are well preserved at a low resolution but some texture information can be lost when the resolution is too low The coarse-to\002ne search strategy is important for large image and video databases even when the features are extracted and analyzed at pre-processing time The previous studies of association mining assume that the items are unique in I  hence the de\002nition of support  For example with the well-known Apriori algorithm 1 duplicates are n e v er cons idered when the k item candidate sets C k are formed In multimedia mining we would like to mine rules such as 223 2 bl ue cir cl es  hig h textur e density 224 This means that the sole existence of blue does not necessarily imply the consequent That is two occurrences have to co-exist in the image for the rule to be valid In addition the de\002nition of strong rules based on large support is quite inadequate in some imaging applications Features appearing very frequently i.e having a large support in some medical images for example can be normal phenomenon and uninteresting to users A low 


support on the other hand could generate item-sets with extremely rare items While these rare items could either be just meaningless noise or sought for rare phenomenon in medicine applications for example they fall in the realm of outlier analysis and are out of the scope of this study We believe that a range for an acceptable support should be introduced for such applications Hence the de\002nition of the suf\002ciently strong association rule Def 2.3 The above discussion leads to the introduction of two notions of support  Traditionally the support is the percentage of transactions that contain an item or verify a condition It measures how interesting and frequent an item or predicate is in a data set In our model images are represented by transactions but identical objects can repeat in an image therefore the second notion of support re\003ects a count of objects rather than a count of transactions or images It is the user's choice to select an appropriate de\002nition of support depending upon the application This new notion of support is called object-based support  which is distinguished from the 223traditional\224 transaction-based support  Also an association rule that allows items to repeat in the rule is called association rule with recurrent items  De\002nition 2.1 A multimedia association rule with recurrent items is a rule that associates visual object features in images and video frames and is of the form 013P 1  014P 2    015P n  016Q 1  025Q 2    026Q m  c  where c  is the con\002dence of the rule one or more predicates P i i 2 1 n  and Q j j 2 1 m  are predicates instantiated to topological visual kinematics or other descriptors of images and 013 014  015  016 025 and 026 are integers quantifying the occurrence of the object feature or item 013P is true if and only if P has 013 occurrences 2 The predicates P i and Q j in the rules are not just topological visual or kinematics descriptors but can also be other descriptors such as picture size video duration or just related keywords In a medical imaging system for example the physician's diagnosis attached to the image can be extremely bene\002cial in an association rule De\002nition 2.2 The support of a predicate P in a set of images D denoted by 033  P D  is the percentage of objects in all images in D that verify P at a given conceptual level The con\002dence of a multimedia association rule P  Q is the ratio 033  P  Q D  versus 033  P D   which is the probability that Q is veri\002ed by objects in images in D that verify P at the same conceptual level Such support is called object-based support in contrast to transactionbased support  2 De\002nition 2.3 A pattern p is suf\002ciently frequent in a set D at a level  if the support of p is no less than its corresponding minimum support threshold 033 0  and no more than its corresponding maximum support threshold 006 0  2 De\002nition 2.4 A multimedia association rule P  Q in a set of images D is suf\002ciently strong in D if P and Q are suf\002ciently frequent  P and Q 2  033 0  006 0   and the con\002dence of P  Q is greater than  0  2 Note that the strength of a rule and the values of 033 0 and 006 0 depend upon the concept level in which the predicates are applied All attributes such as colour texture motion direction etc are de\002ned on concept hierarchies Depending on the concept level selected by the user and the resolution level of the images 033 0 and 006 0 can be higher or lower Given an image I as a transaction and locales L i or objects as the items in the image I  we envision two types of multimedia association rules association rules based only on atomic visual features that we call content-based multimedia association rules with recurrent visual descriptors  and association rules with spatial relationships that we call multimedia association rules with recurrent spatial relationships  What we call atomic features are descriptors such as colour texture etc They are attributes of an object de\002ned along concept hierarchies Association rules based on atomic visual features are similar to multi-dimensional multi-level association rules emphasizing the presence of values of some attributes at given concept levels The second type of multimedia association rules uses the topological relationships between locales  v-next-to for vertical closeness h-next-to for horizontal closeness overlap and include Each predicate P describes the relationship between two objects O a and O b suchas Overlap O a O b   each object being multi-dimensional Binary predicates involve a join of more than one relation Moreover spatial predicates on the same object values can be recurrent 3 Frequent item-sets with recurrent items Mining a large collection of multimedia artifacts can be very costly The idea of progressive resolution re\002nement presented in Section 4.1 is to mine the artifacts at different resolution levels and reduce the search space at each level The knowledge extraction at each resolution level is similar but the result at each resolution level is used to 002lter out unnecessary features and images to reduce the data collection for the next levels We will discuss in the following subsection the algorithm for enumerating suf\002ciently frequent item-sets with recurrent items at a given resolution level 3.1 A na 250 021ve approach To illustrate our algorithms and test their performance we have generated synthetic images with random locales and random features Tables 1 and 2 are 002lled with the visual feature descriptors of the images and with the spatial relationships between objects in the images 


Image ID Object ID Colour Texture Mass Shape Motion  I 1 O 1  1 Colour 1 Texture 1 Size 1 Shape 1 Direction 1  I 1 O 1  2        I 2 O 2  1        I n O  n;\013   Table 1 Relation with Visual Atomic Features Image ID Object ID V-Nex t t o H-Next-to Overlap Include I 1 O 1  1 f O 1  3 O 1  5 g f O 1  2 gg f O 1  7 g fg I 1 O 1  2 f  g f  g f  g f  g I n O  n;\013   Table 2 Relation with Spatial Relationships If the Apriori algorithm  is to b e u s ed to d i scover frequent item-sets in such data sets as the image collections it would miss all item-sets with recurrent items A na\250 021ve way to 002nd all frequent item-sets with recurrent items would be to 002rst 002nd all frequent 1-item-sets check how often they might re-occur in an image maximum occurrence and then for each k-item-set combine these frequent 1-itemsets in sets of k elements where elements can be repeated up to their respective maximum occurrence possible The calculation of the support would 002lter out the infrequent ones This na\250 021ve algorithm which guarantees to 002nd all frequent item-sets with recurrent items could be improved by replacing F 1 as the starting set for enumerating candidates of all k item-sets by a set composed of F 1 and all item-sets with single items twinned to their maximum capacity such as f x 013 g  f x 013 x 013 g  f x 013 x 013 x 013 g  etc where the number of x 013 is smaller or equal to M  x 013   In the next sub-section we present our algorithm MaxOccur  a more ef\002cient algorithm for discovering multimedia association rules with recurrent items 3.2 MaxOccur algorithm A method for enumerating suf\002ciently strong multimedia association rules that are based on recurrent atomic visual features is presented in this section We will give an abstract example and then present the algorithm To simplify our discussion we will use a one-dimension onelevel problem where images are transactions of objects and the same objects can repeat While objects are multidimensional in this discussion we will treat them as items with only one dimension and no concept hierarchy The algorithm can be extrapolated to the multi-level association rules discovery algorithm and the multi-dimensional issue can also be solved by using a data cube Example 3.1 Let us consider the images represented in Table 3\(top by a set of transactions D 1  Each image is a set of objects that can repeat At this point we ignore the descriptors of the objects for simplicity To determine the support of each object a 002rst scan of the database is done and each time a distinct object appears its counter is incremented At the same time a second counter keeps track of the maximum appearances of the same object in an image Table 3\(bottom shows the result of the counting C 1 contains all unique objects with their support and M contains the maximum number of times a given object occurs in an image For simplicity the support is expressed in an absolute value Let the minimum support 033 0 be 2 and the maximum support 006 0 be 5 Frequent k item-sets can be found using 033 0 by 002ltering the non-frequent k-1 item-sets However pruning with 006 0 to 002nd suf\002ciently frequent iten-sets should be left to the end of the process since too frequent k-1 item-sets may endup frequent enough at k level Table 4\(top shows F 1 the list of frequent 1 item-sets Notice that O 2 and O 4 were not eliminated even if they appear too often in the data set  033  O 2  D 1   006 0 and 033  O 4  D 1   006 0  Given F 1  we can 002lter out from D 1 all irrelevant objects and all transactions that do not contain frequent objects present in F 1 Table 4\(bottom shows D 2  the image transactions with only the interesting objects The generation of the candidate 2 itemsets is done by joining F 1 with itself to create all possible pairs with frequent objects It is similar to the apriori-gen in 1 e xcept t hat t he information s tored i n M  regarding replication of objects in images is used to generate new pairs of the same objects that occur in a transaction more than once The 2 item-sets f O 2 O 2 g and f O 4 O 4 g in Table 5\(left are produced that way The candidate 3 item-set list C 3 is produced by joining F 2 elements and eliminating 3 item-sets that contain 2 item-sets not recognized as frequent i.e not in F 2  The counters in M are also used to generate itemsets such as f O 2 O 2 O 2 g in Table 6\(left After 002ltering the infrequent 3 item-sets F 3 is produced The candidate 4 item-sets is produced the same way by joining the frequent 3-item sets and pruning the unnecessary ones For instance f O 2 O 2 O 3 O 4 g and f O 2 O 3 O 4 O 4 g are eliminated since respectively f O 2 O 2 O 3 g and f O 3 O 4 O 4 g are not in F 3  Finally since no 5 item-set can be induced the result is all F i without their item-sets that have a support higher than the maximum support 006 0 Giventhesuf\002ciently frequent item-sets suf\002ciently strong association rules could be found by generating all rules from a k-itemset of the form 223\(k-p item-set  p item-set\224 with 0  k  p and such that the con\002dence of the rule is higher than a given con\002dence threshold With a con\002dence threshold set to 100  only these rules are induced 1 f O 4 O 4 g  f O 2 O 2 g 100 2 f O 2 O 4 O 4 g  f O 2 g 100 3 f O 3 O 4 g  f O 2 g 100 4 f O 3 g  f O 2 O 4 g 100 5 f O 2 O 2 g  f O 4 g 100 6 f O 4 O 4 g f O 2 g 100 7 f O 3 g!f O 2 g 100 8 f O 3 g!f O 4 g 100  


A simple scan of these rules can count replicated objects and produce the following rules 2 O 4  2 O 2 100  O 2  2 O 4  O 2 100  O 3  O 4  O 2 100  O 3  O 2  O 4 100  2 O 2  O 4 100  2 O 4  O 2 100  O 3  O 2 100  and O 3  O 4 100  Notice that the rule 223 O 4  O 2 224 is not con\002dent enough while 2232 O 4  2 O 2 224or\2232 O 4  O 2 224 are 100 reliable This would not have been true had the support been based on the number of images rather than on the number of objects Image ID Objects I 1 f O 2 O 2 O 2 O 4 O 5 g I 2 f O 2 O 2 O 4 O 4 g I 3 f O 2 O 3 O 4 g I 4 f O 6 O 7 g I 5 f O 1 O 2 O 2 O 3 O 4 O 4 g Object Support Max Occurrence f O 1 g 1 1 f O 2 g 8 3 f O 3 g 2 1 f O 4 g 6 2 f O 5 g 1 1 f O 6 g 1 1 f O 7 g 1 1 Table 3 Top Image transaction table D 1 Bot\255 tom C 1 and M tables Object Support Max Occurrence f O 2 g 8 3 f O 3 g 2 1 f O 4 g 6 2 Image ID Suf\002ciently Frequent Objects I 1 f O 2 O 2 O 2 O 4 g I 2 f O 2 O 2 O 4 O 4 g I 3 f O 2 O 3 O 4 g I 4 f O 2 O 2 O 3 O 4 O 4 g Table 4 Top F 1 and M tables Bottom Fil\255 tered image transaction table D 2  2 item-sets Support f O 2 O 3 g 2 f O 2 O 4 g 6 f O 3 O 4 g 2 f O 2 O 2 g 3 f O 4 O 4 g 2 2 item-sets Support f O 2 O 3 g 2 f O 2 O 4 g 6 f O 3 O 4 g 2 f O 2 O 2 g 3 f O 4 O 4 g 2 Table 5 Candidate 2 item\255sets C 2 and suf\002\255 ciently frequent 2 item\255sets F 2  The above example and discussion proceed to the following algorithm for mining content-based multimedia association rules Note that the supports used in the example are absolute values for the sake of simplicity Support for a k-item-set should be Coun tk 000 item 000 set in D k P 8 transaction t  j t j k  where  j t j k  are 3 item-sets Support f O 2 O 3 O 4 g 2 f O 2 O 2 O 3 g 1 f O 2 O 2 O 4 g 3 f O 2 O 4 O 4 g 2 f O 3 O 4 O 4 g 1 f O 2 O 2 O 2 g 1 3 item-sets Support f O 2 O 3 O 4 g 2 f O 2 O 2 O 4 g 3 f O 2 O 4 O 4 g 2 Table 6 Candidate 3 item\255sets C 3 and suf\002\255 ciently frequent 3 item\255sets F 3  4 item-sets Support f O 2 O 2 O 4 O 4 g 2 4 item-sets Support f O 2 O 2 O 4 O 4 g 2 Table 7 Candidate 4 item\255sets C 4 and suf\002\255 ciently frequent 4 item\255sets F 4  k-combinations of objects in transaction t without redundancy of unique objects Algorithm 3.1  MaxOccur  Find suf\002ciently frequent item-sets for enumerating content-based multimedia association rules in image collections Input i D 1 a set of transactions representing images with items being the visual and non-visual descriptors of the images ii a set of concept hierarchies for each attribute iii the minimum and maximum support thresholds 033 0 and 006 0 for each conceptual level Output Suf\002ciently frequent item-sets with repetitions Method The pseudo-code for generating suf\002ciently frequent item-sets is as follows begin 1 C 1 f Candidate 1 item-sets and their suppor t g 2 F 1 f S uf f iciently f r eq uent 1 item-sets and their suppor t g 3 M f M aximum occur r ence in an image of f r eq uent 1 item-sets g 4 Count  of k-item-sets total 1 k  5 for  i  2 F i 000 1 6    i  i 1 do f 6 C i   F i 000 1  F i 000 1   f y 010 X j X 2 F i 000 1  y 2 F 1  Count  y X    M  y  000 1 g 7 C i  C i 000f c j  i 000 1 item-set of c 2 F i 000 1 g 8 D i  FilterTable  D i 000 1 F i 000 1  9 foreach image I in D i do f 10 foreach c in C i do f 11 c:suppor t  c:suppor t  Count  c I  12 g 13 g 14 F i f c 2 C i j c:suppor t total i itemset 033 0g 15 g 16 Result  S i f c 2 F i j i 1  c:suppor t  006 0g end Line 1 2 3 and 4 are done in the same initial scan M contains the maximum number of times an object appears in the same image This counter is used later to generate potential k-item-sets The total number of k-item-sets is used for the calculation of the item-set support in line 14 In line 6 and 7 the candidate item-sets are generated by joining i-1 frequent item-sets and the use of M to generate repetitive objects  M  y   1  The pruning process 


line 7 eliminates infrequent item-sets based on the apriori property Line 8 002lters the transactions in D to minimize the data set scanning time In line 14 only the frequent item-sets that are higher than the minimum support 033 0 are kept It is only at the end of the loop line 16 that maximum support 006 0 is used to eliminate item-sets that appear too frequently The calculation of the support for one item-set is based on the occurrence of the item-set in the images Line 11 cumulates this count A particular precaution has to be taken when counting appearances of k-item-set in an image especially that objects and features can be repeated A simple k-permutation  C k n  n  n  n 000 k  where n  j t j  can lead to miscalculations The correct calculation of the repetitions of these item-sets in the transaction requires caution in order not to calculate occurrences more than necessary 13  4 Mining multimedia association rules with spatial relationships While the previously presented content-based multimedia association rules exclusively use visual atomic features such as in Table 1 multimedia association rules with spatial relationships in addition use the extended relation with spatial predicates such as in Table 2 A method for mining multimedia association rules with spatial relationships is introduced in this section The method uses MaxOccur after minimizing predicates Since spatial predicates nextto overlap etc have two arguments the strategy is to 002nd frequent one and two-item-sets combine the spatial predicates with only these frequent item-sets and consider the result as the candidate 1-item-sets of the multimedia association rules with spatial relationship MaxOccur is then used to 002nd the k-item-sets of frequent spatial predicates This strategy is based on the following property for a spatial predicate P  X Y  to be suf\002ciently frequent X and Y have to be suf\002ciently frequent and the 2-item-set f X Y g has to be suf\002ciently frequent  This can be done at any conceptual level starting from the highest concept in the hierarchy to the lowest ones The na\250 021ve method would be to combine all pairs of object attributes at a given conceptual level and join them with all spatial predicates to derive potential 1-item-sets This however would generate a very large number of candidates and even candidates that do not exist in the data set Our modus operandi is to lessen the candidate set to the minimum before computing the frequent spatial predicate k-item-sets To simplify the discussion we will analyze an abstract example with one conceptual level and one dimension shape as follows Example 4.1 Considering the three images in Figure 2 with one dimensional objects we would like to 002nd association rules involving the spatial relationships between the objects in the images For simplicity we are only considering the dimension shape at a given conceptual level but the same can be applied for other dimensions such as colour texture etc with related concept hierarchies Finding suf\002ciently strong association rules with spatial relationships essentially consists of 002nding the suf\002ciently frequent conjunctions of spatial predicates To do so given the transaction-based minimum support threshold 033 0 3 a 002rst scan of the image set reveals only three frequent items 015  4 and  each occurring in the three images and appearing at maximum twice in an image Considering only these three frequent items a second scan of the data set reveals the frequent pairs of items The 002rst table in Tables 8 indicates the support of each of these pairs Only three of them are frequent enough and are coupled with the spatial predicates Notice that if we added a wildcard 003 to the frequent items with a de facto support equal to 033 0  we could combine it with the frequent pairs of items and thus generate association rules with wildcard attributes Since we only have four spatial predicates H-next-to Vnext-to overlap and include this gives us up to 12 possibilities However a scan of the data set would reveal that only 7 combinations are possible and at the same time would also compute their support and maximum occurrence in an image The second table in Tables 8 shows the result of this scan which is the set of frequent 1-item-set found in the 002rst step of the MaxOccur MaxOccur can then be used to discover the following frequent k-itemsets Overlap 015  4  H-Next-to 015  4  Overlap 015  4  H-Next-to 015   H-Next-to 015  4  H-Next-to 015   Overlap 015  4  H-Next-to 015  4  H-Next-to 015   and all the derived association rules such as H-Next-to 015    H-Next-to 4    Overlap 015  4  100 Pairs of Objects Frequency f\015  015g 1 f\015  4g 3 f\015  g 3 f4  4g 2 f4  g 3 f  g 1 1-item-set Frequency Max Occurrence Overlap 015  4  3 2 H-Next-to 015  4  1 1 H-Next-to 015   3 2 H-Next-to 4   3 2 H-Next-to   1 1 V-Next-to 015  4  1 1 V-Next-to 4   2 1 Table 8 Frequent pairs of objects and Fre\255 quent spatial predicates The above example and discussion proceed to the following algorithm for mining multimedia association rules with spatial relationships 


022\021 023\020 022\021 023\020 j 022\021 023\020 003 002 000 001 007 006 004 005 j 023 023 A A 023 023 A A 002 002 A A Z Z 010 010 023 023 A A J J   001 001 001 Figure 2 Examples of images with objects Algorithm 4.1  MM-Spatial  Find suf\002ciently frequent item-sets for enumerating multimedia association rules with spatial relationships in image collections Input i D 1 a set of image descriptors with spatial relationships being the visual and non visual descriptors of the images ii a set of concept hierarchies for each attribute iii the minimum and maximum support thresholds 033 0 and 006 0 for each conceptual level Output Suf\002ciently frequent spatial predicate conjunctions Method The pseudo-code for generating suf\002ciently frequent item-sets with spatial relationships is as follows begin 1 P 1 f Frequent atomic items g 2 P 2 f Frequent pairs in P 1 002 P 1 g 3 C 1 f P 2 002f Spatial predicate set g and their suppor t g 4 F 1 f F r eq uent 1 item-sets from C 1 g 5 line 3 to line 16 of MaxOccur end In the process of discovering multimedia association rules with recurrent spatial relationships we have assumed the existence of enumerated spatial relationships such as in Table 2 These relationships are simply processed by comparing the centroid of each locale as well as the radius of the locale's shape approximated to a circle minimum bounding circle The centroids and the radii of locales are suf\002cient to rapidly and ef\002ciently give a good approximation of spatial relationships between objects in an image such as closeness overlap and inclusion There exist other methods for determining more precise spatial relationships However these methods to be effective can be computationally costly The coarse-to-\002ne strategy of the PRR algorithm simpli\002es the process by de facto eliminating in each round the images and objects not leading to interesting rules Ideally we would preprocess once the detailed spatial relationships at a 002ne granularity and lower granularity and have a table such as Table 2 provided to the mining module If this computation is not preprocessed before the discovery of association rules another step could be added to the loop of PRR Algorithm 4.2 to determine rough spatial relationships at the current resolution level and discover association rules with these approximate spatial relationships then the next rounds would re\002ne the spatial relationships for only the frequent item-sets discovered Notice that removing the minimum bounding circles at any resolution level like in Figure 3 assists in removing false positives from enumerated frequent spatial relationships 4.1 A progressive re\002nement methodology For effective and ef\002cient discovery of patterns in multimedia databases we chose a multi-resolution strategy by 002rst 002nding patterns at a low i.e rough resolution and persevering the search at a higher i.e 002ner resolution with only the data selected in lower resolutions This assumes the preservation of the patterns to be discovered in coarse resolutions The basic idea of progressive re\002nement is to quickly approximate patterns at a coarse level then eliminate false positives by verifying them at a higher resolution The re\002nement however has to be done carefully without inadvertently eliminating false negatives For instance by knowing how visual features are preserved in coarse resolutions some visual features can be tested at low resolution such as colours others like edge density could be tested at an intermediate level while 002ne texture should only be tested at a high resolution Spatial relationships are not completely preserved The topological characteristics are not fully retained making the topological features change from one resolution level to the other We discuss later the preservation and the potential changes of topological features when the image resolution is altered or improved The re\002nement of the image resolution can be done in many ways We distinguish three different re\002nements i a cleansing at the pixel level raster re\002nement The pixel based is the traditional de\002nition of resolution for images as in the left column of Figure 1 This re\002nement has many resolution levels ii an approximation with minimum bounding circles This re\002nement has only two resolution levels one that approximates locales to their minimum bounding circles and one that excludes the minimum bounding circles and iii a zooming by changing the size of local tiles tile shrinking This re\002nement has 002ve or more levels with tile sizes 32 002 32  16 002 16  8 002 8  4 002 4  and 2 002 2  The following is the general algorithm of the progressive resolution re\002nement for multimedia data mining Algorithm 4.2  PRR  Progressive Resolution Re\002nement for Mining Multimedia Association Rules Input i D a set of transactions representing images at different resolution levels with items being the visual and non visual descriptors of the images ii a set of concept hierarchies for each attribute iii the minimum and maximum support thresholds 033 0 and 006 0 for each conceptual level iv the maximum number of resolution level available 


Output Suf\002ciently frequent item-sets with recurrent items at different resolution levels R i  Method The progressive resolution re\002nement mining of multimedia association rules proceeds as follows begin 1 i  0  Lowest resolution level  2 D 0 D 3 while  i  maximum r esolution lev el o f  Coarse to 002ne discovery  4 R i f r j r is a suf\002ciently frequent item-set at resolution level i  in D i  g 5 i  i 1  Move to higher resolution level  6 D i  F ilter  D i 000 1 R i 000 1  7 g end The algorithm is a loop with two considerable steps a 002nding frequent item-sets at a given resolution level b reducing the size of the data set by 002ltering out images and infrequent objects to prepare the next round at a higher resolution The move from one level to another does not have to be one at a time Line 5 It is sometimes desirable to skip some resolution levels and jump to a higher one Note that depending upon the application and the user's needs it is not always necessary to do all the resolution levels and iterate to the highest resolution Line 3 Line 4 calls the algorithm for enumerating frequent item-sets with recurrent items at a given resolution level This can either be for frequent visual features or for frequent spatial relationships We will discuss in the coming subsections the discovery procedure for these two types of association rules F il ter  D i 000 1 R i 000 1  in line 6 removes images that do not contain the frequent item-sets discovered at the resolution level i 000 1 and 002lters out the infrequent objects in the remaining images This reduces the set of images and visual features to be processed at higher resolution The 002ltering however does not consider the re-occurrence of items since the low resolution can affect the numbering of visual features Figure 3 for example shows one blue locale at a coarse level that becomes clearly two distinct blue locales at a 002ner resolution This shows that only the presence and absence of a feature should be considered in the 002ltering process and not the frequency of appearance of the features in the image Figure 3 also illustrates an example depicting the relativity of some spatial relationships like overlap based on the resolution used for de\002ning locales While two locales may appear overlapping because their minimum bounding circles intersect considered at the locale envelope level they do not Moreover reducing the size of the tile's edge form 16 002 16  as in our experiments progressively down to pixel by pixel another level of coarse-to-\002ne re\002nement can be performed In 2 3 Max Egenhofer pres ent s a f ormal d eri v at i o n for eight spatial relationships namely disjoint inside contains equals meets covered by covers and overlap The relationships are formulated for areas based on intersections of the boundary of an area A denoted A  the interior of the  Coarse Resolution Resolution Feature Localization Minimum Bounding Circles Finer Figure 3 Relativity of visual feature concepts at different resolution levels area denoted A 016  and the exterior of the area denoted A 000  In our study we use the eight relationships as described by Egenhofer but we use only boundary  A  and interior A 016  to de\002ne them since the boundary and interior suf\002ce to distinguish between the different spatial relationships in our case Spatial relationships between locales are non deterministic from one resolution level to a 002ner resolution level In other words a given topological con\002guration between two areas can become a different topological con\002guration at a higher resolution level Fortunately the possible changes in topological con\002gurations from one resolution level to the other are limited In 13  w e d emons t r at e t he res t ri ct i ons in these changes which allow a reasonable and effective 002ltering procedure for the progressive resolution re\002nement process Figure 4 shows the possible topology change from one resolution level to the other for the resolution re\002nement with exclusion of minimum bounding circles Formal demonstrations and examples for the topology changes in both cases of resolution re\002nement with exclusion of minimum bounding circles and of resolution re\002nement with resizing of locale tiles can be found in 13  5 Performance We have generated sets of synthetic images each image with up to 15 objects The different sized image sets produced were intended to demonstrate the scalability of the algorithms and compare their performance Since the algorithm for mining multimedia association rules with recurrent spatial relationships uses the MaxOccur algorithm after two extra scans of the data set we will only show in this section the performance of MaxOccur  It is obvious that the scalability of both algorithms are related We implemented the Apriori algorithm 1 and t w o v e rs i ons of t h e MaxOccur algorithm as well as the na\250 021ve algorithm presented earlier in ANSI C on a Pentium PC 166Mhz with 


 A A A A A A A A B B B B B B B A B A B A B A B AB A B A A A A B B B A B A B A A B B B B A B A B A B A B A B A B A disjoint B A inside B A contains B A equals B A meets B A covered by B A covers B A overlaps B A B A B A B A B A B AB Figure 4 Topology and resolution increase with minimum bounding circles 64Mb of main memory Since the Apriori algorithm uses the number of transactions as support and we wanted to compare our algorithm with Apriori we have implemented MaxOccur and the na\250 021ve with transaction based support MaxOccur1 The second version of MaxOccur MaxOccur2 used the object-based support as presented in Algorithm 3.1 Table 9 shows the average execution times for the four algorithms with different image set sizes and 033 0 0  05 for Apriori 223Na\250 021ve\224 and MaxOccur1 and 0  0035 for MaxOccur2 The results are graphically illustrated in Figure 5 Clearly MaxOccur scales well with both versions treating one thousand images in 1.3 seconds on average regardless of the size of the data set The running time for 002ltering the frequent item-sets with 033 0  the maximum support threshold line 16 of Algorithm 3.1 is negligible since it is done in main memory once the frequent item-sets are determined Moreover the calculation of the total number of items line 4 of Algorithm 3.1 is done during the 002rst scan of the data set and has limited repercussion on the algorithms execution time The major difference between Apriori and MaxOccur is in ascertaining the candidate item-sets and counting their repeated occurrences in the images Obviously MaxOccur discovers more frequent item-sets The na\250 021ve algorithm also 002nds the same frequent item-sets but is visibly capable of less performance in execution time The left graphic in Figure 6 shows the average number of frequent item-sets discovered with the three algorithms Apriori found on average 109 different frequent k-item-sets while MaxOccur1 and Na\250 021ve found 148 on the same data sets and MaxOccur2 found 145 on average The discrepancy between MaxOccur1 and MaxOccur2 is basically due to the different de\002nition of support The price we pay in performance loss with MaxOccur is gained by more frequent item-sets and thus more potentially useful association rules with recurrent items discovered ofimages Apriori Na\250 021ve MaxOccur1 MaxOccur2 10K 6.43 70.91 13.62 13.68 25K 15.66 176.69 32.35 34.11 50K 30.54 359.38 66.07 67.44 75K 44.93 514.33 97.27 101.23 100K 60.75 716.01 130.12 137.81 Table 9 Average execution times in seconds with different number of images 0 100 200 300 400 500 600 700 800 10K 25K 50K 75K 100K Apriori MaxOccur1 MaxOccur2 Na\357ve time images Figure 5 Scale up of the algorithms 6 Discussion and conclusion We have introduced in this paper multimedia association rules based on image content and spatial relationships between visual features in images using coarse to 002ne resolution approach and we have demonstrated the preservation and changes in topological features during resolution re\002nement We have put forth a Progressive Resolution Re\002nement approach for mining visual media at different resolution levels and have presented two algorithms for the discovery of content-based multimedia association rules These rules would be meaningful only in a homogeneous image collection a collection of semantically similar images or received from the same source channel Many improvements could still be added to the multimedia mining process to speed up the discovery or to re\002ne or generalize the discovered results 017 One major enhancement in the performance of the multimedia association rule discovery algorithms is the addition of some restrictions on the rules to be discovered Such restrictions could be given in a metarule form Meta-rule guided mining consists of dis#ofimages 033 0 0  25 0  20 0  15 0  10 0  05 10K 1.43 2.20 2.70 5.06 13.51 25K 2.80 4.78 6.31 11.20 32.35 50K 6.27 9.28 11.59 22.74 66.07 75K 8.24 13.57 17.69 33.94 97.27 100K 11.32 17.63 23.13 46.74 130.12 Table 10 Average execution time in seconds of MaxOccur with different thresholds 


 0 20 40 60 80 100 120 140 160 MaxOccur2 MaxOccur1 Na\357ve Apriori Apriori MaxOccur1 MaxOccur2 Na\357ve F k  Figure 6 Frequent item\255sets found by the dif\255 ferent algorithms covering rules that not only are frequent and con\002dent but also comply with the meta-rule template For example with a meta-rule such as 223 H-Next-to X Y   Colour x red  Overlap Y Z   P  Y Z  224 one need only to 002nd frequent 3-item-sets of the form f HNext-to\(red Y  Overlap Y 003  P  Y 003  g where Y is an attribute value and P a visual descriptor or spatial relationship predicate Obviously such a 002lter would greatly reduce the complexity of the search problem A method for exploiting meta-rules for mining multilevel association rules is given in  017 We have approximated an object in an image to a locale which is an area with a consistent visual feature such as colour Objects in images and videos are obviously more complex In a recent paper 9 re gions and their signatures are used as objects in a similarity retrieval system A computationally ef\002cient way to identify distinct objects in images is however still to be proposed Automatically identifying real objects and using spatial relationships between real objects would reduce the number of rules discovered and make them more signi\002cant for some multimedia applications 017 Object recognition or identi\002cation in image processing and computer vision is a very active research 002eld Accurately identifying an object in a video for example as being an object in itself is a very dif\002cult task We believe that data mining techniques can help in this perspective Multimedia association rules with spatial relationships using the motion vector of locales as a conditional 002lter can be used to discover whether locales moving together in a video sequence are part of the same object with a high con\002dence 017 There are many application domains where multimedia association rules could be applied and should be tested such as global weather analysis and weather forecast medical imaging solar surface activity understanding etc We are investigating the application with Magnetic Resonance Imaging MRI to discover associations between lesioned structures in the brain or between lesions and pathological characteristics Further development and experiments with mining multimedia data will be reported in the future References 1 R  A gr a w al and R  S r i kant  F ast a l gor i t h ms f o r m i n i n g a ssociation rules In Proc VLDB  pages 487\226499 1994 2 M  J  E genhof er  Spatial Query Languages  PhD thesis University of Maine 1989 3 M  J  E genhof er and J  S har ma T opol ogi cal r e l a t i ons between regions in r 2 and z 2 In Advances in Spatial Databases SSD'93  Singapore 1993 4 U  M  F ayyad S  G  D j or go vski  a nd N  W e i r  A ut omat i n g the analysis and cataloging of sky surveys In U Fayyad G Piatetsky-Shapiro P Smyth and R Uthurusamy editors Advances in Knowledge Discovery and Data Mining  pages 471\226493 AAAI/MIT Press 1996 5 Y  F u a n d J Han  M e ta-ru le-g u i d e d m in in g o f a sso ciatio n rules in relational databases In Proc 1st Int Workshop Integration of Knowledge Discovery with Deductive and ObjectOriented Databases  pages 39\22646 Singapore Dec 1995 6 J  H an an d Y  F u  Disco v e ry o f mu ltip le-le v el asso ciatio n r u l es from large databases In Proc VLDB  pages 420\226431 1995 7 Z  N  L i  O R Z a 250 021ane and Z Tauber Illumination invariance and object model in content-based image and video retrieval Journal of Visual Communication and Image Representation  10\(3\:219\226244 September 1999 8 R  M iller a n d Y  Y a n g  Asso ciatio n r u l es o v e r i n t erv a l d ata In Proc ACM-SIGMOD  pages 452\226461 Tucson 1997 9 A  N atse v  R Rasto g i  a n d K Sh im W ALR U S A s imilar ity retrieval algorithm for image databases In Proc ACMSIGMOD  pages 395\226406 Philadelphia 1999  R Ng L  V  S  L akshmanan J  H an a nd A Pang E x ploratory mining and pruning optimizations of constrained associations rules In Proc ACM-SIGMOD  Seattle 1998 11 R Srik an t a n d R Ag ra w a l M i n i n g q u a n titati v e asso ciatio n rules in large relational tables In Proc ACM-SIGMOD  pages 1\22612 Montreal 1996  P  S t ol or z H  N a kamur a  E  M esr obi an R  M unt z E  S h ek J Santos J Yi K Ng S Chien C Mechoso and J Farrara Fast spatio-temporal data mining of large geophysical datasets In Proc Int Conf on KDD  pages 300\226305 1995  O  R  Z a 250 021ane Resource and Knowledge Discovery from the Internet and Multimedia Repositories  PhD thesis School of Computing Science Simon Fraser University March 1999  O  R  Z a 250 021ane,J.Han,Z.-N.Li,J.Y.Chiang,andS.Chee MultiMediaMiner A system prototype for multimedia data mining In Proc ACM-SIGMOD  Seattle 1998  O  R  Z a 250 021ane J Han Z.-N Li and J Hou Mining multimedia data In CASCON'98 Meeting of Minds  Toronto 1998 


18001  balancing mechanism which requires further investi gation 4.5 Speedup Figure 12 shows the speedup ratio for pass 2 vary ing the number of processors used, 16 32 48 and 64 where the curve is normalized with the 16 processor execution time The minimum support value was set to 0.4 4.5 0.5 1 1 0 I 10 20 30 40 50 60 70 number of mxessors Figure 12 Speedup curve NPA HPA and HPA-ELD attain much higher lin earity than SPA HPA-ELD an extension of HPA for extremely large itemset decomposition further in creases the linearity HPA-ELD attains satisfactory speed up ratio This algorithm just focuses on the item distribution of the transaction file and picks up the extremely frequently occurring items Transferring such items could result in network hot spots HPA-ELD tries not to send such items but to process them locally. Such a small mod ification to the original HPA algorithm could improve the linearity substantially 4.6 Effect of increasing transaction Figure 13 shows the effect of increasing transac tion database sue as the number of transactions is increased from 256,000 to 2 million transactions We used the data set t15.14 The behavior of the results does not change with increased database size The minimum support value was set to 0.4 The num ber of processors is kept at 16 As shown each of the parallel algorithms attains linearity 5 Summary and related work In this paper we proposed four parallel algorithms for mining association rules A summary of the four database size Sizeup 0 I 0 500 loo0 1500 uxw amount of transaction thousands Figure 13 Sizeup curve algorithms is shown in Table 5 In NPA the candi date itemsets are just copied amongst all the proces sors Each processor works on the entire candidate itemsets NPA requires no data transfer when the supports are counted However in the case where the entire candidate itemsets do not fit within the mem ory of a single processor the candidate itemsets are divided and the supports are counted by scanning the transaction database repeatedly Thus Disk 1/0 cost of NPA is high PDM, proposed in 6 is the same as NPA which copies the candidate itemsets among all the processors Disk 1/0 for PDM should be also high The remaining three algorithms SPA HPA and HPA-ELD partition the candidate itemsets over the memory space of all the processors Because it better exploits the total system's memory, disk 1/0 cost is low SPA arbitrarily partitions the candidate itemsets equally among the processors Since each processor broadcasts its local transaction data to all other pro cessors the communication cost is high HPA and HPA-ELD partition the candidate itemsets using a hash function which eliminates the need for transac tion data broadcasting and can reduce the comparison workload significantly HPA-ELD detects frequently occurring itemsets and handles them separately which can reduce the influence of the workload skew 6 Conclusions Since mining association rules requires several scans of the transaction file its computational requirements are too large for a single processor to have a reasonable response time This motivates our research In this paper we proposed four different parallel algorithms for mining association rules on a shared nothing parallel machine and examined their viabil 29 


Table 5 characteristics of algorithms ity through implementation on a 64 node parallel ma chine the Fujitsu AP1000DDV If a single processor can hold all the candidate item sets parallelization is straightforward It is just suf ficient to partition the transaction over the proces sors and for each processor to process the allocated transaction data in parallel We named this algo rithm NPA However when we try to do large scale data mining against a very large transaction file the candidate itemsets become too large to fit within the main memory of a single processor In addition to the size of a transaction file a small minimum support also increases the size of the candidate itemsets As we decrease the minimum support computation time grows rapidly but in many cases we can discover more interesting association rules SPA HPA and HPA-ELD not only partition the transaction file but partition the candidate itemsets among all the processors We implemented these al gorithms on a shard-nothing parallel machine Per formance evaluations show that the best algorithm HPA-ELD attains good linearity on speedup by fully utilizing all the available memory space which is also effective for skew handling At present we are doing the parallelization of mining generalized association rules described in 9 which includes the taxonomy is-a hierarchy Each item belongs to its own class hierarchy In such mining associations between the higher class and the lower class are also examined Thus the candidate itemset space becomes much larger and its computation time also takes even longer than the naive single level association mining Parallel pro cessing is essential for such heavy mining processing Acknowledgments This research is partially supported as a priority research program by ministry of education We would like to thank the F\221ujitsu Parallel Computing Research Center for allowing us to use their APlOOODDV sys tems References l R.Agrawal T.Imielinski and ASwami 223Min ing Association Rules between Sets of Items in Large Databases\224 In Proc of the 1993 ACM SIGMOD International Conference on Manage ment of Data pp207-216 May 1993 2 R.Agrawal and RSrikant 223Fast Algorithms for Mining Association Rules\224 In Proc of the 20th International Conference on Very Large Data Bases pp.487-499 September 1994 3 J.S.Park M.-S.Chen and P.S.Yu 223An Effec tive Hash-Based Algorithm for Mining Associ ation Rules\224 In Proc of the 1995 ACM SIG MOD International Conference on the Manage ment of Data SIGMOD Record Vo1.24 pp.175 186 June 1995 4 H.Mannila H.Toivonen and A.I.Verkamo 223Ef ficient Algorithms for Discovering Association Rules\224 In KDD-94:AAAI Workshop on Knowl edge Discovery in Databases pp.181-192 July 1994 5 A.Savasere, E.Omiecinski and S.Navathe 223An Effective Algorithm for Mining Association Rules in Large Databases\224 In Proc of the 21th International Conference on Very Large Data Bases pp.432-444 September 1995 6 J.S.Park M.-S.Chen and P.S.Yu 223Efficient Parallel Data Mining for Association Rules\224 In Proc of the 4th International Conference on In formation and Knowledge Management pp.31 36 November 1995 7 T.Shintani and M.Kitsuregawa 223Considera tion on Parallelization of Database Mining\224 In Institute of Electronics Information and Com munication Engineering Japan SIG CPS Y95 88 Technical Report Vo1.95 No.47 pp.57-62 December 1995 8 T.Shimizu T.Horie and H.Ishihata 223Perfor mance Evaluation of the APlOOO Effects of message handling broadcast and barrier syn chronization on benchmark performance-\224  In S WO PP 22292 9.2 ARC 95 Information Processing Society of Japan Vo1.92 No.64 1992 9 R.Srikant and R.Agrawal 223Mining Generalized Association Rules\224 In Proc of the 21th Inter national Conference on Very Large Data Bases pp.407-419 September 1995 30 


Plenary Panel Session 30 XML Databases   Moderator: Michael Carey, IBM Almaden Research Center USA Panelists Adam Bosworth, Microsoft Corporation USA David De Witt University of Wisconsin-Madison, USA Alon Levy University of Washington USA Bruce Lindsay IBM Almaden Research Center USA Jennifer Widom Stanford University USA Demo Session 1 Web Query Optimizer  661 V Zadorozhny L Bright L Raschid T Urhan and M Vidal ReQueSS: Relational Querying of Semi-structured Data  664 R Sunderraman The IDEAL Approach to Internet-Based Negotiation for E-Business  666 J Hammer C Huang Y Huang C Pluempitiwiriyawej M Lee H Li L Wang Y Liu and S Su READY A High Performance Event Notification Service  668 R Gruber B Krishnamurthy, and E Panagos A Multimedia Information Server with Mixed Workload Scheduling  670 G Nerjes DISIMA An Object-Oriented Approach to Developing an Image Database System  672 V Oria T Ozsu P Iglinski B Xu and L Cheng Demo Session 2 The Collaboration Management Infrastructure  677 H Schuster D Baker A Cichocki D Georgakopoulos and M Rusinkiewicz Assisting the Integration of Taxonomic Data The LITCHI Toolkit  679 I Sutherland J Robinson S Brandt A Jones S Embury W Gray R White and F Bisby TheaterLoc: Using Information Integration Technology to Rapidly Build Virtual Applications  681 G. Barish Y.4 Chen D Dipasquo, C Knoblock S Minton I Muslea and C Shahabi Lineage Tracing in a Data Warehousing System  683 Y Cui and J Widom xiii 


The Mentor-Lite Prototype A Light-Weight Workflow Management System  685 J Weissenfels M Gillmann 0 Roth, G Shegalov and W Wonner Location Prediction and Queries for Tracking Moving Objects  687 0 Wolfson B Xu and S Chamberlain Semiorder Database for Complex Activity Recognition in Multi-Sensory Environments  689 S Bhonsle A Gupta S Santini and R Jain Tutorial 1 Web Information Retrieval  693 M Henzinger Tutorial 2 Mobile and Wireless Database Access for Pervasive Computing  694 P Chrysanthis and E Pitoura Tutorial 3 Data Mining with Decision Trees  696 J Gehrke Tutorial 4 Directories Managing Data for Networked Applications  697 D Srivastava Tutorial 5 Indexing High-Dimensional Spaces Database Support for Next Decade\222s Applications  698 S Berchtold and D Keim xiv 


 T5.I2.D100K T10.I4.D100K T15.I4.D100K T10.I6.D400K T10.I6.D800K T10.I6.D1600K Optimizations across Databases 5 0 5 10 15 20 25 30 35 40 45 Improvement COMP TREE COMP-TREE 1 2 4 8 1 2 4 8 1 2 4 8 2 4 8 2 4 8 1 2 4 8 Processors Databases Figure 5 Effect of Computation and Hash Tree Balancing good as the COMP optimization The reason that the hash tree balancing is not suf\336cient to offset inherent load imbalance in the candidate generation in this case The most effective approach is to apply both optimizations at the same time COMP-TREE The combined effect is suf\336cient to push the improvements in the 40 range in the multiple-processor case On 1 processor only hash tree balancing is bene\336cial since computation balancing only adds extra cost 5.4 Short-circuited Subset Checking Figure 6 shows the improvement due to the short-circuited subset checking optimization with respect to the unoptimized version The unoptimized version is the Apriori algorithm due to Agrawal et al 5 The results are presented for dif ferent number of processors across dif ferent databases The results indicate that while there is some improvement for databases with small transaction sizes the optimization is most effective when the transaction size is large In this case we get improvements of around 25 r the unoptimized version To gain further insight into this optimization consider 336gure 7 It shows the percentage improvement obtained per iteration on applying this optimization on the T20.I6.D100K database It shows results only for the uni-processor case r similar results were obtained on more processors We observe that as the iteration k increases there is more opportunity for shortcircuiting the subset checking and we get increasing bene\336ts of up to 60 The improvements start to fall off t the high end where the number of candidates becomes small resulting in a small hash tree and less opportunity for short-circuiting It becomes clear that is an extremely effective 15 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


 T5.I2.D100K T10.I6.D800K T15.I4.D100K T20.I6.D100K procs across Databases 0 5 10 15 20 25 Improvement 1 2 4 8 Figure 6 Effect of Short-circuited Subset Checking 23456789101112 Iterations 0 10 20 30 40 50 60 improvement T20.I6.D100K Figure 7  Improvement per Iteration  proc   16 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


optimization for larger transaction sizes and in cases where there are large number of candidate k itemsets 6 Conclusions In this paper e presented a parallel implementation of the Apriori algorithm on the SGI Power Challenge shared memory multi-processor We also discussed a set of optimizations which include optimized join and pruning computation balancing for candidate generation hash tree balancing and short-circuited subset checking We then presented experimental results on each of these Improvements of more than 40 were obtained for the computation and hash tree balancing The short-circuiting optimization was found to be extremely effective for databases with large transaction sizes Finally we reported the parallel performance of the algorithm While we d good speed-up we observed a need for parallel I/O techniques for further performance gains References  R Agra wal T  Imielinski and A Swami Database mining A performance perspecti v e  I n IEEE Trans on Knowledge and Data Engg  pages 5\(6 1993  R Agra wal T  Imielinski and A Swami Mining association rules between sets of items in lar ge databases In Proc M SIGMOD Intl Conf Management of Data  May 1993  R Agra wal H Mannila R Srikant H T o i v onen and A I V erkamo F ast disco v ery of association rules In U F et al editor Advances in Knowledge Discovery and Data Mining  MIT Press 1996  R Agra wal and J Shafer  P arallel mining of association rules design implementation and e xperience Technical Report RJ10004 IBM Almaden Research Center San Jose CA 95120 Jan 1996  R Agra wal and R Srikant F ast algorithms for mining association rules In Proc 20th VLDB Conf  Sept 1994  M Cierniak W  Li and M J Zaki Loop scheduling for heterogeneity  I n 4th IEEE Intl Symposium on High-Performance Distributed Computing also as URCS-TR 540 CS Dept Univ f Rochester  Aug 1995  M Holsheimer  M  K ersten H Mannila and H T o i v onen A perspecti v e on databases and data mining In 1st Intl Conf Knowledge Discovery and Data Mining  Aug 1995  M Houtsma and A Swami Set-oriented mining of association rules In RJ 9567  IBM Almaden Oct 1993  H Mannila H T o i v onen and I V erkamo Ef 336cient algorithms for disco v ering association rules In AAAI Wkshp Knowledge Discovery in Databases  July 1994  J S P ark M Chen and P  S Y u  A n e f fecti v e hash based algorithm for mining association rules In Proc M SIGMOD Intl Conf Management of Data  May 1995 17 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


 J S P ark M Chen and P  S Y u  E f 336cient parallel data mining for association rules T echnical Report RC20156 IBM T J Watson Research Center Aug 1995  G Piatetsk y-Shapiro Disco v ery  presentation and analysis of strong rules In G P S et al editor  KDD  AAAI Press 1991  A Sa v asere E Omiecinski and S Na v athe An ef 336cient algorithm for mining association rules in large databases In Proc 21st VLDB Conf  1995  M J Zaki M Ogihara S P arthasarathy  and W  Li P arallel data mining for association rules on shared-memory multi-processors Technical Report 618 Department of Computer Science University of Rochester 618 1996 18 Proceedings of the 1996 ACM/IEEE Conference on Supercomputing \(SC\22296 0-89791-854-1/96 $ 10.00 ACM 


