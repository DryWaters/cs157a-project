Frequent Patterns of Investment Behaviors in Shanghai Stock Market  Huiyi Tan, H. J. Cai International School of Software Wuhan University, Wuhan, China tan6043@gmail.com Yong Li Information School Estar University, Qingdao China liyong1982617@126.com Abstract  To analyze the behavior of investors in Shanghai stock market, we mine frequent itemsets and association rules from a real securities clearing dataset. The mining results indicate that, most investors do not diversify 
their capital to avert risks according to expected risks of a stock. Further analysis reveals that most of the frequent stocks itemsets only cover a few state-owned big-cap \(SB stocks, and the right side of the association rules, both global and constrained, are mostly SB stocks. All these phenomena make clear a behavioral mode, investors in Shanghai market pursuit SB stocks universally. On the other hand, another group of investors who do not follow the behavior above incline to purchase extremely similar stocks to build their 
portfolios, whether in the same industry, like banking energy, materials, and transportation,  or in the same category, like “special treatment” stocks Keywords- Investment Behavior, Frequent Patterns, Data Mining  I   I NTRODUCTION  In data mining, association rule learning is a popular and well researched method for discovering interesting relations between variables in large databases. PiatetskyShapiro describes analyzing and presenting strong rules discovered in databases using different measures of 
interestingness. Based on the concept of strong rules Agrawa trodu ced as s o ciation ru les  f o r discovering regularities between products in large scale transaction data recorded by point-of-sale systems in supermarkets Han et al. \(2001\2 proposed a novel frequent-pattern tree \(FP-tree\ structure, and developed an efficient FP-tree-based mining method, FP-growth which is efficient and scalable for mining both long and short frequent patterns, and is about an order of magnitude faster than the Apriori algorithm Some researchers apply this algorithm to mine the stock trading data to learn frequent patterns of purchasing 
stocks. Wang & He \(2005\3 s c u s s e s t w o pat t e rns i n  data mining: association rules and sequential patterns, and describes the process to find these patterns by mining historical securities trading database. Through the analysis of mining result, their study presents the concept and realization of customer behavior model, and successfully applies the model to advance the performance of Internet securities dealing system These researches do not extract the investment behaviors behind these patterns and ignore their deep significance. In this paper, we focus on discovering the investment behavior in Sha nghai stock market, and apply the algorithm for association rules to a real securities 
clearing dataset. The results are in form of a list of frequent itemsets and association rules, from these results we know more about the investment behavior in Chinese Stock Market This paper is organized into five sections. We introduce the securities clearing data applied in our study and the method of association rules learning in Section 2 In Section 3, we describe the clearing data and explore it Our study results and corresponding analysis are presented in Section 4. Finally, we give out our analysis of the patterns, and conclude the paper in Section 5 II  M ETHODOLOGY  According to the comparability between portfolio and 
shopping basket, we use association rules to look for frequent patterns in the data  A  Frequent Itemsets and Association Rules The following three conceptions are used in this algorithm to analyze investors’ portfolio  Itemset An itemset is a set of items. Each item is an attribute value. In the portfolio example, an itemset contains a set of stocks such, as Microsoft, IBM, and Intel Each itemset has a size, which is the number of items contained in the itemset. The size of itemset { Microsoft IBM, Intel } is 3. Frequent itemsets are those itemsets that are relatively popular in the dataset. The popularity 
threshold for an itemset is defined using support Support Support is used to measure the popularity of an itemset. Support of an itemset {A, B} is made up of the total number of portfolios that contain both Stock A and Stock B Support \({A, B}\ = NumberofTransactions\(A, B 1  Confidence Confidence is a property of an association rule. The confidence of a rule A=>B is 
2008 International Conference on Computer Science and Software Engineering 978-0-7695-3336-0/08 $25.00 © 2008 IEEE DOI 10.1109/CSSE.2008.1311 325 


calculated using the support of itemset {A,B} divided by the support of {A}. It is defined as follows  Confidence \(A =>B\ = Support \(A, B\ Support \(A 2  B  Algorithm parameters The process of finding these patterns is accomplished with the help of SQL Server 2005 Analysis Services SSAS\. We use it as our primary data mining tool, due to its complete DM algorithms and decent graphical user interface Association rules algorithm is very sensitive to the algorithm parameter settings. The following is the list of parameters for the Microsoft Association Rules algorithms. We will give a short introduction [4 d th e  parameter settings in our study are shown in Table I TABLE I  P ARAMETER VALUES IN OUR STUDY   Parameter Value Minimu m Suppor t 0.03 Minimu m Confidence 0.4 Maximu m Itemse t Size 3 Minimu m Itemse t Size 2 Maximu m Itemse t Count 200000  Minimum_Support is a threshold parameter. It defines the minimum support requirement items must meet to qualify as a frequent itemset. Its value is within the range of 0 to 1 Minimum_Confidence defines the minimum probability for an association rule. Its value is within the range of 0 to 1 Maximum_Itemset_Size specifies the maximum size of an itemset. The default value is 0, which means that there is no size limit on the itemset. Reducing the maximum itemset size reduces the processing time as the algorithm can save further iterations over the dataset when the candidate itemset size reaches this limit Minimum_Itemset_Size specifies the minimum size of the itemset. The default value is 0. Reducing Minimum Itemset Size will not reduce the processing time because the algorithm has to start with itemset size 1 and increase the size step by step Maximum_Itemset_Count defines the maximum number of itemsets. If not specified, the algorithm generates all itemsets based on Minimum_Support. This parameter avoids generating a large number of itemsets When there are too many itemsets, the algorithm will keep only the top n itemsets based on lift score of itemset III  D ATA  In this study, we use a real clearing data from a Chinese brokerage firm, and all investment accounts in this data are open in Shanghai Stock Exchange \(SSE Securities clearing data contains rich information[5  covering all the security  types — stocks, funds, bonds options, and tremendous accounts information, including daily security alteration, security holdings, capital alteration, opening or closing accounts, as well as every transaction’s stock name, quantity, market value and commission. Our study focuses on the Account Share Holdings\(ASH\which records all account holders every security purchasing and corresponding holdings The dataset contains 110,763 accounts, however, we pay most our attention to those who buy stocks, instead of fund or bonds. There are 106,941 accounts and 247,337 records in the database; every investor holds 2.31 individual stocks on average We explorer the securities clearing data, and calculate the frequency of purchase of every stock, from both the population of shareholders and the total amount of holding shares of every stock. In Table II and Table III the top 10 most purchased stocks are listed. For example stock 601398 is held by 7137 investors out of 55798 occupying 12.8 percent. Over 10% investors buy the first 3 stocks, 601398, 600050, 601988, and each investor, at average, holds 11089, 9668, 8608 shares of them respectively TABLE II  T OP 10 STOCKS BASED ON THE TOP NUMBERS OF SHAREHOLDERS  0005\000D\000Q\000N\000\003 0001\000R\000\021\000\003\000\024\000\003 0001\000R\000\021\000\003\000\025\000\003 0001\000R\000\021\000\003\000\026\000\003 0001\000R\000\021\000\003\000\027\000\003 0001\000R\000\021\000\003\000\030\000\003 0001\000R\000\021\000\003\000\031\000\003 0001\000R\000\021\000\003\000\032\000\003 0001\000R\000\021\000\003\000\033\000\003 0001\000R\000\021\000\003\000\034\000\003 0001\000R\000\021\000\003 000\024\000\023 0006\000W\000R\000F\000N\000\003 000\031\000\023\000\024\000\026\000\034\000\033 000\031\000\023\000\023\000\023\000\030\000\023\000\003 000\031\000\023\000\024\000\034\000\033\000\033\000\003 000\031\000\023\000\023\000\023\000\024\000\031 000\031\000\023\000\023\000\023\000\025\000\033\000\003 000\031\000\023\000\024\000\026\000\025\000\033 000\031\000\023\000\023\000\023\000\024\000\023 000\031\000\023\000\023\000\023\000\024\000\033\000\003 000\031\000\023\000\023\000\023\000\024 000\034 000\031\000\023\000\024\000\034\000\034\000\033\000\003 0001\000R\000\021\000\003\000R\000I\000\003\000+\000R\000O\000G\000H\000U\000V\000\003 000\032\000\024\000\026\000\032\000\003 000\030\000\034\000\031\000\031\000\003 000\030\000\031\000\024\000\024 000\027\000\027\000\033\000\023 000\026\000\034\000\027\000\033 000\026\000\024\000\030\000\034 000\025\000\034\000\034\000\030\000\003 000\025\000\030\000\034\000\027\000\003 000\025\000\027\000\033\000\023 000\025\000\026\000\031\000\026 TABLE III  T OP 10 STOCKS BASED ON THE TOP NUMBERS OF HOLDING SHARES  0005\000D\000Q\000N\000\003 0001\000R\000\021\000\003\000\024\000\003 0001\000R\000\021\000\003\000\025\000\003 0001\000R\000\021\000\003\000\026\000\003 0001\000R\000\021\000\003\000\027\000\003 0001\000R\000\021\000\003\000\030\000\003 0001\000R\000\021\000\003\000\031\000\003 0001\000R\000\021\000\003\000\032\000\003 0001\000R\000\021\000\003\000\033\000\003 0001\000R\000\021\000\003\000\034\000\003 0001\000R\000\021\000\003 000\024\000\023 0006\000W\000R\000F\000N\000\003 000\031\000\023\000\024\000\026\000\034\000\033\000\003 000\031\000\023\000\023\000\023\000\030\000\023\000\003 000\031\000\023\000\024\000\034\000\033\000\033 000\031\000\023\000\023\000\023\000\024\000\031 000\031\000\023\000\023\000\032\000\025\000\031 000\031\000\023\000\023\000\023\000\026\000\031 000\031\000\023\000\023\000\023\000\024\000\034\000\003 000\031\000\023\000\023\000\023\000\025\000\033\000\003 000\031\000\023\000\023\000\030\000\024 000\033 000\031\000\023\000\023\000\034\000\023\000\023 
326 


  IV  R ESULTS  After the results of data mining are acquired, we display the frequent intemsets in Table IV and the association rules in Table V In Table IV, the first 10 frequent itemsets are listed ordered by their frequency, which can be read from the column “No. of Cases”. Every frequent itemset represents a portfolio, and the size of it equals the size of an itemset, it is 2 in Table IV The rates of return of a portfolio, shown in the column rate of return”, are the relative yield, which equals the real yield minus the fluctuation of SSE Composite Index, where the real yield is the weighted average of the portfolio with the number of shares of either stock as its weight, and the time spans of 30 days and 180 days are, representatively, from 07/02/2007 to 07/31/2007 and from 07/02/2007 to 12/28/2007 TABLE IV  F REQUENT I TEMSETS AND CORRESPONDING RATES OF RETURN                    The observation of these portfolios reveals that, among the first 10 frequent portfolios, there is only one of them 600016, 601398\hich successfully averts nonsystemic risk. It closely follows the fluctuations of the SSE Composite Index. The other nine portfolios, on the contrary, intensify the fluctuation instead of diminishing it This phenomenon contradicts the hypothesis of Markowitz’s mean-variance criterion that investors averts risks, at least in China   Figure 1  Top 20 stocks concentrate in four industries Furthermore, the first 10 frequent portfolios only cover seven individual stocks, all of which are SB stocks. Each of these stocks is commonly regarded as a blue chip stock a stock of a well-established company having stable earnings and no extensive liabilities. Accurately, these corporations are oligopoly enterprises in their industries and super big-cap stocks with a market capitalization value of more than 10 billion Meanwhile five of them belong to banking industry and top 20 stocks based on the top purchases are merely in four industries: banking, material, energy transportation. Because in China these industries are stateowned monopoly industries and are protected by governments with competence, therefore their profits are ensured The same phenomenon is found in the association rules as shown in Table V To express simply and clearly, we explain the meaning of the formula, “Stock A -> Stock B means that those who purchase Stock A are likely to purchase Stock B with the possibility of confidence and we say Stock B is the frequent partner \(FP\tock of Stock A. For instance, in Table V, stock 601328 is the FP stock of the union of 601919 and 601988 These ten rules contain eight stocks, seven of which are SB stocks, while 601318, the only exception, is of a non-state-owned financial company. That is to say, the FP stock of  an union of two SB stocks is still a SB stock In addition, there is a whole class of stocks on China's stock market called "special treatment stocks". Special Treatment \(ST\ stocks are shares in companies that have failed to earn profits for two years or have been fingered for false accounting. Apparently,  this kind of stocks are highly possible to fluctuate incredibly and bring investors especially retail investors, huge risks. We discovered some association rules which concerned with ST stocks and exhibit the first 10 in Table VI. At the right side of the rules are the most possible purchased stocks for those who purchase ST stocks, however, most of them are super SB stocks. Among all the 29 ST stocks, shown in Table 
327 


VI, the frequent partner of twelve of them is 600050, and that of 25 of them are SB stocks  TABLE V  T OP 10  A SSOCIATION R ULES  Confidence Rules 0.681 601919 601998 601328 0.669 601318 601998 601328 0.639 601919 601318 601328 0.620 601628 601998 601328 0.538 601628 601988 601398 0.516 601919 601328 601998 0.464 600019 601988 601398 0.463 601328 601988 601398 0.455 600036 601988 601398 0.441 601998 601988 601398 0.409 601318 601328 601998 TABLE VI  C ONSTRAINED A SSOCIATION R ULES  Confidence Rules with ST stocks 14.29 600614 -> 600600 13.73 600419 -> 601398 13.04 600847 -> 600715 12.77 600338 -> 600050 12.50 600711 -> 601988 12.50 600844 -> 601328 10.81 600369 -> 600050 10.26 600136 -> 601991 9.84 600758 -> 600016 9.30 600695 -> 600108 As discussed above, we conclude that most investors in SSE incline to pursuit SB stocks universally However, there are some exceptions in the association rules, nearly all of which are composed of the extremely similar stocks. The portfolio is composed of Stock 601318 and 601628, Ping An of China and China Life Insurance Group, which are the two biggest insurance company in China. Among the 29 ST stocks, as mentioned above, there are four stocks whose FP stocks are not SB stocks, they are “600847 -> 600715”, “600076 600868”, “600695 -> 600108”, “600090 -> 600197 the first two pairs both are composed of ST stocks, and the two stocks in the third pairs are both in agriculture industry, and that of the last one are in Wine Industry and located in Xinjiang. In a word, some investors buy extremely similar stocks V  C ONCLUSION  In this paper, we seek the patterns about how a portfolio is built, and use these patterns to learn more about investors’ investment behavior to deepen our understanding to behavioral finance and financial market The association rules algorithm is applied to a real securities clearing dataset, and a group of association rules and frequent itemsets are obtained. The results disprove the hypothesis of Markowitz’s mean-variance criterion that investors avert risks, and the further analysis discovers two behavior, that most investors in SSE incline to build their portfolios with state-owned super-big-cap stock\(s\, and a certain proportion of investors buy highly similar stocks that are in the same industries, like banking energy, materials, and transportation, or in the same category like ST stocks R EFERENCES   1  R. Agrawal , T. Imieli ski , and A. Swami, “Mining association rules between sets of items in large databases”, Proceedings of the 1993 ACM SIGMOD international conference on Management of data, Washington, D.C., United States, 1993, p.207-216 2  J. Han et al. “Mining frequent patterns without candidate generation”. Data Mining and Knowledge Discovery, 2004, p.5387 3  Z. Wang, and P. He. “The Customer Behavior Model of Internet Securities Dealing Based on Data Mining International Conference on Machine Learning and Cybernetics, 2005, pp.18161819 4  Z. H. Tang, and J. MacLennan, Data Mining with SQL Server 2005, Wiley, U.S., 2005 5  China Securities Depository and Clearing Corporation Depository and Clearing Data Interface  Criterion”, 2007  
328 


  Proceedings of the Sev e nth Inter n ational Conference on Ma c h ine Lear ning and Cyber n etics  K u nming, 12-15 J u ly 2008  less th an th e t r u e sup port by at m o st N f  and i t s support   3.4.   T h e Al gori t hm Algorithm DSCFCI Inpu t: Data strea m  ite m co n s train t s DS B a sup por t  t h reshol d an error param e ter s 001 where   den o t e s t h e c u rre nt l e n g t h  of t h e st ream i  e., t h e num ber  of transactions seen so far    N Proof: Suppos e that the r e are  bat c he s o f dat a  i n  stream seen s o fa r  For a cl os ed item s et i X its suppo r t  i s re duc ed  by   altoget h er  According t o procedure  Prun e_ DSCFC I tree, it is ev iden t th at  Com b ined with t h e fact t h at the c u rr en t leng th  of strea m is and the lengt h of each batc h is k i k 003 N  001 003  Procedure Print_FCI I npu t the gl obal DSCFCI-tree of the first  b a tch e s r t thresho l d an error param e ter tree DSCFCI 212 i s 001  Out put  A l i s t  of  fre que nt cl o s ed i t e m s et s al on g wi t h t h ei r  est i m at ed support   M e t hod  1. Sca n   bo tto m u p sear ch  for each node tree DSCFCI 212 001  Ou tp u t A list o f freq u e n t clo s ed item s ets satisfyin g  B   M e t hod  1. Di vi de dat a  st ream  i n to  b a tc h e s  with   DS  2  1   i N i   i N 001 was set to  Item  const r aints 1 2 3  4 r e pr esen ted fou r item s w h ich wer e selected random l y from t h e 30 i t e m s cam e up fi rst   s 1  0  4 3   2 1  001 1 we in fer that  N i i 001 001 001  327 327 003 1 Therefore N k f  2. If 1   isfci f and   sup  001 f 212 002 s port 327 327 i  001 1   th en  ou tpu t th e item s et rep r esen ted b y th e pat h f r o m  t h e di rect chi l d  n ode of t h e r o ot t o  001 1 or 001 1 n  where  is a p o s itiv e in teg e r    n 278 2. For each batch  i N 3  Call procedure Buil d_i DSCFCIt r ee to construct  the local DSCFCI-tree of  i N 4  C a l l pr oce d u r e U p dat e _ D S C FC It ree t o  construct t h e global DSCFCI-tree of t h e first  bat c h i 5   C a l l  pr o cedu r e Pr une _DSCFCIt ree to prune the  gl obal DSC F C I-t ree 6     I f nee d e d cal l pr oce d u r e Pri n t _ FC I t o pr od uce a  list o f freq u e n t clo s ed item s ets satisfyin g  B  Notice When t h e le ngt h of ea ch batch is  001 1 n in pr oce d u r e P r une _ D SC FC It r ee, t h e val u e of fi el d  p ort sup  of each node is reduced by  i n st ead of 1  n 4.   E x peri mental  E val uati on 4.1.   T e st E n vi r o nment and Datasets Our algo rith m was written i n VC 6  0   All of ou r expe ri m e nt s were pe rf orm e d on a PC usi ng a 1 7 GHz  Pent i u m IV p r ocess o r   38 4M B of R A M   T h e o p er at i ng sy st em i n use was W i ndows XP  Th r e e sep a rate d a ta sets T 1 5 I 10D 100 0k  T15 I 7 D 10 00k T7I 4 D1 000 k  w e r e g e n e rated b y the I B M  sy nt het i c dat a gene rat o r   Here  T  rep r esent e d t h e  avera g e le ngt h of transactions  I r e p r es e n ted th e av er a g e len g t h o f  p o t en tial frequ en t i t e m sets, an d D represen ted  th e to tal n u m b e r of transactio n s i n d a ta set s Th ere were 1K distinct item s in each dat a sets, and the  defa ult value  fo r al l ot her p a ram e t e rs of t h e sy nt het i c d a t a gene rat o r  were used The stream s were broken int o batc hes of siz e 50,000 tran saction s  Th e su ppo rt thresh o l d  was va ried \(as to be desc ri be d b e l o w  a n d t h e err o r  param e t e r s 005 004 005  B 4.2.   E x peri mental  Resul t s    time \(s S=0.001 S=0.0015 S=0.002 num ber of dat a st ream segm ent s  Fi gure 1 The execut i on t i m e of  T15I7D1000k 


  Proceedings of the Sev e nth Inter n ational Conference on Ma c h ine Lear ning and Cyber n etics  K u nming, 12-15 J u ly 2008          In fi g u re 1, t h e y ax is represen ts t h e tim e spen t in  readi ng i n a bat c h of st r e am const r uc t i ng i t s l o cal  DSC F C I t ree  up dat i n g t h e gl o b al DSC F C I-t ree  an d pr o duci n g f r e que nt cl o s ed i t e m s et s sati sfy i ng i t e m  constraints B The y axis i n figure 2 re presents the  me m o ry capacity used for storing the gl obal  DSCFCI-tree As ca n be see n fr om t h e t w o f i gu res whe n t h e val u e of s u pp o r t   i s fi xe d, t h e t i m e and space re qui rem e nt s of t h e algorithm grow as th e stream progre sses, but tend to sta b ilize. For e x am ple, the m e m o ry re qui red by the  global DSC F CI-tree with su ppo r t 0  00 15  in cr eases relativ ely q u i ck ly as th e first sev e n  b a tch e s o f st ream arriv e and tend s to stab ilize at ro ugh ly 3  8MB with sm a l l  bum ps. T h is is because the num b er of pote ntial fre que nt clo s ed item s e t s satisfyin g ite m co n s trai n t s g o es up  relativ ely q u i ck ly at first, and b e co m e s relativ ely stead y  later th ro ugh in tr odu cing p r un ing tech no log y Th e stab ility resu lts are qu ite n i ce as th ey p r o v id e ev id en ce th at th e algorith m can  h a n d l e lon g  d a ta strea m s. As t h e v a lu e o f suppo r t   dec r eases the e x ecution tim e in fig u re 1 a n d t h e m e m o ry requi red by  DS CFCI-tree in  figure 2 inc r ea ses quickly  This is because t h ere are m o re p ot ent i a l  f r e que nt cl ose d i t e m s et s sati sfy i ng i t e m  const r ai nt s wi t h sl ower support    s s Fi gu re 1 an d F i gu re 2 sh o w t h e e x peri m e nt al res u l t s  o f  d a ta sets T1 5I7 D 1 000k  Th e ex per i m e n t al r e su lts of  o t h e rs two d a ta sets are sim ilar to th ese fig u r es                           Fig u re 3 shows th e av erag e t i m e sp en t i n  up d a ting  t h e gl obal DS C F C I-t ree o n c e  with three dif f eren t ite m con s t r ai nt s c onst r ai nt  0 n o c onst r ai nt s co nst r ai nt  1  co nst r ai nt 2   e  can dra w a c o nclusi on that w ith t h e reinforcem en t o f th e constraints 222  degree the num b er of fre que nt close d  ite m s ets satis fyin g co rrespo nd ing item co n s t r ain t s d ecreases, and th e tim e sp en t i n  up d a ti ng  th e g l o b a l DSCFCI-tree dec r eases t o o. M o re ove r  the space  requirem ent of t h e global DSCFCI-tree go es d o wn  sim u l t a neousl y The r ef ore  i n t e g r at i ng i t e m const r ai nt s in to t h e m i n i n g algorith m can  reduce t h e e x ecution tim e  and space com p lexity of the algorithm    4 3   2 1  005 005 005 5.   Concl u si ons In this pa per   we propose a n ef ficient algorith m for m i ni ng fre q u e n t cl ose d i t e m s et s i n dat a st ream s. The co n t r i bu tio n s of ou r stud y in clu d e 1 pro posin g a no v e l  dat a  st r u ct ure  DSC F C I t re e, fo r st ori n g pot e n t i a l   fre que nt cl ose d i t e m s et s, and de vel o pi n g  a new m e t hod  for increm ental updating DSCFCI-t ree ef ficiently 2 appl y i n g a  pr u n i n g t e c hni que f o r ef fi ci ent  p r u n i n g gl obal  DSCFCI-tree  to reduce the s p ace re quire m e nt of t h e  DSCFCI-tree an d th e tim e sp en t in trav ersi n g the DSCFCI-tree dram atica l l y 3  teg r ating ite m con s t r ai nt s i n t o t h e m i ni ng a l go ri t h m and t hus  red u ci n g  furthe r t h e e x ecution tim e and sp ace co m p lex ity of th e const r ai nt 0 S=0.001 T ime\(s S=0.0015  const r ai nt 1 const r ai nt 2 S=0.002  N umber of data stream segments Fi gu re 3 c o m p ari s on of e x ecut i o n  t i m e wi t h di f f erent const r ai nt s\(s=0.0015 Figure 2.The m e m o ry usage of DSCFCI-tree   279 005 004 005 4 3 2 1 


  Proceedings of the Sev e nth Inter n ational Conference on Ma c h ine Lear ning and Cyber n etics  K u nming, 12-15 J u ly 2008  al gori t h m   Our performance st udy shows  that DSCFCI  algorithm is ef ficient and ef fective  Refer e nces 1] C Gia nnel l a, J Ha n, J  Pei, et al. Mi ning fre quent p a ttern s i n  d a t a stream s at mu ltip le tim e g r an u l arities  G]. In  H Kar g up ta, A Jo sh i, K Siv a ku m a r  et al, ed s Next  Ge nerat i on Dat a M i ni ng C a m b ri dg e, M a ss  M I T Press, 2003  2 G S Mank u, R Mo t w an i. App r ox im a t e f r e q u e n c y cou n t s ove r st ream i ng dat a  C    The 28 th Int 222 l Confere n ce on V e ry Lar g e Data Bases \(VL D B 2002 HongKong, 2002 3  Aras u A M a nk u G S  A p pr oxi m a t e co unt s a n d  q u a n tiles ov er slid in g wi n d o w s. In Pro c eed ing s  o f  th e 23 rd ACM S I G M OD SI G AC T S I G A R T  Sym posi u m on Pri n ci pl es o f  Dat a base Sy st e m s. Pari s France  AC M Press, 2004 4 Datar M, Gio n i s A, In d y k P   Mo t w an i  R. Main tain in g str eam stat is tics o v e r slid in g  w i ndow s In  Proceedi ngs of the 13 th A nnu al ACMSIA M  Sy m p o s iu m on  Discrete Al g o rith m s San Fran cisco   USA  AC M Press, 2002 5 N Pas quier  Y Bastide  R T a ouil, et al Discoveri n g freq u e n t clo s ed item s e t s fo r asso ciatio n ru les[C]. In   Beeri C, et al, eds  Proc of the 17 th I n t 222 l Co nf  on Dat a base Theory B e rl i n  Spri nger V e rl ag, 1999  6  W a n g Jian yon g. Clo s et sear ch ing fo r t h e b e st st rat e gi es f o r m i ni ng f r e que nt cl ose d i t e m s et s. In  Pr oc. N i n t h A C M SIGK DD In t\222 1 Co nf  on  K now ledg e D i scov er y an d  D a t a Min i n g  W a shi ngt on,DC Aug.2003    280 


association mining The Likelihood Ratio Test fails to extract features also belonging to common vocabulary and it makes the extraction dependent on the feature position in the sentence leading to low recall The dBNP and bBNP based methods yield low recall due to the fact that the product features do not occur with the article the in front of them very often The Association Mining approach returns all frequent nouns which decreases precision Our results suggest that the choice of algorithm to use depends on the targeted dataset If it consists of mainly on-topic content the results of Table 10 indicate that the Association Mining algorithm is better suited for this task due to its high recall If the dataset consists of a mixture of onand off-topic content our results suggest that the Likelihood Ratio Test based algorithm would perform better due to its ability to distinguish and 002lter out the off-topic features For future work we plan to extend the Likelihood Ratio Test methods especially the dBNP based approach by other determiners such as a or this  which should increase the recall of this method Another possibility which we will investigate regards the BNP patterns The current Likelihood Ratio Test approach is not capable of dealing with discontinuous feature phrases for example in 5 the quality of the pictures is great the feature would be picture quality  This problem could be addressed by introducing wildcards in the BNP patterns We will also investigate whether there are any methods in order to calculate an optimal threshold for the candidate feature extraction in order to increase the recall of the Likelihood Ratio Test based algorithm We plan to investigate whether a deeper linguistic analysis e.g with a dependency parser can improve the feature extraction Acknowledgements The project was funded by means of the German Federal Ministry of Economy and Technology under the promotional reference 01MQ07012 The authors take the responsibility for the contents The information in this document is proprietary to the following Theseus Texo consortium members Technische Universit  at Darmstadt The information in this document is provided as is and no guarantee or warranty is given that the information is 002t for any particular purpose The above referenced consortium members shall have no liability for damages of any kind including without limitation direct special indirect or consequential damages that may result from the use of these materials subject to any liability which is mandatory due to applicable law Copyright 2008 by Technische Universit  at Darmstadt References  R Agra w al and R Srikant F ast algorithms for mining association rules Proc 20th Int Conf Very Large Data Bases VLDB  1215:487–499 1994  K Bloom N Gar g and S Ar g amon Extracting a ppraisal expressions In HLT-NAACL 2007  pages 308–315 2007  R Bruce and J W iebe Recognizing subjecti vity a case study in manual tagging Natural Language Engineering  5\(02 1999  K Da v e S La wrence and D Pennock Mi ning the peanut gallery opinion extraction and semantic classi\002cation of product reviews In Proceedings of the 12th International Conference on World Wide Web  pages 519–528 New York NY USA 2003 ACM  T  Dunning Accurate methods for the statistics of surprise and coincidence Computational Linguistics  19\(1 1993  O Feiguina and G Lapalme Query-based summ arization of customer reviews In Canadian Conference on AI  pages 452–463 2007  C Fellbaum Wordnet An Electronic Lexical Database  MIT Press 1998  A Ferraresi Building a v ery lar ge corpus of english obtained by web crawling ukwac Master's thesis University of Bologna Italy 2007  M Gamon A Aue S Corston-Oli v er  and E Ringger  Pulse Mining customer opinions from free text In Proceedings of the 6th International Symposium on Intelligent Data Analysis IDA-2006  Springer-Verlag 2005  N Glance M Hurst K Nig am M Sie gler  R Stockton and T Tomokiyo Deriving marketing intelligence from online discussion In Proceedings of the 11th ACM SIGKDD International Conference on Knowledge Discovery in Data Mining  pages 419–428 New York USA 2005 ACM  M Hu and B Liu Mining opinion features in customer reviews In Proceedings of 9th National Conference on Arti\002cial Intelligence  2004  N K obayashi K Inui K T atei shi and T  Fukushima Collecting evaluative expressions for opinion extraction In Proceedings of IJCNLP 2004  pages 596–605 2004  S Morinag a K Y amanishi K T ateishi and T  Fukushima Mining product reputations on the Web In Proceedings of KDD-02 8th ACM International Conference on Knowledge Discovery and Data Mining  pages 341–349 Edmonton CA 2002 ACM Press  A.-M Popescu and O Etzioni Extracting product features and opinions from reviews In Proceedings of HLT-EMNLP-05 the Human Language Technology Conference/Conference on Empirical Methods in Natural Language Processing  pages 339–346 Vancouver CA 2005  H Schmid T reetagger a language independent part-ofspeech tagger Institut fur Maschinelle Sprachverarbeitung Universitat Stuttgart  1995  J W iebe R Bruce and T  O'Hara De v elopment and use of a gold-standard data set for subjectivity classi\002cations In Proceedings of the 37th annual meeting of the Association for Computational Linguistics on Computational Linguistics  pages 246–253 Association for Computational Linguistics Morristown NJ USA 1999  J Y i T  Nasuka w a R Bunescu and W  Niblack Sentiment analyzer Extracting sentiments about a given topic using natural language processing techniques In Proceeding of ICDM-03 the 3ird IEEE International Conference on Data Mining  pages 427–434 Melbourne US 2003 IEEE Computer Society 
160 
151 


Figure 4 Expected and real number of extracted patterns using two promoter sequence datasets Horizontal axis minimum support vertical axis number of patterns 
85 
85 


a frequency constraint and according to the structure of the dataset These proposals are all based on a global analytical model i.e an interesting approach that needs however to develop complex and speci\036c models As a result they cannot be easily extended to handle complex conjunctions of constraints to incorporate different symbol distributions or different semantics for pattern occurrences To the best of our knowledge no method has been proposed to estimate the number of patterns satisfying a constraint while avoiding to develop a global analytical model Our approach requires only to know how to compute for a given pattern its probability to satisfy the constraint this can be obtained in many situations and it remains ef\036cient in practice by adopting a pattern space sampling scheme 6 Conclusion Using constraints to specify subjective interestingness issues and to support actionable pattern discovery has become popular Constraint-based mining techniques are now well studied for many pattern domains but one of the bottlenecks for using them within Knowledge Discovery processes is the extraction parameter tuning This is especially true in the context of differential mining where domain knowledge is used to provide different datasets to support the search of truly interesting patterns From a user perspective a simple approach would be to get graphics that depict the extraction landscape i.e the number of extracted patterns for many points in the parameter space We developed an ef\036cient technique based on pattern space sampling that provides an estimate on the number of extracted patterns This has been applied to non trivial substring pattern mining tasks and we demonstrated by means of many experiments that the technique is effective It provides reasonable estimates given execution times that enable to probe a large number of points in the parameter space Notice that domain knowledge is also exploited here when selecting the distribution model Future directions of work include to adapt the approach to other pattern domains and to different constraints Another interesting aspect to investigate is the use of more sophisticated sampling schemes e.g that could b e incorporated in the approach when more complex syntactical constraints are handled e.g a grammar to specify the shape of the patterns Acknowledgments This work is partly funded by EU contract IQ FP6-516169 Inductive Queries for Mining Patterns and Models and by the French contract ANR-MDCO14 Bingo2 Knowledge Discovery For and By Inductive Queries We thank Dr Olivier Gandrillon from the Center for Molecular and Cellular Genetics CNRS UMR 5534 who provided the DNA promoter sequences References  J F  Boulicaut L De Raedt and H  M annila e ditors Constraint-Based Mining and Inductive Databases  volume 3848 of LNCS  Springer 2005  C  B resson C K e ime C F a ure Y  Letrillard M  B arbado S San\036lippo N Benhra O Gandrillon and S GoninGiraud Large-scale analysis by SAGE revealed new mechanisms of v-erba oncogene action BMC Genomics  8\(390 2007  L  C ao and C  Z hang Domain-dri v e n actionable kno wledge discovery in the real world In Proceedings PAKDDÕ06 volume 3918 of LNCS  pages 821–830 Springer 2006  G  D ong and J  L i Ef 036cient mining of emer ging patterns discovering trends and differences In Proceedings ACM SIGKDDÕ99  pages 43–52 1999  F  Geerts B  G oethals and J  V  d en Bussche T ight upper bounds on the number of candidate patterns ACM Trans on Database Systems  30\(2 2005  U  K eich and P  A  P e vzner  S ubtle motifs de\036ning the limits of motif 036nding algorithms Bioinformatics  18\(10 2002  S  K ramer  L De Raedt and C  Helma M olecular f eature mining in HIV data In Proceedings KDDÕ01  pages 136 143 2001  L  L hote F  Rioult and A  S oulet A v e rage number of frequent closed patterns in bernouilli and markovian databases In Proceedings IEEE ICDMÕ05  pages 713–716 2005  I  M itasiunaite a nd J.-F  B oulicaut Looking for monotonicity properties of a similarity constraint on sequences In Proceedings of ACM SACÕ06 Data Mining  pages 546–552 2006  I Mitasiunaite and J F  Boulicaut Introducing s oftness i nto inductive queries on string databases In Databases and Information Systems IV  pages 117–132 IOS Press 2007  I Mitasiunaite C Rigotti S Schicklin L  M e yniel J F  Boulicaut and O Gandrillon Extracting signature motifs from promoter sets of differentially expressed genes Technical report LIRIS CNRS UMR 5205 INSA Lyon France 2008 23 pages Submitted  G Ramesh W  M aniatty  a nd M J Zaki F easible itemset distributions in data mining theory and application In Proceedings ACM PODSÕ03  pages 284–295 2003  F  Zelezn  y Ef\036cient sampling in relational feature spaces In Proceedings ILPÕ05  volume 3625 of LNCS  pages 397 413 Springer 2005 
86 
86 


